/* @preserve sni-vpc - v1.13.0 - Wed Nov 20 21:05:58 UTC 2019 */
!function(exports){"use strict";function baseHas(object,key){return null!=object&&hasOwnProperty.call(object,key)}function getRawTag(value){var isOwn=hasOwnProperty$1.call(value,symToStringTag$1),tag=value[symToStringTag$1];try{value[symToStringTag$1]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag$1]=tag:delete value[symToStringTag$1]),result}function objectToString(value){return nativeObjectToString$1.call(value)}function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}function isObjectLike(value){return null!=value&&"object"==typeof value}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function toSource(func){if(null!=func){try{return funcToString$1.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function baseIsNative(value){if(!isObject(value)||isMasked(value))return!1;var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function getValue$1(object,key){return null==object?void 0:object[key]}function getNative(object,key){var value=getValue$1(object,key);return baseIsNative(value)?value:void 0}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty$3.call(data,key)?data[key]:void 0}function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty$4.call(data,key)}function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED$1:value,this}function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[],this.size=0}function eq(value,other){return value===other||value!==value&&other!==other}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0)return!1;var lastIndex=data.length-1;return index==lastIndex?data.pop():splice.call(data,index,1),--this.size,!0}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}function memoizeCapped(func){var result=memoize(func,function(key){return cache.size===MAX_MEMOIZE_SIZE&&cache.clear(),key}),cache=result.cache;return result}function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function toString(value){return null==value?"":baseToString(value)}function castPath(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function isIndex(value,length){return length=null==length?MAX_SAFE_INTEGER:length,!!length&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER$1}function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY$1?"-0":result}function hasPath(object,path,hasFunc){path=castPath(path,object);for(var index=-1,length=path.length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:(length=null==object?0:object.length,!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object)))}function has(object,path){return null!=object&&hasPath(object,path,baseHas)}function baseAssignValue(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty$7.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;void 0===newValue&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}function identity(value){return value}function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function overRest(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}function constant(value){return function(){return value}}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto$9;return value===proto}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function stubFalse(){return!1}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseUnary(func){return function(value){return func(value)}}function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty$8.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty$9.call(object,key)&&"constructor"!=key&&result.push(key);return result}function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function createCommonjsModule(fn,module){return module={exports:{}},fn(module,module.exports),module.exports}function removeMetaTagsByName(parentNode,metaName){for(var metaTags=Array.prototype.slice.call(parentNode.querySelectorAll('meta[name="'+metaName+'"]'));metaTags.length>0;)parentNode.removeChild(metaTags.pop())}function addMetaTag(targetNode,name,content){var metaTag=document.createElement("meta");metaTag.setAttribute("name",name),metaTag.setAttribute("content",content),targetNode.appendChild(metaTag)}function enableLazyLoadHack(target){var lazyAnchor=document.createElement("div");return lazyAnchor.setAttribute("class","tpPlayer"),lazyAnchor.setAttribute("id","lazy_load_hack"),lazyAnchor.setAttribute("style","visibility:hidden;"),target.appendChild(lazyAnchor),lazyAnchor}function appendLazyLoadHack(){return document.body?enableLazyLoadHack(document.body):void index(appendLazyLoadHack)}function uuIdHelp(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function Overlay(player){var overlay=this;util.log("Overlay initialialization script called.","SNI.Video.Overlay","INFO"),overlay.player=player,overlay.$root=jQuery$1(root$3),player.subscribe("PlayerReady",overlay.render.bind(overlay)),player.subscribe("ShowCaptionCard ShowEmbedCard ShowEndCard AdobePassModalOpened",overlay.hide.bind(overlay)),player.subscribe("HideCaptionCard HideEmbedCard HideEndCard AdobePassModalClosed",overlay.show.bind(overlay))}function OverlayFactory(player){return new Overlay(player)}function isEmpty(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag$1(value);if(tag==mapTag$1||tag==setTag$1)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty$10.call(value,key))return!1;return!0}function applyBackwardsCompatibleStyles(player){for(var propName,settingValue,head,style,settings=player.config.player,newStyles={},index$$1=0,styleProps=["controlBackgroundColor","controlColor","controlSelectedColor","loadProgressColor","playProgressColor","scrubberColor","scrubTrackColor","textColor","controlHoverColor"],css="/* Backwards-compatibility CSS generated via SNI.Video.Controls */\n",cssPrefix="\n.tpPlayer .player .controlRack ",cssPostFix="; }\n";index$$1<styleProps.length;index$$1++)propName=styleProps[index$$1],settingValue=settings[propName],settingValue&&(newStyles[propName]=settingValue.replace(/0x/g,"#"));isEmpty(newStyles)||(head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),style.type="text/css",newStyles.controlHoverColor&&(css+=cssPrefix+".control:hover { color: "+newStyles.controlHoverColor,css+=cssPostFix,css+=cssPrefix+".control:hover .fillLayer { fill: "+newStyles.controlHoverColor,css+=cssPostFix),newStyles.controlBackgroundColor&&(css+=cssPrefix+".controlsWrapper,"+cssPrefix+".volumeWrapper { background-color: "+newStyles.controlBackgroundColor,css+=cssPostFix),newStyles.controlColor&&(css+=cssPrefix+".control,"+cssPrefix+".fillLayer { color: "+newStyles.controlColor+"; fill: "+newStyles.controlColor,css+=cssPostFix,css+=cssPrefix+".controlTimer:hover { color: "+newStyles.controlColor,css+=cssPostFix),newStyles.controlSelectedColor&&(css+=cssPrefix+".active .fillLayer { fill: "+newStyles.controlSelectedColor,css+=cssPostFix),newStyles.scrubTrackColor&&(css+=cssPrefix+".progressBar { background-color: "+newStyles.scrubTrackColor,css+=cssPostFix),newStyles.loadProgressColor&&(css+=cssPrefix+".loaded { background-color: "+newStyles.loadProgressColor,css+=cssPostFix),newStyles.playProgressColor&&(css+=cssPrefix+".played { background-color: "+newStyles.playProgressColor,css+=cssPostFix),newStyles.scrubberColor&&(css+=cssPrefix+".scrubTick { background-color: "+newStyles.scrubberColor,css+=cssPostFix),newStyles.textColor&&(css+=cssPrefix+".scrubTimer,"+cssPrefix+".controlTimer { color: "+newStyles.textColor,css+=cssPostFix),style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css)),head.appendChild(style))}function Controls(player,settings){var controls=this,done=controls.bindDomInteractions.bind(controls);util.log("Controls initialialization script called.","SNI.Video.Controls","INFO"),controls.player=player,controls.settings=settings,controls.enabled=!1,controls.$root=jQuery$1(root$4),controls.player.overlay.addContent(controls.$root).then(done),applyBackwardsCompatibleStyles(player),player.subscribe("OnShowPlayOverlay ShowCaptionCard ShowEmbedCard ShowEndCard",controls.disable.bind(controls)),player.subscribe("OnMediaLoadStart HideCaptionCard HideEmbedCard HideEndCard",controls.enable.bind(controls)),player.subscribe("OnMediaStart",controls.stopIframeTabbing.bind(controls)),player.subscribe("OnMediaStart",function(event){var clip=event.data,zIndex="";clip.baseClip.isAd&&(zIndex="2147483647"),controls.$root.css("z-index",zIndex)})}function ControlsFactory(player,settings){return new Controls(player,settings)}function template(){return'<form class="controlRack">\n                <div class="controlsWrapper">\n\n                    <div class="mainControls">\n                        <div class="controlGroup">\n                            <button class="control controlPlay ssFont" type="button" style="display:none;" title="Play" aria-label="Play">\n                                &#x25B6;\n                            </button>\n                            <button class="control controlPause ssFont" type="button" title="Pause" aria-label="Pause">\n                                &#xE8A0;\n                            </button>\n                        </div>\n                    </div>\n\n                    <div class="ancillaryControls">\n\n                    </div>\n\n                    <div class="timerControls">\n                        <div class="controlGroup">\n                            <div class="control controlTimer">0:00</div>\n                        </div>\n                    </div>\n\n                    <div class="scrubControls" role="slider" tabindex="0" aria-label="Playback slider" aria-valuemin="0" aria-valuemax="0" aria-valuenow="0" aria-valuetext="0:00 of 0:00">\n                        <div class="controlGroup">\n                            <div class="progressBar total">&nbsp;</div>\n                            <div class="progressBar loaded">&nbsp;</div>\n                            <div class="progressBar played">&nbsp;</div>\n                            <div class="control scrubTick progressHoverToggle" style="display:none">&nbsp;</div>\n                        </div>\n                    </div>\n\n                    <div class="progressHover progressHoverToggle" style="display:none;">\n                        <div class="control scrubTimer">0:00</div>\n                    </div>\n\n                </div>\n            </form>'}function getPlayerWidth(player){return player.$container.find("video, object").width()}function cacheFactory($root){function getFromCache(selector){return void 0===collection[selector]&&(collection[selector]=$root.find(selector)),collection[selector]}var collection={};return getFromCache}function getFormatedTime(milliseconds){var seconds=0,minutes=0;return(isNaN(milliseconds)||milliseconds<0)&&(milliseconds=0),seconds=Math.round(milliseconds/1e3),minutes=Math.floor(seconds/60),seconds%=60,minutes+":"+(seconds<10?"0"+seconds:seconds)}function ControlRack(player){var controlRack=this,done=controlRack.controlRackAdded.bind(controlRack);util.log("ControlRack initialialization script called.","SNI.Video.ControlRack","INFO"),controlRack.player=player,controlRack.$root=jQuery$1(template()),controlRack.selectorCache=cacheFactory(controlRack.$root),controlRack.totalLength=0,controlRack.loaded=0,player.subscribe("ControlsLayerReady",function(){controlRack.player.controls.addControl(controlRack.$root).then(done)}),player.subscribe("PlayerResize",controlRack.playerResize.bind(controlRack)),player.subscribe("OnMediaPlaying",controlRack.onMediaPlaying.bind(controlRack)),player.subscribe("OnMediaPause",controlRack.onMediaPause.bind(controlRack)),player.subscribe("OnMediaLoading",controlRack.onMediaLoading.bind(controlRack)),player.subscribe("OnMediaLoadStart",controlRack.onMediaLoadStart.bind(controlRack)),player.subscribe("ChromecastPlaying",controlRack.chromecastPlaying.bind(controlRack)),player.subscribe("ChromecastPaused",controlRack.chromecastPaused.bind(controlRack)),player.subscribe("ChromecastEnd",controlRack.chromecastEnd.bind(controlRack)),player.subscribe("ChromecastProgress",controlRack.chromecastProgress.bind(controlRack)),player.subscribe("OnReleaseStart",function(event){function addMarker(time){var percentage=time/duration*100;index(function(){target.append('<div class="adMarker" style="left:'+percentage+'%" >')})}var clips=event.data.clips,duration=event.data.release.duration,target=controlRack.selectorCache(selectors.scrubControls+" .controlGroup"),clipTime=0,index$$1=0;for(index(function(){target.find(".adMarker").remove()});index$$1<clips.length;index$$1++){var clip=clips[index$$1];clip.baseClip.isAd?addMarker(clipTime):clipTime=clip.endTime}}),player.subscribe("OnMediaStart",function(event){var clip=event.data,isAd=clip.baseClip.isAd;controlRack.selectorCache(selectors.adMarkers).toggle(!isAd),responsive.isSmallPlayer(player)||(controlRack.selectorCache(selectors.scrubControls).toggle(!isAd),controlRack.$root.css("right",isAd?"auto":""))}),player.subscribe("OverlayLayerReady",function(){var videoTag=player.$container.find("video")[0];videoTag.addEventListener("play",function(){index(function(){controlRack.selectorCache(selectors.play).hide(),controlRack.selectorCache(selectors.pause).show()})},!0),videoTag.addEventListener("pause",function(){index(function(){controlRack.selectorCache(selectors.play).show(),controlRack.selectorCache(selectors.pause).hide()})},!0)})}function ControlRackFactory(player){return new ControlRack(player)}function getCurrentPerformanceData(){var performanceData={memoryUsage:null,memoryTotal:null,cpuUtilization:null,cpuCores:window.navigator.hardwareConcurrency||null};return window.performance&&window.performance.memory&&(performanceData.memoryUsage=window.performance.memory.usedJSHeapSize||null,performanceData.memoryTotal=window.performance.memory.totalJSHeapSize||null),performanceData}function preferredProvidersTemplate(logoUrlRoot,items){for(var out="",index=0;index<items.length;index++){var item=items[index];out+='<li class="preferredProvider">\n                    <button type="button" class="providerThumb" value="'+util.getTemplateSafeString(item.ID)+'">\n                        <img alt="'+util.getTemplateSafeString(item.displayName)+'" src="'+util.getTemplateSafeString(logoUrlRoot)+util.getTemplateSafeString(item.logoURL)+'" />\n                    </button>\n                </li>'}return out}function getProviderText(helpUrl,helpText){var out="";return helpUrl&&helpText&&(out='<div class="providerHelp">\n                    <a href="'+util.getTemplateSafeString(helpUrl)+'">'+util.getTemplateSafeString(helpText)+"</a>\n                </div>"),out}function getProviderList(alphabeticalProviders){var out="";for(var providerGroup in alphabeticalProviders){out+='<li class="groupItem">\n                    <h3 class="providerGroup">'+util.getTemplateSafeString(providerGroup)+"</h3>\n                </li>";for(var index=0;index<alphabeticalProviders[providerGroup].length;index++){var item=alphabeticalProviders[providerGroup][index];out+='<li class="providerItem">\n                        <button type="button" value="'+util.getTemplateSafeString(item.ID)+'">'+util.getTemplateSafeString(item.displayName)+"</button>\n                    </li>"}}return out}function template$2(it){return'<div class="tpAdobePass tpPlayerCard">\n                <div class="tpHead">\n                    <button type="button" class="tpClose"><img alt="Close" src="'+util.getTemplateSafeString(video.vpcBaseUrl)+'/img/icon-close.png" /></button>\n\n                    <h1>'+util.getTemplateSafeString(it.titleText)+"</h1>\n                </div>\n\n                <p>"+util.getTemplateSafeString(it.providerActionText)+'</p>\n\n                <div class="preferredProviders">\n                    <ul class="preferredProviderList clearfix">\n                    '+preferredProvidersTemplate(it.logoUrlRoot,it.preferredProviders)+'\n                    </ul>\n\n                    <div class="providerFooter">\n                        <button type="button" class="allProvidersCta">'+util.getTemplateSafeString(it.allProvidersText)+"</button>\n                        "+getProviderText(it.helpUrl,it.helpText)+'\n                    </div>\n                </div>\n\n                <div class="allProviders" style="display:none;">\n                    <div class="providers-search-wrap">\n                        <input id="providers-search" class="providers-search" type="search" placeholder="'+util.getTemplateSafeString(it.searchPlaceholderText)+'" />\n                        <button type="button" class="providers-search-clear" style="display:none;" title="Clear Search Box" />\n                    </div>    \n                    <div class="providerListWrap">\n                        <ul class="providerList">\n                            '+getProviderList(it.alphabeticalProviders)+'\n                            <li class="emptySearchResults" style="display:none;">'+util.getTemplateSafeString(it.emptySearchResultsText)+'</li>\n                        </ul>\n                    </div>\n\n                    <div class="providerFooter">\n                        <div class="backButtonWrap">\n                            <button type="button" class="backButton">'+util.getTemplateSafeString(it.backText)+"\n                        </div>\n\n                        "+getProviderText(it.helpUrl,it.helpText)+"\n                    </div>\n                </div>\n            </div>"}function template$4(it){var out='<div class="mvpdState">';return it.currentProvider?(out+='<div class="mvpdLoggedIn">\n    <div class="mvpdLogo">',out+=it.currentProvider.providerURL?'<a href="'+util.getTemplateSafeString(it.currentProvider.providerURL)+'" target="_blank" rel="noopener">\n    <img alt="'+util.getTemplateSafeString(it.currentProvider.displayName)+'" src="'+util.getTemplateSafeString(it.logoUrlRoot)+util.getTemplateSafeString(it.currentProvider.logoURL)+'" />\n</a>':'<img alt="'+util.getTemplateSafeString(it.currentProvider.displayName)+'" src="'+util.getTemplateSafeString(it.logoUrlRoot)+util.getTemplateSafeString(it.currentProvider.logoURL)+'" />\n            ',out+='</div>\n    <button type="button" class="mvpdLogout">'+util.getTemplateSafeString(it.signOutText)+"</button>\n</div>"):out+='<div class="mvpdLoggedOut">\n    <button type="button" class="mvpdLogin">'+util.getTemplateSafeString(it.signInText)+"</button>\n</div>",out+"</div>"}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED$2),this}function setCacheHas(value){return this.__data__.has(value)}function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function cacheHas(cache,key){return cache.has(key)}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG$2,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG$1?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag$2:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag$1:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag$1:case dateTag$1:case numberTag$1:return eq(+object,+other);case errorTag$1:return object.name==other.name&&object.message==other.message;case regexpTag$1:case stringTag$1:return object==other+"";case mapTag$3:var convert=mapToArray;case setTag$3:var isPartial=bitmask&COMPARE_PARTIAL_FLAG$3;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG$2,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag$1:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}function stubArray(){return[]}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG$4,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty$12.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack.delete(object),stack.delete(other),result}function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag$1:getTag$1(object),othTag=othIsArr?arrayTag$1:getTag$1(other);objTag=objTag==argsTag$2?objectTag$2:objTag,othTag=othTag==argsTag$2?objectTag$2:othTag;var objIsObj=objTag==objectTag$2,othIsObj=othTag==objectTag$2,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;
objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG$1)){var objIsWrapped=objIsObj&&hasOwnProperty$11.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty$11.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack))}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result))return!1}}return!0}function isStrictComparable(value){return value===value&&!isObject(value)}function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}function baseMatches(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseGet(object,path){path=castPath(path,object);for(var index=0,length=path.length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}function get$1(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}function baseHasIn(object,key){return null!=object&&key in Object(object)}function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get$1(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG$5|COMPARE_UNORDERED_FLAG$3)}}function baseProperty(key){return function(object){return null==object?void 0:object[key]}}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=baseIteratee(predicate,3);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:void 0}}function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toFinite(value){if(!value)return 0===value?value:0;if(value=toNumber(value),value===INFINITY$2||value===-INFINITY$2){var sign=value<0?-1:1;return sign*MAX_INTEGER}return value===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}function findIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax$1(length+index,0)),baseFindIndex(array,baseIteratee(predicate,3),index)}function alreadyExists(playerName){return!!find(playersArray,function(player){return player.config.player.containerId===playerName})}function addPlayer(player){playersArray.push(player),window.SNI.Video.Players[player.config.player.containerId]=player}function getPlayer(playerId){return find(playersArray,function(player){return player.config.player.containerId===playerId})}function getPlayers(){return playersArray}function getPlayersAsObject(){var players={};return playersArray.forEach(function(player){return players[player.config.player.containerId]=player})}function getEventsArray(eventName){var eventNames=eventName;return eventName.constructor===Array?eventNames=eventName:"string"==typeof eventName?eventNames=eventName.split(" "):util.log("Invalid eventName value passed to SNI.Video.Events: "+eventName,"SNI.Video.Events.publish","WARN"),eventNames}function getAuthorizationRSS(requestorId,title,rating,ratingScheme){var ratingString="";return rating&&ratingScheme&&(ratingString='<media:rating scheme="'+ratingScheme+'">'+rating+"</media:rating>"),'<rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/"><channel><title>'+requestorId+"</title><item><title>"+title+"</title>"+ratingString+"</item></channel></rss>"}function AdobePass(player,settings){var adobePass=this;if(adobePass.settings=settings||defaults,adobePass.settings.alphabeticalProviders={},adobePass.settings.currentProvider=null,null===adobePass.settings.requestorId)return void util.log("AdobePass settings must include a 'requestorId'","SNI.Video.AdobePass","INFO");util.log("AdobePass initialialization script called.","SNI.Video.AdobePass","INFO"),adobePass.$root=jQuery$1(root$5),jQuery$1("body").append(adobePass.$root),adobePass.loadDependencies();var loggedInDeffered=new es6Promise.Promise(function(resolve,reject){adobePass.setAuthenticationStatus=function(isLoggedIn){isLoggedIn=!!isLoggedIn,isLoggedIn?accessEnabler.getSelectedProvider():adobePass.renderMvpdState(),resolve(isLoggedIn)}});adobePass.isLoggedIn=function(){return loggedInDeffered.done=loggedInDeffered.then,loggedInDeffered};var entitlementDeffered=new es6Promise.Promise(function(resolve,reject){adobePass.entitlementLoaded=function(){accessEnabler.setRequestor(adobePass.settings.requestorId),accessEnabler.checkAuthentication(),resolve()}});adobePass.isEntitlementLoaded=function(){return entitlementDeffered},adobePass.bindGlobalEvents()}function insertControlBLocker(player){player.overlay.addContent('<div class="controlBlocker tpPlayerCard"></div>').then(function($html){$html.on("click",function(){accessEnabler.getAuthentication()})})}function removeControlBlockers(player){var selector=".controlBlocker";index(function(){player&&player.$container.find(selector).remove()})}function AdobePassFactory(player,settings){return singletonCreated||(singletonCreated=!0,adobePassSingleton=new AdobePass(player,settings)),player&&settings&&settings.enabled&&(player.subscribe("OnSetReleaseUrl",function(){index(function(){player.$container.find(".tpVideoBlocker").css({background:"transparent none no-repeat center center"})})}),player.loadReleaseUrl=function(url,autoplay,userInitiated){player.currentVideo.releaseUrl=url,player.currentVideo.autoplay=autoplay||player.config.player.autoplay,player.endedNaturally=!1,$pdk.controller.clearCurrentRelease(player.getScopes()),player.publish("OnShowPlayOverlay",!0),player.currentVideo.thumbnailUrl&&index(function(){player.$container.find(".tpVideoBlocker").css({background:"transparent url('"+player.currentVideo.thumbnailUrl+"') no-repeat center center","background-size":"cover","z-index":"800",display:"block"})}),insertControlBLocker(player),adobePassSingleton.isEntitlementLoaded().then(function(){adobePassSingleton.isLoggedIn().then(function(isLoggedIn){if(isLoggedIn){var video=player.currentVideo,rating="",scheme="",rss="";video.ratings&&video.ratings.length>0&&(rating=video.ratings[0].rating,scheme=video.ratings[0].scheme),rss=getAuthorizationRSS(adobePassSingleton.settings.requestorId,video.title,rating,scheme),awaitingAuth=player,accessEnabler.getAuthorization(rss)}else player.currentVideo.restricted?player.config.adobePass.promptImmediately&&accessEnabler.getAuthentication():(removeControlBlockers(player),SNI.Video.Player.prototype.loadReleaseUrl.call(player,player.currentVideo.releaseUrl,player.currentVideo.autoplay,userInitiated))})})}),adobePassSingleton}function AkamaiHD(player,settings){function isIOS8(){var deviceAgent=navigator.userAgent.toLowerCase(),regex=/(iphone|ipod|ipad).* os 8_/;return regex.test(deviceAgent)}return util.log("AkamaiHD initialialization script called.","SNI.Video.AkamaiHD","INFO"),isIOS8()?void util.log("AkamaiHD disabled on iOS8 devices do to PDK bug.","SNI.Video.AkamaiHD","INFO"):(this.player=player,this.settings=settings,void plugins.registerPdkPlugin(player,"AkamaiHD",settings.pdkPlugin.settings,settings.pdkPlugin.html5Settings))}function AkamaiHDFactory(player,settings){return new AkamaiHD(player,settings)}function arrayEach(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&iteratee(array[index],index,array)!==!1;);return array}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function castFunction(value){return"function"==typeof value?value:identity}function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,castFunction(iteratee))}function channelArrayToObject(channelSettings,startingChannelIndex){var channelObject=channelSettings;return isArray(channelSettings)&&(channelObject={enabled:!0,startingChannelIndex:startingChannelIndex||0,channels:channelSettings}),channelObject}function scrubChannels(channels){return forEach(channels,function(channel,channelIdx){forEach(channel.videos,function(video,videoIdx){isEmpty(video)&&channels[channelIdx].videos.splice(videoIdx,1)})}),channels}function Channels(player,settings){util.log("Channels initialialization script called.","SNI.Video.Channels","INFO"),this.player=player,this.settings=channelArrayToObject(settings||defaults$1,player.config.startingChannelIndex),player.currentChannelIdx=this.settings.startingChannelIndex,player.currentVideoIdx=this.settings.channels[player.currentChannelIdx].start||0,this.settings.channels=scrubChannels(this.settings.channels),util.log("Instantiated channel player with "+this.settings.channels.length+" channels","SNI.Video.Player","INFO"),this.setCurrentVideo(player.currentVideoIdx,!player.config.player.autoplay),player.setCurrentVideo=this.setCurrentVideo.bind(this),player.loadVideo=this.loadVideo.bind(this),player.setCurrentChannel=this.setCurrentChannel.bind(this),player.loadChannel=this.loadChannel.bind(this),player.getVideoUrl=this.getVideoUrl.bind(this),player.getNext=this.getNext.bind(this),player.hasNext=this.hasNext.bind(this),player.playNext=this.playNext.bind(this),player.hasPrevious=this.hasPrevious.bind(this),player.playPrevious=this.playPrevious.bind(this)}function ChannelsFactory(player,settings){return new Channels(player,settings)}function template$5(){return'<span class="_fwph" id="300x60slot">\n            <style>\n              #_fw_container_300x60slot span\n              {\n                margin:0px!important;\n              }\n              /** IE 11 scrollbar fix **/\n              #_fw_container_300x60slot body {\n                overflow: hidden;\n              }\n            </style>\n            <form style="display: none" id="_fw_form_300x60slot">\n              <input type="hidden" width="320" height="60" value="w=320&amp;h=60&amp;cd=300,60|320,50" id="_fw_input_300x60slot" name="_fw_input_300x60slot">\n            </form>\n            <span class="_fwac" id="_fw_container_300x60slot">\n            </span>\n          </span>\n\n          <span id="900x650slot" class="_fwph hide">\n            <form id="_fw_form_900x650slot" class="hide">\n              <input type="hidden" name="_fw_input_900x650slot" id="_fw_input_900x650slot" value="w=900&amp;h=650&amp;cd=900,650&amp;envp=g_js&amp;sflg=-nrpl&amp;prct=text/html_doc_lit_mobile,text/html_doc_ref,text/html_lit_nowrapper;">\n            </form>\n            <span id="_fw_container_900x650slot" class="_fwac">\n              <span class="hide"></span>\n            </span>\n          </span>'}function Freewheel(player,settings){function setLogLevel(){if(window.tpLogLevel&&tv&&tv.freewheel&&tv.freewheel.SDK&&tv.freewheel.SDK.setLogLevel)switch(window.tpLogLevel){case"none":tv.freewheel.SDK.setLogLevel(tv.freewheel.SDK.LOG_LEVEL_QUIET);break;case"debug":tv.freewheel.SDK.setLogLevel(tv.freewheel.SDK.LOG_LEVEL_DEBUG)}player.unsubscribe("OnMediaLoadStart",setLogLevel)}var containerId=player.getContainerId();util.log("Ads initialialization script called.","SNI.Video.Freewheel","INFO"),$freewheelAdHtml||($freewheelAdHtml=jQuery$1(template$5())),currentPlayerId=containerId,this.player=player,this.settings=settings||defaults$2,plugins.registerPdkPlugin(player,"freewheel",settings.pdkPlugin.settings,settings.pdkPlugin.html5Settings),player.subscribe("OnMediaLoadStart",this.setCurrentPlayer.bind(this)),player.subscribe("OnPlayButtonClicked",this.setCurrentPlayer.bind(this)),player.config.player.autoplay===!0&&this.setCurrentPlayer(),this.setFreewheelContainer(),player.subscribe("OnMediaLoadStart",setLogLevel)}function FreewheelFactory(player,settings){return new Freewheel(player,settings)}function PlayClickToggle(player,settings){util.log("Initialization script to toggle playback on click in Video Content Area called.","SNI.Video.PlayClickToggle","INFO"),this.player=player,this.settings=settings||defaults$3,player.subscribe("OnMediaClick",function(){player.pause(!player.isPaused())}),player.subscribe("OnAdvertisementClick",function(){player.pause(!0)}),player.subscribe("PlayerReady",function(){player.$container.on("mousedown","object",function(){player.isPlayingAd()&&player.pause(!0)})})}function PlayClickToggleFactory(player,settings){return new PlayClickToggle(player,settings)}function SinglePlayback(player,settings){var callback;util.log("Single Playback initialialization script called.","SNI.Video.Play","INFO"),this.player=player,this.settings=settings||defaults$4,!player.config.player.ignoreOtherPlayers&&player.config.player.autoplay&&(otherHasAutoPlay?player.config.player.autoplay=!1:otherHasAutoPlay=!0),player.config.player.ignoreOtherPlayers||"safari_iphone"===$pdk.userAgentAxis||(callback=this.OnPlaying.bind(this),player.subscribe("OnMediaStart",callback),player.subscribe("OnMediaUnpause",callback))}function SinglePlaybackFactory(player,settings){return new SinglePlayback(player,settings)}function Watchwith(player,settings){function loadScript(){util.loadScript(watchwith.settings.mainApp)}var watchwith=this;util.log("Watchwith initialialization script called.","SNI.Video.Watchwith","INFO"),watchwith.player=player,watchwith.settings=settings||defaults$5,player.subscribe("PlayerReady",function(){player.modules.adobePass?player.modules.adobePass.isLoggedIn().then(function(isLoggedIn){isLoggedIn||loadScript()}):loadScript()})}function WatchwithFactory(player,settings){return new Watchwith(player,settings)}function getExperimentName(){var windowHost=window.location.hostname;if(inDev())return"Development";var experiment=windowHost.split(".");try{return experiment[1]}catch(err){return""}}function getEnv(){return inDev()?"2su2l99urts9a2krltsv55p93":"18ivl0rjdhi5lrcmvn369ue0g"}function inDev(){for(var url=window.location.href,devLocations=["player.video.snidigital.com",".sni.","vodVersion=origin/","author."],i=0;i<devLocations.length;i++)if(url.includes(devLocations[i]))return!0;return!1}function getEncoding(){var element=document.querySelector("meta[name='tp:PreferredFormats']");if(document.head.contains(element))return element.content}function getAssetId(){var url=mdManager.getParameter("Url"),split=url.split("/"),suffix=split[split.length-1];if(isNaN(suffix)){var suffixSplit=suffix.split("-"),finalSuffix=suffixSplit[suffixSplit.length-1];if(isNaN(finalSuffix)){var finalSplit=finalSuffix.split(".");return finalSplit[0]}return finalSuffix}return suffix}function getTitleFromAssetTitle(){var element=document.querySelector("span.pausedAssetTitle");if(document.body.contains(element))return document.getElementsByClassName("pausedAssetTitle")[0].textContent}function Mux(player,settings){console.log("MUX initialization script has been called.","SNI.Video.Mux","INFO"),this.player=player,this.settings=settings||defaults$6,plugins.registerPdkPlugin(player,"mux",settings.pdkPlugin.settings,settings.pdkPlugin.html5Settings)}function MuxFactory(player,settings){return new Mux(player,settings)}function Comscore(player,settings){util.log("Comscore initialialization script called.","SNI.Video.Comscore","INFO"),this.player=player,this.settings=settings||defaults$7,plugins.registerPdkPlugin(player,"comscore",settings.pdkPlugin.settings,settings.pdkPlugin.html5Settings)}function ComscoreFactory(player,settings){return new Comscore(player,settings)}function Conviva(player,settings){function notify(){buffering=!0,player.publish("OnMediaBuffering",clip)}function start(event){buffering=!1,clip=event.data}function cancel(){clearTimeout(timeout)}function playing(){clearTimeout(timeout),timeout=setTimeout(notify,700),buffering&&(buffering=!1,player.publish("OnMediaResume",clip))}var buffering,timeout,clip;this.player=player,this.settings=settings||defaults$8,plugins.registerPdkPlugin(player,"Conviva",settings.pdkPlugin.settings,settings.pdkPlugin.html5Settings),player.subscribe("OnMediaStart",start),player.subscribe("OnMediaPlaying",playing),player.subscribe("OnMediaPause OnMediaEnd OnMediaError",cancel)}function ConvivaFactory(player,settings){return new Conviva(player,settings)}function IasFactory(){return util.log("IAS Support has been removed.","SNi.Video.Ias","WARN"),this.settings=defaults$9,{}}function record(eventName){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var combinedData={};args&&eventName&&(assign(combinedData,defaultReportData,args),util.log('NewRelic Page action fired: "'+eventName+'" with data: '+JSON.stringify(combinedData),"SNI.Video.NewRelic","INFO"),newrelic.addPageAction(eventName,combinedData))}function NewRelic(player,settings){var newRelic=this;return util.log("NewRelic initialialization script called.","SNI.Video.NewRelic","INFO"),newrelic||newrelic.addPageAction?(newRelic.player=player,newRelic.settings=settings||defaults$10,newRelic.bufferStartTime=!1,newRelic.assetStarted=!1,newRelic.playedToEnd=!0,newRelic.videoReportData=assign({},videoReportData),player.subscribe("PlayerReady",function(){defaultReportData.videoRuntime=newRelic.player.getVideoType()}),player.subscribe("MvpdLogin",function(event){defaultReportData.mvpd=event.data.ID||null,defaultReportData.authenticated=!!defaultReportData.mvpd}),player.subscribe("OnLoadReleaseUrl OnSetReleaseUrl",newRelic.resetVideoData.bind(newRelic)),player.subscribe("OnMediaPlaying",newRelic.OnMediaPlaying.bind(newRelic)),player.subscribe("OnMediaUnpause",newRelic.OnMediaUnpause.bind(newRelic)),player.subscribe("OnMediaPause",newRelic.OnMediaPause.bind(newRelic)),player.subscribe("OnMediaSeek",newRelic.OnMediaSeek.bind(newRelic)),player.subscribe("Replay",newRelic.Replay.bind(newRelic)),player.subscribe("OnShowFullScreen",newRelic.OnShowFullScreen.bind(newRelic)),player.subscribe("OnVolumeChange",newRelic.OnVolumeChange.bind(newRelic)),player.subscribe("OnMute",newRelic.OnMute.bind(newRelic)),player.subscribe("ClosedCaptionStatus",newRelic.ClosedCaptionStatus.bind(newRelic)),player.subscribe("OnMediaClick",newRelic.OnMediaClick.bind(newRelic)),player.subscribe("OnMediaStart",newRelic.OnMediaStart.bind(newRelic)),player.subscribe("OnReleaseEnd",newRelic.OnReleaseEnd.bind(newRelic)),player.subscribe("OnMediaBufferStart",newRelic.OnMediaBufferStart.bind(newRelic)),player.subscribe("OnRenditionSwitched",newRelic.OnRenditionSwitched.bind(newRelic)),player.subscribe("PlayerReady",newRelic.AppLoadStartAndFinish),window.addEventListener("beforeunload",newRelic.AppUnload),player.subscribe("OnReleaseError",newRelic.OnReleaseError),void window.addEventListener("error",newRelic.GlobalError)):void util.log("Disabling newRelic tracking because the newrelic js has not been loaded by the host page.","SNI.Video.NewRelic","WARN")}function NewRelicFactory(player,settings){return new NewRelic(player,settings)}function Nielsen(player,settings){return util.log("Nielsen initialialization script called.","SNI.Video.Nielsen","INFO"),this.player=player,this.settings=settings||defaults$11,this.settings.apid?NOLCMB?(this.gg1=new NOLCMB.ggInitialize(this.settings),void player.subscribe("OnLoadReleaseUrl OnSetReleaseUrl",this.setVideoMeta.bind(this))):void util.log("Disabling Nielsen due to missing JS","SNI.Video.Nielsen","WARN"):void util.log('Disabling Nielsen due to unintialized "apid" value',"SNI.Video.Nielsen","WARN")}function NielsenFactory(player,settings){return new Nielsen(player,settings)}function Omniture(player,settings){util.log("Omniture initialialization script called.","SNI.Video.Omniture","INFO"),this.player=player,this.settings=settings||defaults$12,this.adPosition=1,this.adCompleted=!1,this.preRollCompleted=!1,this.lastClipWasAd=!1,this.previousTitle="",player.subscribe("OnShowFullScreen",this.OnShowFullScreen.bind(this)),player.subscribe("OnSetReleaseUrl",this.setVideoMeta.bind(this)),player.subscribe("PlayerReady",this.playerReady.bind(this))}function OmnitureFactory(player,settings){return new Omniture(player,settings)}function Ulive(player,settings){util.log("Ulive initialialization script called.","SNI.Video.Ulive","INFO"),this.player=player,this.settings=settings||defaults$13,this.registered=!1,this.sequenceNumber=0,this.contentBeganFired=!1,this.sessionId=util.Cookie.get("uliveSession")||util.Cookie.set("uliveSession",util.generateUUID(this.settings.delim),1/48),this.userId=util.Cookie.get("uliveUserId")||util.Cookie.set("uliveUserId",util.generateUUID(this.settings.delim),3650),this.registered||(player.subscribe("OnMediaStart",this.OnMediaStart.bind(this)),this.registered=!0)}function UliveFactory(player,settings){return new Ulive(player,settings)}function template$7(it){return'<div class="chromecast" style="display:none;">\n                <button type="button" class="control controlChromecast">\n                    <div class="disconnected">\n                        <svg viewBox="0 0 24 24">\n                            <g fill="none" stroke="none" stroke-width="1" fill-rule="evenodd">\n                                <path class="fillLayer" d="M1,18 L1,21 L4,21 C4,19.34 2.66,18 1,18 L1,18 Z M1,14 L1,16 C3.76,16 6,18.24 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z M1,10 L1,12 C5.97,12 10,16.03 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"></path>\n                                <rect x="0" y="0" width="24" height="24"></rect>\n                            </g>\n                        </svg>\n                    </div>\n\n                    <div class="connecting" style="display:none;">\n\n                        <svg class="step0" viewBox="0 0 24 24">\n                            <g fill="none" stroke="none" stroke-width="1" fill-rule="evenodd">\n\n                                <path class="fillLayer" d="M1,18 L1,21 L4,21 C4,19.34 2.66,18 1,18 L1,18 Z" opacity="0.3">\n                                    <animate attributeName="opacity" from="1" to="0.3" dur="1.5s" repeatCount="indefinite" fill="freeze" begin="0s" values="1; 1; 0.3; 0.3" keyTimes="0; 0.33; 0.34; 1" />\n                                </path>\n\n                                <path class="fillLayer" d="M1,14 L1,16 C3.76,16 6,18.24 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z" opacity="0.3">\n                                    <animate attributeName="opacity" from="1" to=".3" dur="1.5s" repeatCount="indefinite" fill="freeze" begin="0.5s" values="1; 1; 0.3; 0.3" keyTimes="0; 0.33; 0.34; 1" />\n                                </path>\n\n                                <path class="fillLayer" d="M1,10 L1,12 C5.97,12 10,16.03 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z" opacity="0.3">\n                                    <animate attributeName="opacity" from="1" to=".3" dur="1.5s" repeatCount="indefinite" fill="freeze" begin="1s" values="1; 1; 0.3; 0.3" keyTimes="0; 0.33; 0.34; 1" />\n                                </path>\n\n                                <path class="fillLayer" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"></path>\n                                <rect x="0" y="0" width="24" height="24"></rect>\n                            </g>\n\n                        </svg>\n                        \n                    </div>\n\n                    <div class="connected" style="display:none;">\n                        <svg viewBox="0 0 24 24">\n                            <g fill="none" stroke="none" stroke-width="1" fill-rule="evenodd">\n                                <path class="fillLayer" d="M1,18 L1,21 L4,21 C4,19.34 2.66,18 1,18 L1,18 Z M1,14 L1,16 C3.76,16 6,18.24 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z M19,7 L5,7 L5,8.63 C8.96,9.91 12.09,13.04 13.37,17 L19,17 L19,7 L19,7 Z M1,10 L1,12 C5.97,12 10,16.03 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"></path>\n                                <rect x="0" y="0" width="24" height="24"></rect>\n                            </g>\n                        </svg>\n                    </div>\n                    \n                </button>\n            </div>'}function Chromecast(player,settings){var chromecast=this,done=chromecast.bindDomInteractions.bind(chromecast);return settings.receiverAppId?(util.loadScript(settings.anvatoApiUrl,!1),util.loadScript(settings.chromecastApiUrl,!1),chromecast.player=player,chromecast.settings=settings||defaults$14,chromeApiPromise.then(function(){util.log("Chromecast API loaded successfully.","SNI.Video.Chromecast","INFO"),chromecast.setDefaults(),chromecast.initializeChromecast(),player.subscribe("ChromecastStart",chromecast.setConnectingState.bind(chromecast)),player.subscribe("ChromecastPlaying",chromecast.setConnectedState.bind(chromecast)),player.subscribe("ChromecastEnd",chromecast.setDisconnectedState.bind(chromecast)),player.subscribe("OnMediaUnpause OnMediaStart",chromecast.stopApp.bind(chromecast)),player.subscribe("OnMediaPlaying",chromecast.onMediaPlaying.bind(chromecast)),player.subscribe("ControlRackPlayButton PausedStatePlayButton",chromecast.playButton.bind(chromecast)),player.subscribe("ControlRackSeekButton",chromecast.seekButton.bind(chromecast)),player.subscribe("VolumeMuteButton",chromecast.volumeMuteButton.bind(chromecast)),player.subscribe("VolumeLevelButton",chromecast.volumeLevelButton.bind(chromecast)),player.subscribe("ClosedCaptionStatus",chromecast.closedCaptionStatus.bind(chromecast)),player.subscribe("OnLoadReleaseUrl OnSetReleaseUrl",function(){var hasMcpId=!!chromecast.player.currentVideo.mcpid;hasMcpId||util.log('Disabling chromecast for this asset. It does not have a "mcpid" value.',"SNI.Video.Chromecast","WARN"),index(function(){chromecast.$controlRoot.toggle(hasMcpId)})}),chromecast.$controlRoot=jQuery$1(template$7(settings)),player.controlRack.addAncillaryControl(chromecast.$controlRoot,settings.positionIndex).then(done)}),void chromeApiPromise.catch(function(errorInfo){util.log("Error loading Chromecast API: "+errorInfo,"SNI.Video.Chromecast","ERROR")})):void util.log('Disabling chromecast module due to empty "receiverAppId" value.',"SNI.Video.Chromecast","WARN")}function ChromecastFactory(player,settings){return new Chromecast(player,settings)}function template$8(it){return'<div class="closedCaptioning">\n                <button type="button" class="control controlClosedCaptioning" title="'+util.getTemplateSafeString(it.controlIconAltText)+'" aria-label="'+util.getTemplateSafeString(it.controlIconAltText)+'" aria-haspopup="true">\n                    <svg viewBox="0 0 20 13" xmlns="http://www.w3.org/2000/svg">\n                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                            <g class="fillLayer" transform="translate(-692.000000, -409.000000)">\n                                <g transform="translate(41.000000, 22.000000)">\n                                    <g transform="translate(651.000000, 387.000000)">\n                                        <path d="M20,6.48513244 C19.9695184,3.43680366 19.8465759,2.1083155 19.0825036,1.16926142 C18.9433042,0.966870804 18.6831945,0.851767136 18.4698232,0.707887553 C17.7199756,0.188002656 14.185125,-3.55271368e-15 10.0843325,-3.55271368e-15 C5.98353993,-3.55271368e-15 2.28002439,0.188002656 1.5454176,0.707887553 C1.31578947,0.851767136 1.05567974,0.966870804 0.902255639,1.16926142 C0.152408047,2.1083155 0.0457224141,3.43776286 0,6.48513244 C0.0457224141,9.53346123 0.153424101,10.8619494 0.903271693,11.8010035 C1.05567974,12.017782 1.31680553,12.1184977 1.54643365,12.2633365 C2.28104044,12.7976094 5.98353993,12.9712241 10.0853485,13 C14.186141,12.9712241 17.7209917,12.7976094 18.4708393,12.2633365 C18.6852266,12.1184977 18.9453363,12.017782 19.0835196,11.8010035 C19.8465759,10.8629086 19.9685023,9.53346123 20,6.48513244 Z M9.54379191,5.69667232 C9.33651697,3.31114882 7.99227799,1.90592489 5.58931112,1.90592489 C3.39361918,1.90592489 1.66734404,3.77540028 1.66734404,6.77960599 C1.66734404,9.79628127 3.24019508,11.6791854 5.84027637,11.6791854 C7.91607397,11.6791854 9.36903068,10.2355936 9.59865881,7.83760053 L7.11847186,7.83760053 C7.01991465,8.72677636 6.62670189,9.41068398 5.79658606,9.41068398 C4.48587685,9.41068398 4.24507214,8.18578912 4.24507214,6.88319929 C4.24507214,5.09141887 4.791709,4.17634472 5.69802886,4.17634472 C6.50680756,4.17634472 7.01991465,4.73076072 7.09611868,5.69763152 L9.54379191,5.69763152 L9.54379191,5.69667232 Z M18.1091242,5.69667232 C17.9018492,3.31114882 16.5576102,1.90592489 14.1536273,1.90592489 C11.9579354,1.90592489 10.2316602,3.77540028 10.2316602,6.77960599 C10.2316602,9.79628127 11.8045113,11.6791854 14.4045926,11.6791854 C16.4803902,11.6791854 17.9333469,10.2355936 18.162975,7.83760053 L15.6827881,7.83760053 C15.5842308,8.72677636 15.1910181,9.41068398 14.3609023,9.41068398 C13.0501931,9.41068398 12.8093883,8.18578912 12.8093883,6.88319929 C12.8093883,5.09141887 13.3560252,4.17634472 14.2623451,4.17634472 C15.0711238,4.17634472 15.5842308,4.73076072 15.6604349,5.69763152 L18.1091242,5.69763152 L18.1091242,5.69667232 Z"></path>\n                                    </g>\n                                </g>\n                            </g>\n                        </g>\n                    </svg>\n                </button>\n            </div>';
}function getFontColorInputs(containerId,fontColor){for(var out="",index=0;index<fontColor.length;index++){var item=fontColor[index];out+='<input type="radio" id="'+util.getTemplateSafeString(containerId)+"_tpCCTextColor_"+util.getTemplateSafeString(index)+'" class="input-hidden" value="'+util.getTemplateSafeString(item.value)+'" name="tpCCTextColors" '+(item.selected?"checked":"")+' />\n                <label for="'+util.getTemplateSafeString(containerId)+"_tpCCTextColor_"+util.getTemplateSafeString(index)+'" class="tpCCColorPicker" style="background-color:'+util.getTemplateSafeString(item.value)+';" title="'+util.getTemplateSafeString(item.colorName)+'">\n                '+util.getTemplateSafeString(item.colorName)+"\n                </label>"}return out}function getBackgroundColorInputs(containerId,backgroundColor){for(var out="",index=0;index<backgroundColor.length;index++){var item=backgroundColor[index];out+='<input type="radio" id="'+util.getTemplateSafeString(containerId)+"_tpCCBGColor_"+util.getTemplateSafeString(index)+'" class="input-hidden" value="'+util.getTemplateSafeString(item.value)+'" name="tpCCBGColors" '+(item.selected?"checked":"")+' />\n            <label for="'+util.getTemplateSafeString(containerId)+"_tpCCBGColor_"+util.getTemplateSafeString(index)+'" class="tpCCColorPicker" style="background-color:'+util.getTemplateSafeString(item.value)+';" title="'+util.getTemplateSafeString(item.colorName)+'">\n            '+util.getTemplateSafeString(item.colorName)+"\n            </label>"}return out}function getOpacityInputs(containerId,opacity){for(var out="",index=0;index<opacity.length;index++){var item=opacity[index];out+='<input type="radio" id="'+util.getTemplateSafeString(containerId)+"_tpCCOpacity_"+util.getTemplateSafeString(index)+'" value="'+util.getTemplateSafeString(item.value)+'" name="tpCCOpacity" '+(item.selected?"checked":"")+' />\n            <label for="'+util.getTemplateSafeString(containerId)+"_tpCCOpacity_"+util.getTemplateSafeString(index)+'" class="tpCCOpacityPicker">\n            '+util.getTemplateSafeString(item.opacityName)+"\n            </label>"}return out}function getFontEdgeInputs(containerId,fontEdge){for(var out="",index=0;index<fontEdge.length;index++){var item=fontEdge[index];out+='<input type="radio" id="'+util.getTemplateSafeString(containerId)+"_tpCCTextEdge_"+util.getTemplateSafeString(index)+'" class="input-hidden" value="'+util.getTemplateSafeString(item.value)+'" name="tpCCTextEdge" '+(item.selected?"checked":"")+' />\n            <label for="'+util.getTemplateSafeString(containerId)+"_tpCCTextEdge_"+util.getTemplateSafeString(index)+'" class="tpCCTextEdgePicker" title="'+util.getTemplateSafeString(item.value)+'">\n                <div class="'+util.getTemplateSafeString(item.value)+'">'+util.getTemplateSafeString(item.textEdgeName)+"</div>\n            </label>"}return out}function getFontSizeInputs(containerId,fontSize){for(var out="",index=0;index<fontSize.length;index++){var item=fontSize[index];out+='<input type="radio" id="'+util.getTemplateSafeString(containerId)+"_tpCCTextSize_"+util.getTemplateSafeString(index)+'" class="input-hidden" value="'+util.getTemplateSafeString(item.value)+'" name="tpCCTextSize" '+(item.selected?"checked":"")+' />\n            <label for="'+util.getTemplateSafeString(containerId)+"_tpCCTextSize_"+util.getTemplateSafeString(index)+'" class="tpCCTextSizePicker" style="font-size:'+util.getTemplateSafeString(item.value)+'em;line-height:1em;" title="'+util.getTemplateSafeString(item.value)+' times normal size">\n                '+util.getTemplateSafeString(item.textSizeName)+"\n            </label>"}return out}function getFontFamilyOptions(fontFamily){for(var out="",index=0;index<fontFamily.length;index++){var item=fontFamily[index];out+='<option value="'+util.getTemplateSafeString(item.value)+'" style="font-family:'+util.getTemplateSafeString(item.value)+';" '+(item.selected?"selected":"")+">"+util.getTemplateSafeString(item.fontName)+"</option>"}return out}function template$9(it){return'<div class="tpCCFrame tpPlayerCard" role="dialog" aria-labelledby="'+util.getTemplateSafeString(it.containerId)+'_cc-dialog-header">\n                <div class="tpHead clearfix">\n                    <button type="button" class="tpClose" aria-label="Close closed caption menu"><img alt="" src="'+util.getTemplateSafeString(it.vpcBaseUrl)+'/img/icon-close.png" /></button>\n\n                    <h1 id="'+util.getTemplateSafeString(it.containerId)+'_cc-dialog-header">Closed Captioning</h1>\n\n                    <div class="tpEnabler">\n                    <input type="radio" id="'+util.getTemplateSafeString(it.containerId)+'_tpCCRadioOff" value="false" name="tpCCToggle" '+(it.ccEnabled?"":"checked")+' />\n                    <label for="'+util.getTemplateSafeString(it.containerId)+'_tpCCRadioOff">OFF</label>\n\n                    <input type="radio" id="'+util.getTemplateSafeString(it.containerId)+'_tpCCRadioOn" name="tpCCToggle" value="true" '+(it.ccEnabled?"checked":"")+' />\n                    <label for="'+util.getTemplateSafeString(it.containerId)+'_tpCCRadioOn">ON</label>\n                    </div>\n\n                    <div class="tpContact">\n                    <a href="'+util.getTemplateSafeString(it.contactUrl)+'" target="'+util.getTemplateSafeString(it.contactTarget)+'">'+util.getTemplateSafeString(it.contactText)+'</a>\n                    </div>\n                </div>\n\n                <form id="'+util.getTemplateSafeString(it.containerId)+'_tpCCControls">\n\n                    <div class="tpCCGroup">\n                    <div class="tpCCCol">\n                        <div class="tpCCTextColors">\n                        <h2>'+util.getTemplateSafeString(it.fontColorTitle)+"</h2>\n                        "+getFontColorInputs(it.containerId,it.fontColor)+'\n                        </div>\n                    </div>\n                    <div class="tpCCCol">\n                        <div class="tpCCBGColors">\n                        <div class="clearfix">\n                            <h2>'+util.getTemplateSafeString(it.backgroundColorTitle)+'</h2>\n                            <div class="booleanControls">\n                            <input type="radio" id="'+util.getTemplateSafeString(it.containerId)+'_tpCCBGColor_off" value="off" name="tpCCBGColor_enabled" checked />\n                            <label for="'+util.getTemplateSafeString(it.containerId)+'_tpCCBGColor_off">Off</label>\n                            <input type="radio" id="'+util.getTemplateSafeString(it.containerId)+'_tpCCBGColor_on" value="on" name="tpCCBGColor_enabled" />\n                            <label for="'+util.getTemplateSafeString(it.containerId)+'_tpCCBGColor_on">On</label>\n                            </div>\n                        </div>\n                        '+getBackgroundColorInputs(it.containerId,it.backgroundColor)+'\n                        </div>\n                    </div>\n                    </div>\n\n\n                    <div class="tpCCGroup clearfix">\n                    <div class="tpCCCol">\n                        <div class="tpCCFont">\n                        <h2>'+util.getTemplateSafeString(it.fontFamilyTitle)+'</h2>\n                        <select name="tpCCFont">\n                        '+getFontFamilyOptions(it.fontFamily)+'\n                        </select>\n                        </div>\n                    </div>\n                    <div class="tpCCCol">\n                        <div class="tpCCOpacity">\n                        <h2>'+util.getTemplateSafeString(it.opacityTitle)+'</h2>\n                        <div class="booleanControls">\n                        '+getOpacityInputs(it.containerId,it.opacity)+'\n                        </div>\n                        </div>\n                    </div>\n                    </div>\n\n                    <div class="tpCCGroup">\n                    <div class="tpCCCol">\n                        <div class="tpCCTextEdge">\n                        <h2>'+util.getTemplateSafeString(it.fontEdgeTitle)+"</h2>\n                        "+getFontEdgeInputs(it.containerId,it.fontEdge)+'\n                        </div>\n                    </div>\n                    <div class="tpCCCol">\n                        <div class="tpCCTextSize">\n                        <h2>'+util.getTemplateSafeString(it.fontSizeTitle)+"</h2>\n                        "+getFontSizeInputs(it.containerId,it.fontSize)+'\n                        </div>\n                    </div>\n                    </div>\n\n                    <div class="tpCCGroup">\n                    <div class="tpCCPreviewWrap">\n                        <div class="tpCCPreview">\n                        <div class="tpCCText">\n                            Closed Captioning Preview\n                        </div>\n                        </div>\n                    </div>\n\n                    <button type="button" class="tpDone">Done</button>\n                    </div>\n\n                </form>\n                </div>'}function assignMergeValue(object,key,value){(void 0===value||eq(object[key],value))&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag$3)return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty$13.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString$2.call(Ctor)==objectCtorString}function nativeKeysIn(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}function baseKeysIn(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty$14.call(object,key))&&result.push(key);return result}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}function toPlainObject(value){return copyObject(value,keysIn(value))}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=object[key],srcValue=source[key],stacked=stack.get(srcValue);if(stacked)return void assignMergeValue(object,key,stacked);var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):void 0,isCommon=void 0===newValue;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):isBuff?(isCommon=!1,newValue=cloneBuffer(srcValue,!0)):isTyped?(isCommon=!1,newValue=cloneTypedArray(srcValue,!0)):newValue=[]:isPlainObject(srcValue)||isArguments(srcValue)?(newValue=objValue,isArguments(objValue)?newValue=toPlainObject(objValue):(!isObject(objValue)||srcIndex&&isFunction(objValue))&&(newValue=initCloneObject(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue)),assignMergeValue(object,key,newValue)}function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&baseFor(source,function(srcValue,key){if(isObject(srcValue))stack||(stack=new Stack),baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(object[key],srcValue,key+"",object,source,stack):void 0;void 0===newValue&&(newValue=srcValue),assignMergeValue(object,key,newValue)}},keysIn)}function getTextEdgeStyle(textEdgeName){switch(textEdgeName){case"Depressed":return"2px -2px 1px #000000";case"DropShadow":return"0px 3px 1px #000000";case"Raised":return"2px 2px 1px #000000";case"Uniform":return"2px 0px 1px #000000, 0px 2px 1px #000000, -2px 0px 1px #000000, 0px -2px 1px #000000";default:return"none"}}function sanitizeStyleSettings(settings){return settings.fontSize&&"string"==typeof settings.fontSize&&(settings.fontSize=parseFloat(settings.fontSize)),settings.opacity&&"string"==typeof settings.opacity&&(settings.opacity=parseFloat(settings.opacity)),settings.backgroundOpacity&&"string"==typeof settings.backgroundOpacity&&(settings.backgroundOpacity=parseFloat(settings.backgroundOpacity)),"null"!==settings.backgroundColor&&""!==settings.backgroundColor||(settings.backgroundColor="#000000"),settings}function ClosedCaptioning(player,settings){var caption=this,containerId=player.getContainerId(),scopes=player.getScopes(),done=caption.bindDomInteractions.bind(caption);return $pdk.isIPhone?void util.log("Disabling Closed Captioning module on iPhone.","SNI.Video.ClosedCaptioning","WARN"):(util.log("Closed Captioning initialialization script called.","SNI.Video.ClosedCaptioning","INFO"),caption.player=player,caption.cardId=containerId+cardClass,caption.settings=settings||defaults$15,caption.subtitleStyles={},caption.settings.containerId=player.config.player.containerId,caption.assetHasCaptions=!1,userSettings||(userSettings=storage.setValue(ccStorageKey,SNI.Video.Defaults.closedCaptioning.defaultSettings)),userCcEnabled=userCcEnabled||storage.setValue(ccEnabledKey,!1),caption.setPlayerStyle(userSettings),caption.toggleCaptions(userCcEnabled),caption.$controlRoot=jQuery$1(template$8(settings)).hide(),player.controlRack.addAncillaryControl(caption.$controlRoot,settings.positionIndex).then(done),$pdk.controller.addPlayerCard("forms",caption.cardId,root$6,"urn:theplatform:pdk:area:player",{},caption,1,scopes),player.subscribe("OnShowFullScreen",caption.OnShowFullScreen.bind(caption)),player.subscribe("OnMediaStart",caption.OnMediaStart.bind(caption)),player.subscribe("ChromecastCaptions",caption.chromecastCaptions.bind(caption)),player.subscribe("ChromecastStart",caption.chromecastStart.bind(caption)),void player.subscribe("ChromecastEnd",caption.chromecastEnd.bind(caption)))}function ClosedCaptioningFactory(player,settings){return new ClosedCaptioning(player,settings)}function template$10(it){return'<div class="embed">\n                <button type="button" class="control controlEmbed" title="'+util.getTemplateSafeString(it.controlIconAltText)+'" aria-label="'+util.getTemplateSafeString(it.controlIconAltText)+'" aria-haspopup="true">\n                    <svg width="100%" height="100%" viewBox="0 0 20 13" xmlns="http://www.w3.org/2000/svg">\n                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                            <g class="fillLayer" transform="translate(-650.000000, -409.000000)">\n                                <g transform="translate(41.000000, 22.000000)">\n                                    <path d="M629,393.485132 C628.969518,390.436804 628.846576,389.108316 628.082504,388.169261 C627.943304,387.966871 627.683194,387.851767 627.469823,387.707888 C626.719976,387.188003 623.185125,387 619.084332,387 C614.98354,387 611.280024,387.188003 610.545418,387.707888 C610.315789,387.851767 610.05568,387.966871 609.902256,388.169261 C609.152408,389.108316 609.045722,390.437763 609,393.485132 C609.045722,396.533461 609.153424,397.861949 609.903272,398.801003 C610.05568,399.017782 610.316806,399.118498 610.546434,399.263337 C611.28104,399.797609 614.98354,399.971224 619.085349,400 C623.186141,399.971224 626.720992,399.797609 627.470839,399.263337 C627.685227,399.118498 627.945336,399.017782 628.08352,398.801003 C628.846576,397.862909 628.968502,396.533461 629,393.485132 Z M616.770508,397.021484 L610.881836,394.460938 L610.881836,393.042969 L616.770508,390.494141 L616.770508,392.164062 L612.663086,393.734375 L616.770508,395.363281 L616.770508,397.021484 Z M617.31543,398.146484 L619.442383,389.263672 L620.678711,389.263672 L618.52832,398.146484 L617.31543,398.146484 Z M621.223633,397.027344 L621.223633,395.369141 L625.336914,393.751953 L621.223633,392.152344 L621.223633,390.505859 L627.118164,393.054688 L627.118164,394.460938 L621.223633,397.027344 Z"></path>\n                                </g>\n                            </g>\n                        </g>\n                    </svg>\n                </button>\n            </div>'}function getResponsiveoptions(options){for(var out="",index=0;index<options.length;index++){var item=options[index];out+='<option value="'+util.getTemplateSafeString(item.width)+'">'+util.getTemplateSafeString(item.width)+" X "+util.getTemplateSafeString(item.height)+"</option>"}return out}function getTextarea(fullUrl,hasExplicitSize,height,width){var out="";return out=hasExplicitSize?'<textarea rows="4" cols="100">&#60;iframe width=&#34;'+util.getTemplateSafeString(width)+"&#34; height=&#34;"+util.getTemplateSafeString(height)+"&#34; src=&#34;"+util.getTemplateSafeString(fullUrl)+"&#34; frameborder=&#34;0&#34; allowfullscreen&#62;&#60;/iframe&#62;</textarea>":'<textarea rows="4" cols="100">&#60;div style=&#34;position:relative;padding-bottom:56.25%;padding-top:30px;height:0;overflow:hidden;&#34;&#62; &#60;iframe style=&#34;position:absolute;top:0;left:0;width:100%;height:100%;&#34; src=&#34;'+util.getTemplateSafeString(fullUrl)+"&#34; frameborder=&#34;0&#34; allowfullscreen&#62;&#60;/iframe&#62; &#60;/div&#62;</textarea>"}function template$11(it){return'<div class="tpEmbedFrame tpPlayerCard" role="dialog" aria-labelledby="'+util.getTemplateSafeString(it.containerId)+'_embed-dialog-header">\n                <div class="tpHead">\n                    <button type="button" class="tpClose" aria-label="Close embed menu"><img alt="Close button" src="'+util.getTemplateSafeString(it.vpcBaseUrl)+'/img/icon-close.png" /></button>\n                    <h1 id="'+util.getTemplateSafeString(it.containerId)+'_embed-dialog-header">Embed Video</h1>\n                </div>\n\n                <form id="tpEmbedForm">\n                    '+getTextarea(it.fullUrl,it.hasExplicitSize,it.height,it.width)+'\n                    <div class="tpRow">\n                        <label for="tpResolution">Video Size</label>\n                        <select class="tpResolution" id="tpResolution">\n                            <option value="auto">responsive</option>\n                            '+getResponsiveoptions(it.options)+"\n                        </select>\n                    </div>\n                </form>\n            </div>"}function Embed(player,settings){var embed=this,containerId=player.getContainerId(),done=embed.bindDomInteractions.bind(embed);util.log("Embed initialialization script called.","SNI.Video.Embed","INFO"),embed.player=player,embed.cardId=containerId+cardClass$1,embed.settings=settings||defaults$16,embed.isVisible=!1,embed.settings.containerId=player.config.player.containerId,embed.templateData={},$pdk.controller.addPlayerCard("forms",embed.cardId,root$7,"urn:theplatform:pdk:area:media",{},embed,1,player.getScopes()),player.subscribe("OnLoadReleaseUrl OnSetReleaseUrl",embed.OnLoadReleaseUrl.bind(embed)),embed.$controlRoot=jQuery$1(template$10(settings)),player.controlRack.addAncillaryControl(embed.$controlRoot,settings.positionIndex).then(done),embed.setTemplateData(embed.settings)}function EmbedFactory(player,settings){return new Embed(player,settings)}function template$12(it){return'<div class="fullscreen">\n                <button type="button" class="control controlFullscreen ssFont" title="Full screen" aria-label="Full screen">\n                    &#x2922;\n                </button>\n                <button type="button" class="control controlSmallscreen ssFont" style="display:none;" title="Exit full screen" aria-label="Exit full screen">\n                    &#xEE01;\n                </button>\n            </div>'}function Fullscreen(player,settings){var fullscreen=this,done=fullscreen.bindDomInteractions.bind(fullscreen);util.log("Fullscreen initialialization script called.","SNI.Video.Fullscreen","INFO"),fullscreen.player=player,fullscreen.settings=settings||defaults$17,fullscreen.$controlRoot=jQuery$1(template$12(settings)),player.controlRack.addAncillaryControl(fullscreen.$controlRoot,settings.positionIndex).then(done),player.subscribe("OnShowFullscreen",fullscreen.onShowFullScreen.bind(fullscreen)),player.subscribe("ChromecastStart",fullscreen.hide.bind(fullscreen)),player.subscribe("ChromecastEnd",fullscreen.show.bind(fullscreen))}function FullscreenFactory(player,settings){return new Fullscreen(player,settings)}function template$13(it){return'<div class="volume">\n                <button type="button" class="control controlMuted ssFont" aria-label="Video is muted" style="display:none;">&#x1F508;</button>\n                <button type="button" class="control controlHalfVolume ssFont" aria-label="Video is at medium volume" style="display:none;">&#x1F509;</button>\n                <button type="button" class="control controlFullVolume ssFont" aria-label="Video is at high volume">&#x1F50A;</button>\n\n                <label for="'+util.getTemplateSafeString(it.containerId)+'_mute" class="screenReader">'+util.getTemplateSafeString(it.muteIconAltText)+'</label>\n                <input id="'+util.getTemplateSafeString(it.containerId)+'_mute" type="checkbox" class="screenReader muteState" name="muteState" />\n\n                <div class="volumeWrapper" style="display:none;">\n                    <div class="volumeMask">\n                        <div class="volumeBar">&nbsp;</div>\n                        <div class="volumeBarActive">\n                            &nbsp;\n                            <div class="volumeSlider">\n                                &nbsp;\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="control controlVolume">\n                    <label for="'+util.getTemplateSafeString(it.containerId)+'_volume" class="screenReader">'+util.getTemplateSafeString(it.controlIconAltText)+'</label>\n                    <input id="'+util.getTemplateSafeString(it.containerId)+'_volume" class="screenReader volumeState" type="range" min="0" max="100" value="100" />\n                </div>\n            </div>'}function Volume(player,settings){var volume=this,done=volume.bindDomInteractions.bind(volume);util.log("Volume initialialization script called.","SNI.Video.Volume","INFO"),volume.player=player,volume.settings=settings||defaults$18,volume.settings.containerId=player.config.player.containerId,volume.$controlRoot=jQuery$1(template$13(settings)),player.controlRack.addAncillaryControl(volume.$controlRoot,settings.positionIndex).then(done),player.subscribe("OnMute",volume.onMute.bind(volume)),player.subscribe("OnVolumeChange",volume.onVolumeChange.bind(volume)),player.subscribe("OnVolumeChange OnMute",volume.pdkVolumeChange.bind(volume)),player.subscribe("ChromecastSetVolume ChromecastSetMute",volume.chromecastVolumeChange.bind(volume)),player.subscribe("ChromecastEnd",function(){volume.setVolumeIconStates(volume.settings.muted,volume.settings.level)})}function VolumeFactory(player,settings){return new Volume(player,settings)}function AlternateEndframe(player,settings){var alternateEndframe=this,containerId=player.getContainerId();util.log("Alternate Endframe initialialization script called.","SNI.Video.AlternateEndframe","INFO"),alternateEndframe.player=player,alternateEndframe.cardId=containerId+cardClass$2,alternateEndframe.settings=settings||defaults$19,$pdk.controller.addPlayerCard("forms",alternateEndframe.cardId,root$8,"urn:theplatform:pdk:area:player",{},alternateEndframe,1,player.getScopes()),player.subscribe("OnReleaseEnd",alternateEndframe.OnReleaseEnd.bind(alternateEndframe))}function AlternateEndframeFactory(player,settings){return new AlternateEndframe(player,settings)}function template$14(it){return'<div class="tpEmbedEndFrame tpPlayerCard">\n                <div class="tpHead">\n                        <button type="button" class="tpClose"><img alt="Close" src="'+util.getTemplateSafeString(it.vpcBaseUrl)+'/img/icon-close.png" /></button>\n\n                        <h1>'+util.getTemplateSafeString(it.title)+'</h1>\n                    </div>\n\n                <form id="tpEmbedForm">\n                    <p>Enjoy more videos at <a href="'+util.getTemplateSafeString(it.videoUrl)+'" target="_blank" rel="noopener">'+util.getTemplateSafeString(it.videoLinkText)+'</a></p>\n\n                    <button type="button" class="tpDone">Close</button>\n                </form>\n            </div>'}function EmbedEndframe(player,settings){var containerId=player.getContainerId();util.log("EmbedEndframe initialialization script called.","SNI.Video.EmbedEndframe","INFO"),this.player=player,this.cardId=containerId+"_embedEndFrame",this.settings=settings||defaults$20,$pdk.controller.addPlayerCard("forms",this.cardId,root$9,"urn:theplatform:pdk:area:media",{},this,1,player.getScopes()),player.subscribe("OnReleaseEnd",this.OnReleaseEnd.bind(this))}function EmbedEndframeFactory(player,settings){return new EmbedEndframe(player,settings)}function template$15(it){var out="";return it.video0&&(out+='<div class="upnext">\n                <div class="countdown">'+util.getTemplateSafeString(it.countdown)+'</div>\n                <a href="'+util.getTemplateSafeString(it.video0.url)+'">\n                    <img src="'+util.getTemplateSafeString(it.video0.thumbnailUrl)+'" width="92" height="69">\n                    <h2>Up Next</h2>\n                    <h3>'+util.getTemplateSafeString(it.video0.title)+" <span>"+util.getTemplateSafeString(it.video0.length)+"</span></h3>\n                    <p>"+util.getTemplateSafeString(it.video0.description)+"</p>\n                </a>\n            </div>"),out+='<a class="replay" href="#"><span>Replay Video</span></a>',it.video1&&(out+='<div class="more-videos">\n            <h2>More Videos</h2>\n            <div class="video">\n                <a href="'+util.getTemplateSafeString(it.video1.url)+'">\n                <img src="'+util.getTemplateSafeString(it.video1.thumbnailUrl)+'" width="196" height="147">\n                <h3>'+util.getTemplateSafeString(it.video1.title)+" <span>"+util.getTemplateSafeString(it.video1.length)+"</span></h3>\n                </a>\n            </div>",it.video2&&(out+='<div class="video">\n                <a href="'+util.getTemplateSafeString(it.video2.url)+'">\n                    <img src="'+util.getTemplateSafeString(it.video2.thumbnailUrl)+'" width="196" height="147">\n                    <h3>'+util.getTemplateSafeString(it.video2.title)+" <span>"+util.getTemplateSafeString(it.video2.length)+"</span></h3>\n                </a>\n                </div>"),out+="</div>"),out}function template$16(it){var out="";return it.video0&&(out+='<div class="upnext">\n  <div class="countdown">'+util.getTemplateSafeString(it.countdown)+'</div>\n  <h2>Related Videos</h2>\n  <ul>\n    <li>\n      <a href="'+util.getTemplateSafeString(it.video0.url)+'">\n        <img src="'+util.getTemplateSafeString(it.video0.thumbnailUrl)+'" width="92" height="69">\n        <h3>'+util.getTemplateSafeString(it.video0.title)+" <span>"+util.getTemplateSafeString(it.video0.length)+"</span></h3>\n      </a>\n    </li>\n    ",it.video1&&(out+='<li>\n  <a href="'+util.getTemplateSafeString(it.video1.url)+'">\n    <img src="'+util.getTemplateSafeString(it.video1.thumbnailUrl)+'" width="92" height="69">\n    <h3>'+util.getTemplateSafeString(it.video1.title)+" <span>"+util.getTemplateSafeString(it.video1.length)+"</span></h3>\n  </a>\n</li>\n    "),out+="</ul>\n</div>"),out+='\n<a class="replay" href="#"><span>Replay Video</span></a>\n'}function Endframe(player,settings){var containerId=player.getContainerId();util.log("Endframe initialialization script called.","SNI.Video.Endframe","INFO"),this.player=player,this.cardId=containerId+cardClass$4,this.settings=settings||defaults$21,$pdk.controller.addPlayerCard("forms",this.cardId,root$10,"urn:theplatform:pdk:area:player",{},this,1,player.getScopes()),player.subscribe("OnReleaseEnd",this.OnReleaseEnd.bind(this)),player.subscribe("OnLoadReleaseUrl",this.OnLoadReleaseUrl.bind(this)),player.subscribe("OnSetReleaseUrl",this.resetCountdown.bind(this)),player.subscribe("OnMediaStart",this.resetCountdown.bind(this))}function EndframeFactory(player,settings){return new Endframe(player,settings)}function AdCountdown(player,settings){util.log("AdCountdown initialialization script called.","SNI.Video.AdCountdown","INFO"),this.player=player,this.settings=settings||defaults$22,this.isAdPlaying=!1,this.$root=jQuery$1(root$11),player.subscribe("OnSetReleaseUrl",this.render.bind(this)),player.subscribe("OnMediaLoadStart",this.onMediaLoadStart.bind(this)),player.subscribe("OnMediaPlaying",this.onMediaPlaying.bind(this)),player.subscribe("OnShowPlayOverlay",this.onShowPlayOverlay.bind(this))}function AdCountdownFactory(player,settings){return new AdCountdown(player,settings)}function template$17(it){return'<div class="pausedState" style="display:none;">\n\t\t\t\t<div class="pausedGroupWrap">\n\t\t\t\t\t<div class="pausedGroup">\n\t\t\t\t\t\t<button type="button" class="playButton ssFont" title="'+util.getTemplateSafeString(it.playAlternateText)+'" aria-label="'+util.getTemplateSafeString(it.playAlternateText)+'">\n\t\t\t\t\t\t\t&#x25B6;\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<button type="button" class="pauseButton ssFont" style="display:none;" title="'+util.getTemplateSafeString(it.pauseAlternateText)+'" aria-label="'+util.getTemplateSafeString(it.pauseAlternateText)+'">\n\t\t\t\t\t\t\t&#xE8A0;\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="pausedGroup">\n\t\t\t\t\t\t<span class="pausedAssetCta">'+util.getTemplateSafeString(it.assetCta)+'</span>\n\t\t\t\t\t\t<span class="pausedAssetTitle"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>'}function PausedState(player,settings){var paused=this;util.log("PausedState Button initialialization script called.","SNI.Video.PausedState","INFO"),paused.player=player,paused.settings=settings||defaults$23,paused.$root=jQuery$1(template$17(paused.settings)),player.subscribe("OverlayLayerReady",paused.render.bind(paused)),player.subscribe("OnMediaPause",paused.show.bind(paused)),player.subscribe("OnMediaUnpause OnMediaStart OnReleaseEnd",paused.hide.bind(paused)),player.subscribe("OnShowPlayOverlay",paused.onShowPlayOverlay.bind(this)),player.subscribe("ChromecastStart",paused.chromecastStart.bind(paused)),player.subscribe("ChromecastEnd",paused.chromecastEnd.bind(paused)),player.subscribe("ChromecastConnected",paused.chromecastConnected.bind(paused)),player.subscribe("ChromecastPlaying",paused.chromecastPlaying.bind(paused)),player.subscribe("ChromecastPaused",paused.chromecastPaused.bind(paused)),player.subscribe("OverlayLayerReady",function(){var videoTag=player.$container.find("video");videoTag[0].addEventListener("play",function(){paused.hide()},!0),videoTag[0].addEventListener("pause",function(){paused.show()},!0)})}function PausedControlFactory(player,settings){return new PausedState(player,settings)}function template$19(it){return'<button class="customPlayButton" style="display:none;" title="Play video" aria-label="Play video">\n\t\t\t\t<img src="'+util.getTemplateSafeString(it.playButtonSrc)+'" alt="Play" />\n\t\t\t</button>';
}function Play(player,settings){util.log("Override Play Button initialialization script called.","SNI.Video.Play","INFO"),this.player=player,this.settings=settings||defaults$24,this.rendered=!1,this.$root=jQuery$1(template$19(this.settings)),player.subscribe("OverlayLayerReady",this.render.bind(this)),player.subscribe("OnShowPlayOverlay",this.OnShowPlayOverlay.bind(this)),player.subscribe("OnLoadReleaseUrl",this.show.bind(this)),player.subscribe("OnSetReleaseUrl OnReleaseEnd OnMediaStart",this.hide.bind(this))}function PlayFactory(player,settings){return new Play(player,settings)}function getSocialNetworkList(socialNetworks){for(var index=0,out="";index<socialNetworks.length;index++){var item=socialNetworks[index];out+='<li class="socialNetwork">\n                    <button type="button" class="'+util.getTemplateSafeString(item.className)+'" value="'+util.getTemplateSafeString(item.id)+'" title="Share on '+util.getTemplateSafeString(item.name)+'" aria-label="Share on '+util.getTemplateSafeString(item.name)+'">\n                        <div class="socialIcon">'+util.getTemplateSafeString(item.unicodeValue)+"</div>\n                    </button>\n                </li>"}return out}function template$21(it){var out="";return out+='<div class="socialBar">\n                <ul class="socialList">\n                '+getSocialNetworkList(it.socialNetworks)+"\n                <ul>\n            </div>"}function Social(player,settings){util.log("Social initialialization script called.","SNI.Video.Social","INFO"),this.player=player,this.settings=settings||defaults$25,this.$root=null,window.gigya||util.loadScript("//cdns.gigya.com/js/gigya.js?apiKey="+settings.apiKey),player.subscribe("ControlsLayerReady",this.render.bind(this)),player.subscribe("OnMediaStart",this.onMediaStart.bind(this))}function SocialFactory(player,settings){return new Social(player,settings)}function getModuleFactory(pluginName,factoryString){if(factoryString&&has(window,factoryString))return window[factoryString];switch(pluginName.toLowerCase()){case"adobepass":return AdobePassFactory;case"mux":return MuxFactory;case"akamaihd":return AkamaiHDFactory;case"channels":return ChannelsFactory;case"freewheel":return FreewheelFactory;case"playclicktoggle":return PlayClickToggleFactory;case"singleplayback":return SinglePlaybackFactory;case"watchwith":return WatchwithFactory;case"comscore":return ComscoreFactory;case"conviva":return ConvivaFactory;case"ias":return IasFactory;case"newrelic":return NewRelicFactory;case"nielsen":return NielsenFactory;case"omniture":return OmnitureFactory;case"ulive":return UliveFactory;case"chromecast2":case"chromecast":return ChromecastFactory;case"closedcaptioning":return ClosedCaptioningFactory;case"embed":return EmbedFactory;case"fullscreen":return FullscreenFactory;case"volume":return VolumeFactory;case"alternateendframe":return AlternateEndframeFactory;case"embedendframe":return EmbedEndframeFactory;case"endframe":return EndframeFactory;case"adcountdown":return AdCountdownFactory;case"pausedstate":return PausedControlFactory;case"play":return PlayFactory;case"social":return SocialFactory;default:throw"Unknown module name: "+pluginName}}function getSettingString(settings,separator){void 0===separator&&(separator="|");var propName,type,concatedValue="";for(propName in settings)if(settings.hasOwnProperty(propName))switch(type=typeof settings[propName]){case"string":case"number":case"boolean":concatedValue+=encodeURIComponent(propName)+"="+encodeURIComponent(settings[propName])+separator;break;case"function":concatedValue+=encodeURIComponent(propName)+"="+encodeURIComponent(settings[propName]())+separator;break;case"object":concatedValue+=encodeURIComponent(propName)+"="+getSettingString(settings[propName],",")+separator}return concatedValue=concatedValue.substring(0,concatedValue.length-1)}function setLogLevel(player){var logLevel=player.config.player.logLevel,debugLevel=util.getParameterByName("tploglevel"),acceptableLevels=["debug","info","warn","error","fatal","none"];""!==debugLevel&&acceptableLevels.indexOf(debugLevel)>-1&&(logLevel=debugLevel),window.tpLogLevel=logLevel}function checkForDomIssues(player){var containerId=player.getContainerId();player.$container.length<=0&&util.log('The targeted container does not exist. Player configuration was passed "#'+containerId+"\" as the containerId but it doesn't exist in the DOM. Target an existing element and try again","SNI.Video.Player","FATAL"),player.$container.hasClass("tpPlayer")&&util.log('The targeted container "'+containerId+'" already has a class of "tpPlayer". This must be removed in order for the player to be created properly.',"SNI.Video.Player","FATAL"),0===player.$container.width()&&util.log('The targeted container "'+containerId+'" has a width of 0. Please assign appropriate dimensions to enable playback.',"SNI.Video.Player","FATAL"),player.$container.on("contextmenu","video",function(){return!1})}function addUtilityMethods(player){var containerId=player.config.player.containerId,scopes=[player.config.player.scopes],playerReady=!1,isInFullScreenMode=!1,isCurrentlyPaused=!0,isAd=!1,isRemote=!1;player.getScopes=function(){return scopes},player.getContainerId=function(){return containerId},player.isReady=function(){return playerReady},player.isFullscreen=function(){return isInFullScreenMode},player.isPaused=function(){return isCurrentlyPaused},player.isPlayingAd=function(){return isAd},player.isRemotelyLoaded=function(){return isRemote},player.subscribe("ChromecastStart",function(){isRemote=!0}),player.subscribe("ChromecastEnd",function(){isRemote=!1}),player.subscribe("OnShowFullScreen",function(event){isInFullScreenMode=!!event.data}),player.subscribe("OnMediaPause",function(){isCurrentlyPaused=!0}),player.subscribe("OnMediaUnpause OnMediaStart",function(){isCurrentlyPaused=!1}),player.subscribe("OnMediaStart",function(event){isAd=!!event.data.baseClip.isAd}),player.subscribe("OnReleaseError",function(event){var payload=event.data;payload.exception&&payload.title&&payload.description&&util.log("The player failed to load the release "+player.currentVideo.releaseUrl+". Exception: "+payload.exception+" - "+payload.title+": "+payload.description,"SNI.Video.Player","FATAL")}),player.subscribe("OnPlayerLoaded",function(){player.$container=jQuery$1("#"+player.getContainerId()),player.$container.find(".tpVideo, .tpVideoBlocker, .tpPlugins, .tpBlocker, .tpSubtitles, .tpCards, .tpOverlays, .tpControls").css("z-index",""),player.$container.find("> .player").attr("tabindex","0"),player.$container.find(".tpSubtitles").attr("aria-live","assertive"),playerReady=!0,player.publish("PlayerReady")})}function fixMediaClick(player){var allowOnMediaClickEvent=!1;player.subscribe("PlayerReady",function(){player.$container.find(".tpVideoBlocker a").remove(),player.$container.on("click",".tpVideoBlocker, video",function(event){var eventData;allowOnMediaClickEvent&&(eventData={ctrlKey:event.ctrlKey,localX:event.clientX,localY:event.clientY,position:Date.now(),shiftKey:event.shiftKey,stageX:event.screenX,stageY:event.screenY,globalDataType:"com.theplatform.pdk.data::MediaClick"},player.publish("OnMediaClick",eventData))})}),player.subscribe("ControlsShowStart",function(){allowOnMediaClickEvent=!0}),player.subscribe("ControlsHideEnd",function(){allowOnMediaClickEvent=!1})}function amazonAdsFinished(){var promise,timeout,gracePeriod=1e3;return promise=new es6Promise.Promise(function(resolve,reject){window.adsData&&adsData.amazon_video_targeting?(util.log("SniAds adsdata has value","SNI.Video.Ads","INFO"),resolve()):"undefined"!=typeof SniAds&&SniAds.Event&&SniAds.Event.subscribe?(util.log('SniAds subscribing to "amazon_video_targeting_ready" event.',"SNI.Video.Ads","INFO"),SniAds.Event.subscribe("amazon_video_targeting_ready",function(){clearTimeout(timeout),util.log('SniAds "amazon_video_targeting_ready" event fired.',"SNI.Video.Ads","INFO"),resolve()}),timeout=setTimeout(function(){util.log("SniAds did not return a value in sufficient time.","SNI.Video.Ads","INFO"),resolve()},gracePeriod)):(util.log("SniAds is not available.","SNI.Video.Ads","INFO"),resolve())})}function playerInitialize(player){function returnFalse(){return!1}var config=player.config.player,containerId=player.getContainerId(),isSingleVideo=!1;player.pdk=new window.Player(containerId),player.endedNaturally=!0,player.overlay=OverlayFactory(player),player.controls=ControlsFactory(player,config.controls),player.controlRack=ControlRackFactory(player),player.modules={},plugins.loadPlugins(player),responsive.registerPlayer(player),player.isSingleVideo=isSingleVideo,player.isChannelPlayer=function(){return!isSingleVideo},player.config.channels.enabled===!1&&(player.currentVideo=player.config.video,player.currentVideo.videoInitiationType=player.config.player.autoplay?"autoplay":"manual",player.isSingleVideo=isSingleVideo=!0,util.log("Instantiated a single video player","SNI.Video.Player","INFO"),player.hasNext=returnFalse,player.hasPrevious=returnFalse,player.setCurrentVideo=jQuery$1.noop,player.loadVideo=jQuery$1.noop,player.setCurrentChannel=jQuery$1.noop,player.loadChannel=jQuery$1.noop,player.getVideoUrl=jQuery$1.noop,player.getNext=jQuery$1.noop,player.playNext=jQuery$1.noop,player.playPrevious=jQuery$1.noop),jQuery$1.extend(!0,player.pdk,config),player.pdk.bind(),events.bindQueuedEvents(),player.subscribe("PlayerReady",function(){player.loadReleaseUrl(player.currentVideo.releaseUrl,config.autoplay,!1)})}function Player(settings){var containerId,player=this;mdManager.setParameter("VideoPlayer","PDK"),player.config=configuration.getConfig(settings),setLogLevel(player),addUtilityMethods(player),fixMediaClick(player),containerId=player.config.player.containerId,players.alreadyExists(containerId)?util.log("Attempted to create a new Player at the same container ID: "+containerId+". This would overwrite an existing player.","SNI.Video.Player","FATAL"):players.addPlayer(player),jQuery$1(document).ready(function(){player.$container=jQuery$1("#"+containerId),checkForDomIssues(player),$pdk.initialize(),jQuery$1.when(amazonAdsFinished()).then(function(){util.log("SniAds Done","SNI.Video.Ads","INFO"),playerInitialize(player)})})}var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,isArray=Array.isArray,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol=root.Symbol,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty,nativeObjectToString=objectProto$1.toString,symToStringTag$1=Symbol?Symbol.toStringTag:void 0,objectProto$2=Object.prototype,nativeObjectToString$1=objectProto$2.toString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol?Symbol.toStringTag:void 0,symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]",coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$3=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$2=objectProto$3.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$2).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nativeCreate=getNative(Object,"create"),HASH_UNDEFINED="__lodash_hash_undefined__",objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty,objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty,HASH_UNDEFINED$1="__lodash_hash_undefined__";Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet;var arrayProto=Array.prototype,splice=arrayProto.splice;ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet;var Map=getNative(root,"Map");MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";memoize.Cache=MapCache;var jQuery,MAX_MEMOIZE_SIZE=500,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(string){var result=[];return reLeadingDot.test(string)&&result.push(""),string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result}),INFINITY=1/0,symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0,argsTag="[object Arguments]",objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty$5.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/,MAX_SAFE_INTEGER$1=9007199254740991,INFINITY$1=1/0;if(has(window,"$"))jQuery=window.$;else{if(!has(window,"$pdk.jQuery"))throw"Could not find a suitable jQuery lib on the page, the video library will not function without it.";jQuery=window.$pdk.jQuery}var jQuery$1=jQuery,SniAds=window.SniAds;window.SNI=window.SNI||{},window.SNI.Video={Players:[],Defaults:{}};var SNI=window.SNI,defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}(),objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty,nativeMax=Math.max,baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now,setToString=shortOut(baseSetToString),objectProto$9=Object.prototype,freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$1="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag$1="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var freeExports$1="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$10=Object.prototype,hasOwnProperty$8=objectProto$10.hasOwnProperty,nativeKeys=overArg(Object.keys,Object),objectProto$11=Object.prototype,hasOwnProperty$9=objectProto$11.hasOwnProperty,objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty,assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source))return void copyObject(source,keys(source),object);for(var key in source)hasOwnProperty$6.call(source,key)&&assignValue(object,key,source[key])}),version="1.13.0+master.da723896",fullAppVersion=""+version,appVersion=""+version.split("+")[0],pdkVersion="5.8.7",video={version:appVersion,fullVersion:fullAppVersion,pdkVersion:pdkVersion,pdkBaseUrl:"//www.pdk.video.snidigital.com/"+pdkVersion+"/pdk",vpcBaseUrl:"//www.player.video.snidigital.com/vpc/"+appVersion.replace(/\./g,"/")};window.SNI.Video=assign(SNI.Video,video);for(var commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},performanceNow=createCommonjsModule(function(module){(function(){var getNanoSeconds,hrtime,loadTime;"undefined"!=typeof performance&&null!==performance&&performance.now?module.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(module.exports=function(){return(getNanoSeconds()-loadTime)/1e6},hrtime=process.hrtime,getNanoSeconds=function(){var hr;return hr=hrtime(),1e9*hr[0]+hr[1]},loadTime=getNanoSeconds()):Date.now?(module.exports=function(){return Date.now()-loadTime},loadTime=Date.now()):(module.exports=function(){return(new Date).getTime()-loadTime},loadTime=(new Date).getTime())}).call(commonjsGlobal)}),now=performanceNow,root$2="undefined"==typeof window?commonjsGlobal:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=root$2["request"+suffix],caf=root$2["cancel"+suffix]||root$2["cancelRequest"+suffix],i=0;!raf&&i<vendors.length;i++)raf=root$2[vendors[i]+"Request"+suffix],caf=root$2[vendors[i]+"Cancel"+suffix]||root$2[vendors[i]+"CancelRequest"+suffix];if(!raf||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(callback){if(0===queue.length){var _now=now(),next=Math.max(0,frameDuration-(_now-last));last=next+_now,setTimeout(function(){var cp=queue.slice(0);queue.length=0;for(var i=0;i<cp.length;i++)if(!cp[i].cancelled)try{cp[i].callback(last)}catch(e){setTimeout(function(){throw e},0)}},Math.round(next))}return queue.push({handle:++id,callback:callback,cancelled:!1}),id},caf=function(handle){for(var i=0;i<queue.length;i++)queue[i].handle===handle&&(queue[i].cancelled=!0)}}var index=function(fn){return raf.call(root$2,fn)},cancel=function(){caf.apply(root$2,arguments)},polyfill=function(){root$2.requestAnimationFrame=raf,root$2.cancelAnimationFrame=caf};index.cancel=cancel,index.polyfill=polyfill;var head=document.head,metaPairs=[["tp:baseUrl",video.pdkBaseUrl],["tp:initialize","false"],["tp:PreferredFormats","m3u,mpeg4,flv,f4m"],["tp:PreferredRuntimes","Universal"]];metaPairs.forEach(function(pair){removeMetaTagsByName(head,pair[0]),addMetaTag(head,pair[0],pair[1])}),appendLazyLoadHack(),window.$pdk||document.write("<scr"+('ipt type="text/javascript" src="'+video.pdkBaseUrl+'/tpPdk.js"></sc')+"ript>");var util={formatTime:function(seconds){var hours,minutes,time="";return isNaN(parseInt(seconds))?"":(seconds="number"!=typeof seconds?Math.round(parseInt(seconds)):Math.round(seconds),hours=Math.floor(seconds/3600),minutes=Math.floor((seconds-3600*hours)/60),seconds=seconds-3600*hours-60*minutes,hours<10&&(hours="0"+hours),minutes<10&&(minutes="0"+minutes),seconds<10&&(seconds="0"+seconds),"00"!=hours.toString()&&(time=hours+":"),"00"!=minutes.toString()&&(time+=minutes),time+=":"+seconds)},convertToSeconds:function(timeString){var data,secondsInMinute=60,minutesInHour=60,timeInSeconds=0;return window.SNI.Video.Overrides&&window.SNI.Video.Overrides.convertToSeconds?window.SNI.Video.Overrides.convertToSeconds(timeString):(timeString+="",timeString=timeString.trim(),timeString=timeString.replace(/[^0-9:]*/g,""),timeString=timeString.replace(/(^:)|(:$)/g,""),timeString=timeString.replace(/[:]+/g,":"),data=timeString.split(":").reverse(),timeInSeconds+=data[0]?Math.floor(data[0]):0,timeInSeconds+=data[1]?Math.floor(data[1])*secondsInMinute:0,timeInSeconds+=data[2]?Math.floor(data[2])*minutesInHour*secondsInMinute:0)},formatOffset:function(ms){return isNaN(parseFloat(ms))?"":Math.round(parseFloat(ms)/1e3)},isMdmLoaded:function(){return"object"==typeof mdManager},isPdkLoaded:function(){return"object"==typeof $pdk},mdmAppend:function(key,value){""===mdManager.getParameter(key)?mdManager.setParameter(key,value):mdManager.addParameter(key,value)},getIndex:function(id,array){for(var i=0;i<array.length;i++)if(array[i].id==id)return i;return null},log:function(msg,location,level){level||(level=tpConsts.DEBUG),location||(location="SNI.Video"),tpDebug(msg,"SNI Core Player Library",location,level)},isLocalStorageSupported:function(){var mod="localStorageCheck";try{return localStorage.setItem(mod,mod),localStorage.removeItem(mod),!0}catch(e){return!1}},getParameterByName:function(name,href){void 0===href&&(href=window.location.href),name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regexS="[\\?&]"+name+"=([^&#]*)",regex=new RegExp(regexS),results=regex.exec(href);return null===results?"":decodeURIComponent(results[1].replace(/\+/g," "))},addParameter:function(url,paramName,paramValue){var parts=url.split("?"),query=parts[1];if(paramName=encodeURIComponent(paramName),paramValue=encodeURIComponent(paramValue),query)if(query.indexOf(paramName+"=")>0){var pattern=new RegExp("\\b("+paramName+"=).*?(&|$|#)");query=query.replace(pattern,"$1"+paramValue+"$2")}else query+="&"+paramName+"="+paramValue;else query=paramName+"="+paramValue;return parts[0]+"?"+query},isEmbeddedPlayer:function(){try{return window.self!==window.top}catch(e){return!0}},Cookie:{SEARCH:"S",UI:"U",get:function(name){for(var c,nameEQ=name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null},set:function(name,value,days,path){var date,expires="";days&&(date=new Date,date.setTime(date.getTime()+24*days*60*60*1e3),expires="; expires="+date.toGMTString()),path||(path="/"),document.cookie=name+"="+value+expires+"; path="+path}},isFlashPlayer:function(){return!1},getRuntime:function(){var runTime=$pdk.controller._env._component_runtime,isUniversal=$pdk.controller._env.getIsUniversal();return isUniversal?"universal":runTime},sequence:function(){function sequenced(){var innerArgs=arguments,i=0;for(i;i<functions.length;i++)functions[i].apply(context,innerArgs)}for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];var context=this,functions=args;return sequenced.bind(context)},debounce:function(functionToDebounce,wait,immediate){var timeout;return function(){function debounceTimeout(){timeout=null,immediate||functionToDebounce.apply(context,args)}var callNow,context=this,args=arguments;callNow=immediate&&!timeout,clearTimeout(timeout),timeout=setTimeout(debounceTimeout,wait),callNow&&functionToDebounce.apply(context,args)}},loadScript:function(scriptUrl,async){void 0===async&&(async=!1);try{var shimScript=document.createElement("script"),shimNode=document.getElementsByTagName("script")[0];return shimScript.async=!!async,shimScript.src=scriptUrl,shimNode.parentNode.insertBefore(shimScript,shimNode),!0}catch(e){return util.log("Error loading script at: "+scriptUrl,"SNI.Video.Util.loadScript","ERROR"),!1}},generateUUID:function(delimiter){return void 0===delimiter&&(delimiter="-"),uuIdHelp()+uuIdHelp()+delimiter+uuIdHelp()+delimiter+uuIdHelp()+delimiter+uuIdHelp()+delimiter+uuIdHelp()+uuIdHelp()+uuIdHelp()},getTemplateSafeString:function(code){var encodeHTMLRules={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},matchHTML=/&(?!#?\w+;)|<|>|"|'|\//g;return code?code.toString().replace(matchHTML,function(replacement){return encodeHTMLRules[replacement]||replacement}):""}};window.SNI.Video.Util=util;var es6Promise=createCommonjsModule(function(module,exports){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.0.5
 */
!function(global,factory){module.exports=factory()}(commonjsGlobal,function(){function objectOrFunction(x){return"function"==typeof x||"object"==typeof x&&null!==x}function isFunction(x){return"function"==typeof x}function setScheduler(scheduleFn){customSchedulerFn=scheduleFn}function setAsap(asapFn){asap=asapFn}function useNextTick(){return function(){return process.nextTick(flush)}}function useVertxTimer(){return"undefined"!=typeof vertxNext?function(){vertxNext(flush)}:useSetTimeout()}function useMutationObserver(){var iterations=0,observer=new BrowserMutationObserver(flush),node=document.createTextNode("");return observer.observe(node,{characterData:!0}),function(){node.data=iterations=++iterations%2}}function useMessageChannel(){var channel=new MessageChannel;return channel.port1.onmessage=flush,function(){return channel.port2.postMessage(0)}}function useSetTimeout(){var globalSetTimeout=setTimeout;return function(){return globalSetTimeout(flush,1)}}function flush(){for(var i=0;i<len;i+=2){var callback=queue[i],arg=queue[i+1];callback(arg),queue[i]=void 0,queue[i+1]=void 0}len=0}function attemptVertx(){try{var r=commonjsRequire,vertx=r("vertx");return vertxNext=vertx.runOnLoop||vertx.runOnContext,useVertxTimer()}catch(e){return useSetTimeout()}}function then(onFulfillment,onRejection){var _arguments=arguments,parent=this,child=new this.constructor(noop);void 0===child[PROMISE_ID]&&makePromise(child);var _state=parent._state;return _state?!function(){var callback=_arguments[_state-1];asap(function(){return invokeCallback(_state,child,callback,parent._result)})}():subscribe(parent,child,onFulfillment,onRejection),child}function resolve(object){var Constructor=this;if(object&&"object"==typeof object&&object.constructor===Constructor)return object;var promise=new Constructor(noop);return _resolve(promise,object),promise}function noop(){}function selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}function cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}function getThen(promise){try{return promise.then}catch(error){return GET_THEN_ERROR.error=error,GET_THEN_ERROR}}function tryThen(then,value,fulfillmentHandler,rejectionHandler){try{then.call(value,fulfillmentHandler,rejectionHandler)}catch(e){return e}}function handleForeignThenable(promise,thenable,then){asap(function(promise){var sealed=!1,error=tryThen(then,thenable,function(value){sealed||(sealed=!0,thenable!==value?_resolve(promise,value):fulfill(promise,value))},function(reason){sealed||(sealed=!0,_reject(promise,reason))},"Settle: "+(promise._label||" unknown promise"));!sealed&&error&&(sealed=!0,_reject(promise,error))},promise)}function handleOwnThenable(promise,thenable){thenable._state===FULFILLED?fulfill(promise,thenable._result):thenable._state===REJECTED?_reject(promise,thenable._result):subscribe(thenable,void 0,function(value){return _resolve(promise,value)},function(reason){return _reject(promise,reason)})}function handleMaybeThenable(promise,maybeThenable,then$$){maybeThenable.constructor===promise.constructor&&then$$===then&&maybeThenable.constructor.resolve===resolve?handleOwnThenable(promise,maybeThenable):then$$===GET_THEN_ERROR?_reject(promise,GET_THEN_ERROR.error):void 0===then$$?fulfill(promise,maybeThenable):isFunction(then$$)?handleForeignThenable(promise,maybeThenable,then$$):fulfill(promise,maybeThenable)}function _resolve(promise,value){promise===value?_reject(promise,selfFulfillment()):objectOrFunction(value)?handleMaybeThenable(promise,value,getThen(value)):fulfill(promise,value)}function publishRejection(promise){promise._onerror&&promise._onerror(promise._result),publish(promise)}function fulfill(promise,value){promise._state===PENDING&&(promise._result=value,promise._state=FULFILLED,0!==promise._subscribers.length&&asap(publish,promise))}function _reject(promise,reason){promise._state===PENDING&&(promise._state=REJECTED,promise._result=reason,asap(publishRejection,promise))}function subscribe(parent,child,onFulfillment,onRejection){var _subscribers=parent._subscribers,length=_subscribers.length;parent._onerror=null,_subscribers[length]=child,_subscribers[length+FULFILLED]=onFulfillment,_subscribers[length+REJECTED]=onRejection,0===length&&parent._state&&asap(publish,parent)}function publish(promise){var subscribers=promise._subscribers,settled=promise._state;if(0!==subscribers.length){for(var child=void 0,callback=void 0,detail=promise._result,i=0;i<subscribers.length;i+=3)child=subscribers[i],callback=subscribers[i+settled],child?invokeCallback(settled,child,callback,detail):callback(detail);promise._subscribers.length=0}}function ErrorObject(){this.error=null}function tryCatch(callback,detail){try{return callback(detail)}catch(e){return TRY_CATCH_ERROR.error=e,TRY_CATCH_ERROR}}function invokeCallback(settled,promise,callback,detail){var hasCallback=isFunction(callback),value=void 0,error=void 0,succeeded=void 0,failed=void 0;if(hasCallback){if(value=tryCatch(callback,detail),value===TRY_CATCH_ERROR?(failed=!0,error=value.error,value=null):succeeded=!0,promise===value)return void _reject(promise,cannotReturnOwn())}else value=detail,succeeded=!0;promise._state!==PENDING||(hasCallback&&succeeded?_resolve(promise,value):failed?_reject(promise,error):settled===FULFILLED?fulfill(promise,value):settled===REJECTED&&_reject(promise,value))}function initializePromise(promise,resolver){try{resolver(function(value){_resolve(promise,value)},function(reason){_reject(promise,reason)})}catch(e){_reject(promise,e)}}function nextId(){return id++}function makePromise(promise){promise[PROMISE_ID]=id++,promise._state=void 0,promise._result=void 0,promise._subscribers=[]}function Enumerator(Constructor,input){this._instanceConstructor=Constructor,this.promise=new Constructor(noop),this.promise[PROMISE_ID]||makePromise(this.promise),isArray(input)?(this._input=input,this.length=input.length,this._remaining=input.length,this._result=new Array(this.length),0===this.length?fulfill(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&fulfill(this.promise,this._result))):_reject(this.promise,validationError())}function validationError(){return new Error("Array Methods must be provided an Array")}function all(entries){return new Enumerator(this,entries).promise}function race(entries){var Constructor=this;return new Constructor(isArray(entries)?function(resolve,reject){for(var length=entries.length,i=0;i<length;i++)Constructor.resolve(entries[i]).then(resolve,reject)}:function(_,reject){return reject(new TypeError("You must pass an array to race."))})}function reject(reason){var Constructor=this,promise=new Constructor(noop);return _reject(promise,reason),promise}function needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function Promise(resolver){this[PROMISE_ID]=nextId(),this._result=this._state=void 0,this._subscribers=[],noop!==resolver&&("function"!=typeof resolver&&needsResolver(),this instanceof Promise?initializePromise(this,resolver):needsNew())}function polyfill(){var local=void 0;if("undefined"!=typeof commonjsGlobal)local=commonjsGlobal;else if("undefined"!=typeof self)local=self;else try{local=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var P=local.Promise;if(P){var promiseToString=null;try{promiseToString=Object.prototype.toString.call(P.resolve())}catch(e){}if("[object Promise]"===promiseToString&&!P.cast)return}local.Promise=Promise}var _isArray=void 0;_isArray=Array.isArray?Array.isArray:function(x){return"[object Array]"===Object.prototype.toString.call(x)};var isArray=_isArray,len=0,vertxNext=void 0,customSchedulerFn=void 0,asap=function(callback,arg){queue[len]=callback,queue[len+1]=arg,len+=2,2===len&&(customSchedulerFn?customSchedulerFn(flush):scheduleFlush())},browserWindow="undefined"!=typeof window?window:void 0,browserGlobal=browserWindow||{},BrowserMutationObserver=browserGlobal.MutationObserver||browserGlobal.WebKitMutationObserver,isNode="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),isWorker="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,queue=new Array(1e3),scheduleFlush=void 0;scheduleFlush=isNode?useNextTick():BrowserMutationObserver?useMutationObserver():isWorker?useMessageChannel():void 0===browserWindow&&"function"==typeof commonjsRequire?attemptVertx():useSetTimeout();var PROMISE_ID=Math.random().toString(36).substring(16),PENDING=void 0,FULFILLED=1,REJECTED=2,GET_THEN_ERROR=new ErrorObject,TRY_CATCH_ERROR=new ErrorObject,id=0;return Enumerator.prototype._enumerate=function(){for(var length=this.length,_input=this._input,i=0;this._state===PENDING&&i<length;i++)this._eachEntry(_input[i],i)},Enumerator.prototype._eachEntry=function(entry,i){var c=this._instanceConstructor,resolve$$=c.resolve;if(resolve$$===resolve){var _then=getThen(entry);if(_then===then&&entry._state!==PENDING)this._settledAt(entry._state,i,entry._result);else if("function"!=typeof _then)this._remaining--,this._result[i]=entry;else if(c===Promise){var promise=new c(noop);handleMaybeThenable(promise,entry,_then),this._willSettleAt(promise,i)}else this._willSettleAt(new c(function(resolve$$){return resolve$$(entry)}),i)}else this._willSettleAt(resolve$$(entry),i)},Enumerator.prototype._settledAt=function(state,i,value){var promise=this.promise;promise._state===PENDING&&(this._remaining--,state===REJECTED?_reject(promise,value):this._result[i]=value),0===this._remaining&&fulfill(promise,this._result)},Enumerator.prototype._willSettleAt=function(promise,i){var enumerator=this;subscribe(promise,void 0,function(value){return enumerator._settledAt(FULFILLED,i,value)},function(reason){return enumerator._settledAt(REJECTED,i,reason)})},Promise.all=all,Promise.race=race,Promise.resolve=resolve,Promise.reject=reject,Promise._setScheduler=setScheduler,Promise._setAsap=setAsap,Promise._asap=asap,Promise.prototype={constructor:Promise,then:then,catch:function(onRejection){return this.then(null,onRejection)}},Promise.polyfill=polyfill,Promise.Promise=Promise,Promise})}),root$3='<div class="playerOverlay"></div>';Overlay.prototype.show=function(){var overlay=this;index(function(){overlay.$root.show()})},Overlay.prototype.hide=function(){var overlay=this;index(function(){overlay.$root.hide()})},Overlay.prototype.render=function(){var overlay=this,$container=overlay.player.$container;index(function(){$container.find(".player").append(overlay.$root),overlay.player.publish("OverlayLayerReady")})},Overlay.prototype.addContent=function(htmlContent){var promise,overlay=this;return promise=new es6Promise.Promise(function(resolve,reject){index(function(){var $content=jQuery$1(htmlContent);overlay.$root.append($content),resolve($content)})})},window.SNI.Video.Overlay=OverlayFactory;var DataView=getNative(root,"DataView"),Promise$2=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),mapTag$2="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$2="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag$1||Map&&getTag(new Map)!=mapTag$2||Promise$2&&getTag(Promise$2.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag$2||WeakMap&&getTag(new WeakMap)!=weakMapTag$1)&&(getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag$1?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$2;case promiseCtorString:return promiseTag;case setCtorString:return setTag$2;case weakMapCtorString:return weakMapTag$1}return result});var getTag$1=getTag,mapTag$1="[object Map]",setTag$1="[object Set]",objectProto$12=Object.prototype,hasOwnProperty$10=objectProto$12.hasOwnProperty,root$4='<div class="playerControls" style="opacity:0;"></div>';Controls.prototype.disable=function(){var controls=this;controls.enabled=!1,index(function(){controls.hide(),controls.$root.css("visibility","none")})},Controls.prototype.enable=function(){this.enabled=!0},Controls.prototype.show=function(){var controls=this;controls.enabled&&index(function(){controls.$root.animate({opacity:1},{duration:controls.settings.fadeIn,start:function(){controls.player.publish("ControlsShowStart"),controls.$root.css({opacity:1,visibility:"visible"})},complete:function(){controls.player.publish("ControlsShowEnd")}})})},Controls.prototype.hide=function(){var controls=this,$container=controls.player.$container;$container.removeClass("tabFocus"),index(function(){controls.$root.animate({opacity:0},{duration:controls.settings.fadeOut,start:function(){controls.player.publish("ControlsHideStart")},complete:function(){controls.$root.css("opacity",0),controls.player.publish("ControlsHideEnd")}})})},Controls.prototype.stopIframeTabbing=function(){var controls=this;setTimeout(function(){if(controls.player.isPlayingAd()){var frames=controls.player.$container.find("iframe");frames.attr("tabindex","-1")}},1e3)},Controls.prototype.bindDomInteractions=function(){function tapBehavior(){controls.show(),window.clearTimeout(tapTimeout),tapTimeout=window.setTimeout(controls.hide.bind(controls),controls.settings.tapDisplayLength)}var toggleMouse,fullscreenShow,fullscreenHide,tapTimeout,fsTimeout,controls=this,$container=controls.player.$container,controlBlocker=$container.find(".tpVideoBlocker");fullscreenShow=util.debounce(function(){window.clearTimeout(fsTimeout),index(function(){controls.show(),controlBlocker.css("cursor","default")})},250,!0),fullscreenHide=util.debounce(function(){controls.player.isFullscreen()&&(fsTimeout=window.setTimeout(function(){index(function(){controlBlocker.css("cursor","none"),controls.hide()})},controls.settings.fullscreenDisplayLength))},250,!1),toggleMouse=util.debounce(function(event){var type=event.type;"mouseover"!==type&&"mouseenter"!==type||index(function(){controls.show()}),"mouseout"!==type&&"mouseleave"!==type||index(function(){controls.hide()})},150,!0),$container.on("mouseenter mouseleave",toggleMouse),$container.on("touchend",tapBehavior),$container.on("mousemove",fullscreenShow),$container.on("mousemove",fullscreenHide),$container.on("keydown",function(e){controls.show(),$(this).addClass("tabFocus")}),controls.player.publish("ControlsLayerReady")},Controls.prototype.addControl=function(htmlContent){var promise,controls=this,$content=jQuery$1(htmlContent);return promise=new es6Promise.Promise(function(resolve,reject){index(function(){controls.$root.append($content),resolve($content)})})},window.SNI.Video.Controls=ControlsFactory;var responsive,classNames={small:"smallVodPlayer",medium:"mediumVodPlayer",large:"largeVodPlayer",extraLarge:"extraLargeVodPlayer"},sizes={minimumSupported:266,small:615,medium:853,large:1249};responsive={isSmallPlayer:function(player,width){return width=width||getPlayerWidth(player),width>=sizes.minimumSupported&&width<=sizes.small},isMediumPlayer:function(player,width){return width=width||getPlayerWidth(player),width>sizes.small&&width<=sizes.medium},isLargePlayer:function(player,width){return width=width||getPlayerWidth(player),width>sizes.medium&&width<=sizes.large},isExtraLargePlayer:function(player,width){return width=width||getPlayerWidth(player),width>sizes.large},updateClasses:function(player,width){width=width||player.$container.width(),player.isFullscreen()&&window.screen&&window.screen.width&&(width=window.screen.width),player.$container.removeClass(classNames.small+" "+classNames.medium+" "+classNames.large+" "+classNames.extraLarge),width<sizes.minimumSupported?(util.log('The targeted container "'+player.config.player.containerId+'" has a width of '+width+"px, this is below the minimum supported size of "+sizes.minimumSupported+"px.","SNI.Video.Responsive","WARN"),player.$container.addClass(classNames.small)):responsive.isSmallPlayer(player,width)?player.$container.addClass(classNames.small):responsive.isMediumPlayer(player,width)?player.$container.addClass(classNames.medium):responsive.isLargePlayer(player,width)?player.$container.addClass(classNames.large):responsive.isExtraLargePlayer(player,width)&&player.$container.addClass(classNames.extraLarge),player.publish("PlayerResize",width)},registerPlayer:function(player){var debouncedUpdateClasses=util.debounce(responsive.updateClasses,250,!1);player.subscribe("PlayerReady",function(){debouncedUpdateClasses(player)}),jQuery$1(window).on("resize orientationchange",function(){responsive.updateClasses(player),debouncedUpdateClasses(player)})}},window.SNI.Video.Responsive=responsive;var selectors={play:".controlPlay",pause:".controlPause",progressHover:".progressHover",progressHoverToggle:".progressHoverToggle",progressScrubber:".scrubTimer",progressTick:".scrubTick",progressTotal:".progressBar.total",progressLoaded:".progressBar.loaded",progressPlayed:".progressBar.played",timer:".controlTimer",mainControls:".mainControls",timerControls:".timerControls",ancillaryControls:".ancillaryControls",scrubControls:".scrubControls",totalTime:".controlTimer",adMarkers:".adMarker"};ControlRack.prototype.playerResize=function(){var controlRack=this,player=controlRack.player,$ancillaryControls=controlRack.selectorCache(selectors.ancillaryControls),$timerControls=controlRack.selectorCache(selectors.timerControls),$scrubControls=controlRack.selectorCache(selectors.scrubControls);index(function(){$ancillaryControls.detach(),responsive.isSmallPlayer(player)?$scrubControls.after($ancillaryControls):$timerControls.before($ancillaryControls)})},ControlRack.prototype.onMediaLoadStart=function(clip){var millisecs,controlRack=this,isAd=clip.data.baseClip.isAd;isAd||(millisecs=clip.data.mediaLength,controlRack.totalLength=millisecs,index(function(){controlRack.selectorCache(selectors.timer).text(getFormatedTime(millisecs))})),controlRack.selectorCache(selectors.progressLoaded).toggle(!isAd)},ControlRack.prototype.onMediaLoading=function(loadMedia){var controlRack=this,percentComplete=100*loadMedia.data.ratioLoaded;percentComplete=parseFloat(percentComplete+""),percentComplete>controlRack.loaded&&(controlRack.loaded=percentComplete.toFixed(1),index(function(){controlRack.selectorCache(selectors.progressLoaded).css("width",percentComplete.toFixed(1)+"%")})),percentComplete>99&&(controlRack.loaded=100,index(function(){controlRack.selectorCache(selectors.progressLoaded).css("width","100%")}))},ControlRack.prototype.onMediaPlaying=function(timeObject){var controlRack=this,data=timeObject.data,currentTime=data.currentTimeAggregate||data.currentTime,percentComplete=data.percentCompleteAggregate||data.percentComplete;percentComplete=percentComplete||data.currentTime/data.duration*100,controlRack.player.isPlayingAd()&&index(function(){controlRack.selectorCache(selectors.timer).text(getFormatedTime(data.duration))}),controlRack.updateScrubPosition(percentComplete,currentTime,data.duration),index(function(){controlRack.selectorCache(selectors.play).hide(),controlRack.selectorCache(selectors.pause).show()})},ControlRack.prototype.onMediaPause=function(){var controlRack=this;index(function(){controlRack.selectorCache(selectors.play).show(),controlRack.selectorCache(selectors.pause).hide()})},ControlRack.prototype.chromecastProgress=function(event){var controlRack=this,data=event.data;controlRack.updateScrubPosition(data.percentComplete,data.currentTime,data.duration)},ControlRack.prototype.chromecastPlaying=function(){var controlRack=this;index(function(){controlRack.selectorCache(selectors.play).hide(),controlRack.selectorCache(selectors.pause).show()})},ControlRack.prototype.chromecastPaused=function(){var controlRack=this;index(function(){controlRack.selectorCache(selectors.play).show(),controlRack.selectorCache(selectors.pause).hide()})},ControlRack.prototype.chromecastEnd=function(){var controlRack=this,isPaused=controlRack.player.isPaused();index(function(){controlRack.selectorCache(selectors.play).toggle(isPaused),controlRack.selectorCache(selectors.pause).toggle(!isPaused)})},ControlRack.prototype.updateScrubPosition=function(percentComplete,currentTime,totalLength){var controlRack=this,$scrubber=controlRack.selectorCache(selectors.progressScrubber),$played=controlRack.selectorCache(selectors.progressPlayed),$hover=controlRack.selectorCache(selectors.progressHover),$tick=controlRack.selectorCache(selectors.progressTick),$main=controlRack.selectorCache(selectors.mainControls),$scrubControls=controlRack.selectorCache(selectors.scrubControls);percentComplete=parseFloat(percentComplete).toFixed(1),index(function(){$scrubControls.attr("aria-valuemax",Math.floor(totalLength/1e3)),$scrubControls.attr("aria-valuenow",Math.floor(currentTime/1e3)),$scrubControls.attr("aria-valuetext",getFormatedTime(currentTime)+" of "+getFormatedTime(totalLength)),$scrubber.show().text(getFormatedTime(currentTime)),$played.show().css("width",percentComplete+"%"),$hover.css("margin-left",$main.outerWidth(!0)+$played.width()-$tick.width()+"px"),totalLength&&controlRack.selectorCache(selectors.timer).text(getFormatedTime(totalLength))})},ControlRack.prototype.controlRackAdded=function($html){var controlRack=this,scope=controlRack.player.getScopes(),player=controlRack.player;$html.on("click",selectors.play+", "+selectors.pause,function(){var isPlaying=!controlRack.player.isPaused();controlRack.player.isRemotelyLoaded()||(player.isPaused()?($pdk.controller.pause(isPlaying,scope),setTimeout(function(){controlRack.selectorCache(selectors.pause).focus()},100)):($pdk.controller.pause(isPlaying,scope),setTimeout(function(){controlRack.selectorCache(selectors.play).focus()},100))),controlRack.player.publish("ControlRackPlayButton",{currentlyPlaying:isPlaying})}),$html.on("click",selectors.scrubControls,function(event){var $prog=controlRack.selectorCache(selectors.scrubControls),width=$prog.width(),offset=event.pageX-controlRack.selectorCache(selectors.progressTotal).offset().left,percent=offset/width*100;controlRack.player.isPlayingAd()||controlRack.player.isRemotelyLoaded()||$pdk.controller.seekToPercentage(percent,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPercentage:percent})}),player.$container.on("keydown",function(e){var $scrubber,$total,currentTime,totalTime,newTime;if(32!==e.which&&75!==e.which||(e.preventDefault(),player.isPaused()?controlRack.selectorCache(selectors.play).is(":focus")?(player.pause(!player.isPaused()),setTimeout(function(){controlRack.selectorCache(selectors.pause).focus()},100)):player.pause(!player.isPaused()):controlRack.selectorCache(selectors.pause).is(":focus")?(player.pause(!player.isPaused()),setTimeout(function(){controlRack.selectorCache(selectors.play).focus()},100)):player.pause(!player.isPaused())),!controlRack.player.isPlayingAd()&&!controlRack.player.isRemotelyLoaded())switch(e.which){case 48:case 36:e.preventDefault(),$pdk.controller.seekToPercentage(0,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPercentage:0});break;case 49:$pdk.controller.seekToPercentage(10,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPercentage:10});break;case 50:$pdk.controller.seekToPercentage(20,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPercentage:20});break;case 51:$pdk.controller.seekToPercentage(30,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPercentage:40});break;case 52:$pdk.controller.seekToPercentage(40,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPercentage:40});break;case 53:$pdk.controller.seekToPercentage(50,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPercentage:50});break;case 54:$pdk.controller.seekToPercentage(60,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPercentage:60});break;case 55:$pdk.controller.seekToPercentage(70,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPercentage:70});break;case 56:$pdk.controller.seekToPercentage(80,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPercentage:80});break;case 57:$pdk.controller.seekToPercentage(90,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPercentage:90});break;case 35:e.preventDefault(),$pdk.controller.seekToPercentage(99,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPercentage:99});break;case 37:$scrubber=controlRack.selectorCache(selectors.progressScrubber).text(),$total=controlRack.selectorCache(selectors.totalTime).text(),currentTime=util.convertToSeconds($scrubber),totalTime=util.convertToSeconds($total),currentTime>4?(newTime=1e3*(currentTime-5),$pdk.controller.seekToPosition(newTime,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPosition:newTime})):($pdk.controller.seekToPosition(0,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPercentage:0})),player.pause(!1);break;case 39:$scrubber=controlRack.selectorCache(selectors.progressScrubber).text(),$total=controlRack.selectorCache(selectors.totalTime).text(),currentTime=util.convertToSeconds($scrubber),totalTime=util.convertToSeconds($total),currentTime<totalTime-5?(newTime=1e3*(currentTime+5),$pdk.controller.seekToPosition(newTime,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPercentage:newTime})):($pdk.controller.seekToPercentage(99,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPercentage:99})),player.pause(!1);break;case 74:$scrubber=controlRack.selectorCache(selectors.progressScrubber).text(),$total=controlRack.selectorCache(selectors.totalTime).text(),currentTime=util.convertToSeconds($scrubber),totalTime=util.convertToSeconds($total),currentTime>10?(newTime=1e3*(currentTime-10),$pdk.controller.seekToPosition(newTime,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPosition:newTime})):($pdk.controller.seekToPosition(0,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPercentage:0})),player.pause(!1);break;case 76:$scrubber=controlRack.selectorCache(selectors.progressScrubber).text(),$total=controlRack.selectorCache(selectors.totalTime).text(),currentTime=util.convertToSeconds($scrubber),totalTime=util.convertToSeconds($total),currentTime<totalTime-10?(newTime=1e3*(currentTime+10),$pdk.controller.seekToPosition(newTime,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPercentage:newTime})):($pdk.controller.seekToPercentage(99,scope),controlRack.player.publish("ControlRackSeekButton",{seekToPercentage:99})),player.pause(!1)}}),$html.on("mouseenter",selectors.scrubControls,function(){var $progressHover=controlRack.selectorCache(selectors.progressHoverToggle);$progressHover.show()}),$html.on("mouseleave",selectors.scrubControls,function(){var $progressHover=controlRack.selectorCache(selectors.progressHoverToggle);$progressHover.hide()}),controlRack.player.publish("ControlRackReady",$html)},ControlRack.prototype.addAncillaryControl=function(html,positionIndex){var promise,$controls,$wrapped,controlRack=this,$ancillaryControl=controlRack.selectorCache(selectors.ancillaryControls),$html=jQuery$1(html);return positionIndex=positionIndex||1,$wrapped=$html.wrap('<div class="controlGroup" data-positionIndex="'+positionIndex+'"></div>').parent(),$ancillaryControl.append($wrapped),$controls=$ancillaryControl.find(".controlGroup").detach(),$controls.sort(function(item1,item2){var item1Position=item1.getAttribute("data-positionIndex"),item2Position=item2.getAttribute("data-positionIndex");return item1Position>item2Position?1:item1Position<item2Position?-1:0}),$controls.appendTo($ancillaryControl),promise=new es6Promise.Promise(function(resolve,reject){resolve($html)})},window.SNI.Video.ControlRack=ControlRackFactory;var performance$1={startTime:Date.now(),endTime:null,totalLoadTime:null,startingPerformanceData:getCurrentPerformanceData(),getCurrentPerformanceData:getCurrentPerformanceData};window.SNI.Video.Performance=performance$1;var defaults={enabled:!1,requestorId:null,accessEnablerURL:"//entitlement.auth.adobe.com/entitlement/js/AccessEnabler.js",magnificURL:video.vpcBaseUrl+"/js/libs/magnific.js",authToken:null,promptImmediately:!1,mvpdStateDomId:"mvpdState",signInText:"Sign in to your Provider",signOutText:"Sign Out",logoUrlRoot:video.vpcBaseUrl+"/img/adobePass/dark_theme/",defaultLogoUrl:"default_provider.png",titleText:"Sign in",providerActionText:"Sign in to your TV provider to watch your favorite shows and Live TV.",helpUrl:null,helpText:"Help",backText:"Back",allProvidersText:"View all providers",searchPlaceholderText:"Search TV Providers",emptySearchResultsText:"No providers available.",preferredProviders:[{ID:"Comcast_SSO",displayName:"Comcast XFINITY",logoURL:"xfinity.png"},{ID:"DTV",displayName:"DIRECTV",logoURL:"direct_tv.png"},{ID:"Dish",displayName:"DISH",logoURL:"dish.png"},{ID:"TWC",displayName:"Time Warner Cablek",logoURL:"twc.png"},{ID:"ATT",displayName:"AT&T U-verse",logoURL:"att.png"},{ID:"Verizon",displayName:"Verizon FiOS",logoURL:"verizon_fios.png"},{ID:"Cox",displayName:"Cox",logoURL:"cox.png"},{ID:"Cablevision",displayName:"Optimum",logoURL:"optimum.png"},{ID:"Brighthouse",displayName:"Bright House Networks",logoURL:"brighthouse.png"},{ID:"msauth_midco_net",displayName:"Midcontinent Communications",logoURL:"midcontinent_communications.png"}],providers:[],excludedProviders:[]};window.SNI.Video.Defaults.adobePass=defaults;var LARGE_ARRAY_SIZE=200;Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var HASH_UNDEFINED$2="__lodash_hash_undefined__";SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas;var COMPARE_PARTIAL_FLAG$2=1,COMPARE_UNORDERED_FLAG$1=2,Uint8Array=root.Uint8Array,COMPARE_PARTIAL_FLAG$3=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$3="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$3="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto$1=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto$1?symbolProto$1.valueOf:void 0,objectProto$15=Object.prototype,propertyIsEnumerable$1=objectProto$15.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable$1.call(object,symbol)}))}:stubArray,COMPARE_PARTIAL_FLAG$4=1,objectProto$14=Object.prototype,hasOwnProperty$12=objectProto$14.hasOwnProperty,COMPARE_PARTIAL_FLAG$1=1,argsTag$2="[object Arguments]",arrayTag$1="[object Array]",objectTag$2="[object Object]",objectProto$13=Object.prototype,hasOwnProperty$11=objectProto$13.hasOwnProperty,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2,NAN=NaN,reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,INFINITY$2=1/0,MAX_INTEGER=1.7976931348623157e308,nativeMax$1=Math.max,find=createFind(findIndex),playersArray=[],players={alreadyExists:alreadyExists,addPlayer:addPlayer,getPlayer:getPlayer,getPlayers:getPlayers,getPlayersAsObject:getPlayersAsObject};window.SNI.Video.Players={};var events={queue:[],bindQueuedEvents:function(){
var queue=events.queue;events.queue=[],queue.forEach(function(queuedEvent){events.subscribe(queuedEvent.event,queuedEvent.callback,queuedEvent.containerId)})},publish:function(eventName,payload,containerId){var index=0,eventNames=getEventsArray(eventName);if(!eventName)return void util.log("Attempted to publish an empty event.","SNI.Video.Events.publish","WARN");if(!containerId){if(!payload||"string"!=typeof payload)return void util.log('Attempted to publish an "'+eventName+'" event without a valid target.',"SNI.Video.Events.publish","WARN");containerId=payload,payload=null}for(;index<eventNames.length;index++)$pdk.controller.dispatchEvent(eventNames[index],payload,[containerId])},publishToAll:function(eventName,payload){void 0===payload&&(payload=null);return eventName?void players.getPlayers().forEach(function(player){return player.publish(eventName,payload,player.getContainerId())}):void util.log("Attempted to publish an empty event.","SNI.Video.Events.publish","WARN")},subscribe:function(eventName,callback,containerId){var eventNames,index=0;if(!eventName)return void util.log("Attempted to subscribe to an empty event.","SNI.Video.Events.subscribe","WARN");if(!callback)return void util.log("Attempted to subscribe to "+eventName+" without a callback.","SNI.Video.Events.subscribe","WARN");if(!containerId)return void util.log("Attempted to subscribe to "+eventName+" without a containerId.","SNI.Video.Events.subscribe","WARN");if(util.isPdkLoaded()&&players.alreadyExists(containerId))for(eventNames=getEventsArray(eventName);index<eventNames.length;index++)$pdk.controller.addEventListener(eventNames[index],callback,[containerId]);else events.queue.push({event:eventName,callback:callback,containerId:containerId})},unsubscribe:function(eventName,callback,containerId){var eventNames,current,queue=events.queue,index=0;if(!eventName)return void util.log("Attempted to unsubscribe to an empty event.","SNI.Video.Events.unsubscribe","WARN");if(!callback)return void util.log("Attempted to unsubscribe to "+eventName+" without a callback.","SNI.Video.Events.unsubscribe","WARN");if(!containerId)return void util.log("Attempted to unsubscribe to "+eventName+" without a containerId.","SNI.Video.Events.unsubscribe","WARN");if(util.isPdkLoaded()&&players.alreadyExists(containerId))for(eventNames=getEventsArray(eventName);index<eventNames.length;index++)$pdk.controller.removeEventListener(eventNames[index],callback,[containerId]);else if(queue.length>0)for(;index<queue.length;index++)if(current=queue[index],current.containerId===containerId&&current.eventName===eventName&&current.callback===callback)return void queue.splice(index,1)},addEventListener:function(eventName,callback,containerId){this.subscribe(eventName,callback,containerId)},removeEventListener:function(eventName,callback,containerId){this.unsubscribe(eventName,callback,containerId)}};window.SNI.Video.Events=events;var awaitingAuth,adobePassSingleton,singletonCreated=!1,root$5='<div id="adobePassRoot" class="mfp-hide"></div>';AdobePass.prototype.getAuthorizationRSS=getAuthorizationRSS,AdobePass.prototype.loadDependencies=function(){window.accessEnabler||util.loadScript(this.settings.accessEnablerURL),jQuery$1.magnificPopup||util.loadScript(this.settings.magnificURL)},AdobePass.prototype.bindGlobalEvents=function(){var adobePass=this;window.displayProviderDialog=adobePass.displayProviderDialog.bind(adobePass),window.setToken=adobePass.setToken.bind(adobePass),window.setAuthenticationStatus=adobePass.setAuthenticationStatus.bind(adobePass),window.selectedProvider=adobePass.selectedProvider.bind(adobePass),window.entitlementLoaded=adobePass.entitlementLoaded.bind(adobePass),window.tokenRequestFailed=function(){util.log('AdobePass "tokenRequestFailed" event triggered. Arguments: '+arguments,"SNI.Video.AdobePass","INFO")},window.createIFrame=function(){util.log('AdobePass "createIFrame" event triggered. Arguments: '+arguments,"SNI.Video.AdobePass","INFO")},window.setMovieDimensions=function(){util.log('AdobePass "setMovieDimensions" event triggered. Arguments: '+arguments,"SNI.Video.AdobePass","INFO")},window.sendTrackingData=function(){util.log('AdobePass "sendTrackingData" event triggered. Arguments: '+arguments,"SNI.Video.AdobePass","INFO")},window.setMetadataStatus=function(){util.log('AdobePass "setMetadataStatus" event triggered. Arguments: '+arguments,"SNI.Video.AdobePass","INFO")},window.setRequestor=function(){util.log('AdobePass "setRequestor" event triggered. Arguments: '+arguments,"SNI.Video.AdobePass","INFO")}},AdobePass.prototype.render=function(){function login(event){var id=jQuery$1(event.currentTarget).val();accessEnabler.setSelectedProvider(id)}var adobe=this,$html=jQuery$1(template$2(adobe.settings));adobe.$root.off("click").html($html),adobe.$root.on("click",".allProvidersCta",function(){var $preferred=adobe.$root.find(".preferredProviders"),$all=adobe.$root.find(".allProviders"),height=$preferred.height();$preferred.hide(),$all.find(".providerList").height(height),$all.show()}),adobe.$root.on("click",".backButton",function(){adobe.render()}),adobe.$root.on("click",".providers-search-clear",function(){adobe.$root.find(".providers-search").val("").trigger("keyup")}),adobe.$root.on("keyup",".providers-search",function(event){var $providerItems,$emptyResults,reset,searchString,searchRegex,keyValue=event.which,hasAtLeastOneMatch=!1;return 13!==keyValue&&(searchString=adobe.$root.find(".providers-search").val(),reset=""===searchString,adobe.$root.find(".groupItem").toggle(reset),adobe.$root.find(".providers-search-clear").toggle(!reset),adobe.$root.find(".searchMatch").contents().unwrap(),$emptyResults=adobe.$root.find(".emptySearchResults").hide(),$providerItems=adobe.$root.find(".providerItem button"),void(reset?$providerItems.show():(searchRegex=new RegExp(searchString,"i"),$providerItems.each(function(index$$1,element){var stringMatch,$element=jQuery$1(element),text=$element.text(),stringIndex=text.toLowerCase().indexOf(searchString.toLowerCase()),hasMatch=stringIndex>-1;$element.toggle(hasMatch),hasMatch&&(hasAtLeastOneMatch=!0,stringMatch=text.substring(stringIndex,stringIndex+searchString.length),$element.html(function(index$$1,html){return html.replace(searchRegex,"<span class='searchMatch'>"+stringMatch+"</span>")}))}),hasAtLeastOneMatch||$emptyResults.show())))}),adobe.$root.on("click",".providerList button",login),adobe.$root.on("click",".providerThumb",login),adobe.$root.on("click",".tpClose",adobe.hide)},AdobePass.prototype.show=function(){var adobe=this;return adobe.settings.providers.length<1?void accessEnabler.getAuthentication():(adobe.render(),void jQuery$1.magnificPopup.open({items:{src:this.$root,type:"inline"},showCloseBtn:!1,callbacks:{close:function(){events.publishToAll("AdobePassModalClosed")},open:function(){events.publishToAll("AdobePassModalOpened")}}}))},AdobePass.prototype.hide=function(){jQuery$1.magnificPopup.close()},AdobePass.prototype.renderMvpdState=function(){var $mvpdStateDomId,$html;this.settings.mvpdStateDomId&&($mvpdStateDomId=jQuery$1("#"+this.settings.mvpdStateDomId),$mvpdStateDomId.length>0&&($html=jQuery$1(template$4(this.settings)),$mvpdStateDomId.off().html($html),$mvpdStateDomId.on("click",".mvpdLogin",function(){accessEnabler.getAuthentication()}),$mvpdStateDomId.on("click",".mvpdLogout",function(){accessEnabler.logout()})))},AdobePass.prototype.selectedProvider=function(providerData){var rss,adobePass=this,providerId=providerData.MVPD,provider=null;provider=adobePass.settings.preferredProviders.filter(function(element){return element.ID===providerId}),provider=provider||adobePass.settings.providers.filter(function(element){return element.ID===providerId}),provider.length>0&&(provider=provider[0]),adobePass.settings.currentProvider={ID:providerId,logoURL:provider.logoURL||adobePass.settings.defaultLogoUrl,displayName:provider.displayName||"Programming Provider",providerURL:provider.providerURL||null},adobePass.renderMvpdState(),events.publishToAll("MvpdLogin",assign({},adobePass.settings.currentProvider)),players.getPlayers().length<1&&(rss=getAuthorizationRSS(adobePassSingleton.settings.requestorId,"Unknown",null,null),accessEnabler.getAuthorization(rss))},AdobePass.prototype.displayProviderDialog=function(providers){function removeExcludedProviders(provider){return adobePass.settings.excludedProviders.indexOf(provider.ID)<0}var adobePass=this;adobePass.settings.providers.length<1&&(adobePass.settings.providers=providers),adobePass.settings.excludedProviders.length>0&&(adobePass.settings.providers=adobePass.settings.providers.filter(removeExcludedProviders)),adobePass.settings.providers.sort(function(providerA,providerB){var nameA=providerA.displayName.toLowerCase(),nameB=providerB.displayName.toLowerCase();return nameA<nameB?-1:nameA>nameB?1:0});var alpha=[];adobePass.settings.providers.forEach(function(provider){var startingChar=provider.displayName.toLowerCase().charAt(0),isLetter=isNaN(startingChar);isLetter||(startingChar="#"),alpha[startingChar]||(alpha[startingChar]=[]),alpha[startingChar].push(provider)}),adobePass.settings.alphabeticalProviders=alpha,adobePass.show()},AdobePass.prototype.setToken=function(providerRss,authToken){var player;awaitingAuth&&(player=awaitingAuth,awaitingAuth=null,removeControlBlockers(player),util.log("Updating release URL with auth token","SNI.Video.AdobePass","INFO"),player.currentVideo.releaseUrl=util.addParameter(player.currentVideo.releaseUrl,"auth",authToken),SNI.Video.Player.prototype.loadReleaseUrl.call(player,player.currentVideo.releaseUrl,player.currentVideo.autoplay))},jQuery$1(document).ready(function(){window.SNI.Video.Defaults.adobePass.enabled&&0===players.getPlayers().length&&AdobePassFactory()}),window.SNI.Video.AdobePass=AdobePassFactory,window.SNI.Video.AkamaiHD=AkamaiHDFactory;var defaults$1={enabled:!1,startingChannelIndex:0,channels:[{start:0,end:0,total:0,title:"",description:"",videos:[{}]}]};window.SNI.Video.Defaults.channels=defaults$1;var baseFor=createBaseFor(),baseEach=createBaseEach(baseForOwn);Channels.prototype.ensureConfig=function(){isArray(this.player.config.channels)&&this.player.config.channels!=this.settings.channels&&(this.settings.channels=this.player.config.channels)},Channels.prototype.setCurrentVideo=function(index,userInitiated){this.ensureConfig();var i=this.player.currentChannelIdx;index<this.settings.channels[i].total&&(this.settings.channels[i].currentVideoIdx=index,this.player.currentVideo=this.settings.channels[i].videos[index],this.player.currentVideoIdx=index,"undefined"==typeof userInitiated?(this.player.currentVideo.videoInitiationType="unknown",util.log('The setCurrentVideo method has been called without the "userInitiated" parameter. Please update calls to pass this parameter.',"SNI.Video.Channels","WARN")):this.player.currentVideo.videoInitiationType=userInitiated?"manual":"autoplay")},Channels.prototype.loadVideo=function(videoId,channelId){this.ensureConfig();var videoIdx,channelIdx=null;channelIdx=channelId?util.getIndex(channelId,this.settings.channels):this.player.currentChannelIdx,videoIdx=util.getIndex(videoId,this.settings.channels[channelIdx].videos),videoIdx?this.loadChannel(channelIdx,videoIdx):util.log("Video ID "+videoId+" not found in channel "+channelIdx,"SNI.Video.Player.loadVideo","ERROR")},Channels.prototype.setCurrentChannel=function(index){this.ensureConfig(),util.log("Setting channel to "+index,"SNI.Video.Player.setCurrentChannel","INFO"),index<this.settings.channels.length&&(this.player.currentChannelIdx=index,this.player.currentVideo=this.settings.channels[index].videos[0],this.player.currentVideoIdx=0)},Channels.prototype.loadChannel=function(channelIndex,videoIndex,userInitiated){this.ensureConfig(),videoIndex||(videoIndex=0),this.setCurrentChannel(channelIndex),this.setCurrentVideo(videoIndex,userInitiated),this.player.play(videoIndex,!0,userInitiated)},Channels.prototype.getVideoUrl=function(index){if(this.ensureConfig(),index<this.settings.channels[this.player.currentChannelIdx].total)return this.settings.channels[this.player.currentChannelIdx].videos[index].releaseUrl},Channels.prototype.getNext=function(){return this.ensureConfig(),this.hasNext()?this.settings.channels[this.player.currentChannelIdx].videos[this.player.currentVideoIdx+1]:(util.log("Reached the end of the channel. Looping to the first video in this channel.","SNI.Video.Player.getNext","INFO"),this.settings.channels[this.player.currentChannelIdx].videos[0])},Channels.prototype.hasNext=function(){return this.ensureConfig(),this.player.currentVideoIdx+1<this.settings.channels[this.player.currentChannelIdx].total},Channels.prototype.playNext=function(userInitiated){var videoIndex=0;this.ensureConfig(),this.hasNext()&&(videoIndex=this.player.currentVideoIdx+1),this.player.play(videoIndex,!0,userInitiated)},Channels.prototype.hasPrevious=function(){return this.ensureConfig(),this.player.currentVideoIdx-1>=0},Channels.prototype.playPrevious=function(userInitiated){this.ensureConfig(),this.hasPrevious()&&this.player.play(this.player.currentVideoIdx-1,!0,userInitiated)},SNI.Video.Channels=ChannelsFactory;var tv=window.tv,defaults$2={enabled:!0,adContainerId:"bigbox",pdkPlugin:{settings:{type:"adcomponent",priority:1,networkId:SNI.Config.Video.networkId,serverUrl:"//2ecd5.v.fwmrm.net/ad/g/1",callback:"SNI.Video.Events.adEvent",siteSectionNetworkId:SNI.Config.Video.networkId,videoAssetNetworkId:SNI.Config.Video.networkId,fallbackSiteSectionId:SNI.Config.Video.fallbackSiteSectionId,customVideoAssetIdField:"bviAssetId",siteSectionId:"fallback",exitFullscreenOnPause:!1,adManagerUrl:window.location.protocol+"//"+("http:"===window.location.protocol?"adm":"mssl")+".fwmrm.net/libs/adm/6.23.0/AdManager.js",playerProfile:"191701:scripps_pdk_{runtime}_live"},html5Settings:{url:video.pdkBaseUrl+"/js/plugins/freewheel.js"}}};window.SNI.Video.Defaults.freewheel=defaults$2;var currentPlayerId,$freewheelAdHtml=!1;window.fw_config=function(){function formatVal(val){return val.replace(/\s/g,"_").replace(/&amp;/g,"&").replace(/&/g,"and").toLowerCase()}for(var keyValues,length,siteSectionId,aamVals=decodeURIComponent(util.Cookie.get("aam_fw")).replace(/\;/g,"&").split("&").slice(0,35),autoplay="autoplay"==mdManager.getParameterString("videoPlayType"),$currentPlayer=jQuery$1("#"+currentPlayerId),aam="",index=0,amcv=decodeURIComponent(util.Cookie.get("AMCV_BC501253513148ED0A490D45%40AdobeOrg")),amcvArr=amcv?amcv.split(/\|/):[],mcmidIdx=amcvArr.indexOf("MCMID");index<aamVals.length;index++)aam+="&"+aamVals[index];return length=util.convertToSeconds(mdManager.getParameterString("videoRunTime")),siteSectionId=util.getParameterByName("siteSectionId")?util.getParameterByName("siteSectionId"):mdManager.getParameterString("Site")+"-"+mdManager.getParameterString("CategoryDspName"),keyValues={adkey1:formatVal(mdManager.getParameterString("AdKey1")),adkey2:formatVal(mdManager.getParameterString("AdKey2")),category:formatVal(mdManager.getParameterString("CategoryDspName")),externalCustomVisitor:util.Cookie.get("aam_did")||"",pagetype:formatVal(mdManager.getParameterString("Type")),playertype:formatVal(mdManager.getParameterString("PlayerType")),topic:formatVal(mdManager.getParameterString("Sponsorship")),subsection:formatVal(mdManager.getParameterString("SctnDspName")),uniqueid:formatVal(mdManager.getParameterString("UniqueId")),vgncontent:formatVal(mdManager.getParameterString("SctnDspName")),duration:length,page_url:formatVal(window.location.href),pw:$currentPlayer.width(),ph:$currentPlayer.height(),mcmid:mcmidIdx===-1?"":amcvArr[mcmidIdx+1],metr:0},!isNaN(parseFloat(length))&&isFinite(length)&&(length=Math.floor(parseFloat(length)),keyValues.format=formatVal(length>480?"long":"short")),window.adsData&&adsData.amazon_video_targeting&&(util.log("SniAds extending the FW KV pairs with amazon values.","SNI.Video.Freewheel","INFO"),assign(keyValues,adsData.amazon_video_targeting)),mdManager.getParameterString("videoGUID")&&(keyValues.video_uuid=formatVal(mdManager.getParameterString("videoGUID"))),{autoplay:autoplay,siteSectionId:formatVal(siteSectionId),customId:formatVal(mdManager.getParameterString("videoNlvid")+"-oo"),duration:formatVal(length+""),keyValues:jQuery$1.param(keyValues)+aam}},window.SNI.Video.Events=window.SNI.Video.Events||{},window.SNI.Video.Events.adEvent=function(event){var data;"adStart"===event.type&&(data=event.data.customData.split(";"),mdManager.setParameter("videoAdTitle",data[0]),mdManager.setParameter("videoAdRunTime",Math.round(event.data.length)||-1),mdManager.setParameter("videoAdPodName",data[1]),mdManager.setParameter("videoAdPodPosition",data[2]),util.log("Received an ad: Title: "+data[0]+"; Length: "+event.data.length+"; PodName: "+data[1]+"; PodPosition: "+data[2],"SNI.Video.Events.adEvent","INFO"))},Freewheel.prototype.setCurrentPlayer=function(){currentPlayerId=this.player.getContainerId()},Freewheel.prototype.setFreewheelContainer=function(){var adContainerId=this.settings.adContainerId,$container=jQuery$1("#"+adContainerId);return $container.length<1?void util.log("#"+adContainerId+" element is not present in the DOM, can't deliver bigbox ad","SNI.Video.Freewheel.OnPlayerLoaded","WARN"):(util.log("Injecting FreeWheel markup into the #"+adContainerId+" container","SNI.Video.Freewheel","INFO"),void $container.html($freewheelAdHtml))},window.SNI.Video.Freewheel=FreewheelFactory;var defaults$3={enabled:!0};window.SNI.Video.Defaults.playClickToggle=defaults$3,window.SNI.Video.PlayClickToggle=PlayClickToggleFactory;var defaults$4={enabled:!0};window.SNI.Video.Defaults.singlePlayback=defaults$4;var otherHasAutoPlay=!1;SinglePlayback.prototype.OnPlaying=function(){var currentPlayer=this.player;players.getPlayers().forEach(function(player){currentPlayer!==player&&player.pause()})},window.SNI.Video.SinglePlayback=SinglePlaybackFactory;var defaults$5={enabled:!1,mainApp:"//d243sour89mi5g.cloudfront.net/wng-scripps/1.0.0/wng-scripps-boot.js"};window.SNI.Video.Defaults.watchwith=defaults$5,window.SNI.Video.Watchwith=WatchwithFactory;var enabled=util.isLocalStorageSupported(),localStore=window.localStorage,storage={setValue:function(settingName,value){return enabled&&("string"!=typeof settingName?util.log("Attempted to store data with a non-string key.","SNI.Video.Storage.setValue","INFO"):localStore.setItem(settingName,JSON.stringify(value))),value},getValue:function(settingName){var value;return enabled&&("string"!=typeof settingName?util.log("Attempted to retrieve data with a non-string key.","SNI.Video.Storage.getValue","INFO"):value=JSON.parse(localStore.getItem(settingName))),value},deleteValue:function(settingName){var success=!1;if(enabled)if("string"!=typeof settingName)util.log("Attempted to delete data with a non-string key.","SNI.Video.Storage.deleteValue","INFO");else try{localStore.removeItem(settingName),success=!0}catch(error){util.log("Failed to delete data with key: "+settingName+". Error: "+error,"SNI.Video.Storage.deleteValue","INFO")}return success}};window.SNI.Video.Storage=storage;var id$1=getAssetId();isNaN(id$1)&&(id$1=!1);var defaults$6={enabled:!0,pdkPlugin:{settings:{priority:1,URL:"https://src.litix.io/cts/1/cts-mux.js",env_key:getEnv(),respectDoNotTrack:!1,debug:inDev(),viewer_user_id:storage.getValue("QoSId")||storage.setValue("QoSId",util.generateUUID()),player_name:"Scripps Networks Interactive Web (JS SDK) Player",page_type:mdManager.getParameter("Type"),experiment_name:getExperimentName(),player_version:video.pdkVersion,video_id:id$1?id$1:mdManager.getDetailId(),video_title:getTitleFromAssetTitle()||mdManager.getParameter("Title"),video_series:mdManager.getParameter("SctnDspName"),video_language_code:window.navigator.language,video_content_type:mdManager.getParameter("CategoryDspName"),video_stream_type:mdManager.getParameter("Delivery_Channel"),video_producer:mdManager.getParameter("Site")||window.location.hostname,video_encoding_variant:getEncoding(),video_cdn:"Akamai"},html5Settings:{url:"https://src.litix.io/cts/1/cts-mux.js"}}};window.SNI.Video.Defaults.mux=defaults$6,window.SNI.Video.Mux=MuxFactory;var defaults$7={enabled:!0,pdkPlugin:{settings:{type:"analytics",priority:1,c2:"6035648",labelmapping:{ns_st_ci:"content.nonLinearId",ns_st_pr:"content.showName",ns_st_pu:"content.ownerBrand",c6:"content.showName"},persistentlabels:{c3:mdManager.getParameterString("SITE"),c4:"*null"}},html5Settings:{url:"//sb.scorecardresearch.com/c2/plugins/streamsense_plugin_theplatform.js"}}};window.SNI.Video.Defaults.comscore=defaults$7,window.SNI.Video.Comscore=ComscoreFactory;var defaults$8={enabled:!1,pdkPlugin:{settings:{type:"qos",priority:1,customerId:"796d81e6e4920cabdf893f802e30e23562c01aeb",serviceUrl:"https://cws.conviva.com",assetName:"{title}",deviceType:null,metadataKeys:function(){var keys=[];return keys.push("c3AirDate"),keys.push("episodeType"),keys.push("totalRunTime"),keys.push("episodeNumber"),keys.push("language"),keys.push("mcp_id"),keys.push("nonLinearId"),keys.push("scrid"),keys.push("showName"),keys.push("ccExists"),keys.join(",")}(),playerName:"Scripps Networks Interactive Web (JS SDK) Player",playerTag:{subtitleLanguage:"EN",userPreferredLanguage:window.navigator.language,protocol:window.location.protocol,domain:window.location.host,url:window.location.href,videoPlayer:"Scripps Web (PDK) Player",videoPlayerVersion:video.pdkVersion,appVersion:video.version,brand:window.location.hostname.split(".").reverse()[1],viewerId:storage.getValue("QoSId")||storage.setValue("QoSId",util.generateUUID())}},html5Settings:{url:video.vpcBaseUrl+"/js/libs/ConvivaThePlatformUniversalPlugin.js"}}};window.SNI.Video.Defaults.conviva=defaults$8,window.SNI.Video.Conviva=ConvivaFactory;var defaults$9={enabled:!1};window.SNI.Video.Defaults.ias=defaults$9,window.SNI.Video.Ias=IasFactory;var defaults$10={enabled:!1};window.SNI.Video.Defaults.newRelic=defaults$10;var customPageActions,defaultReportData,videoReportData,errorReportData;customPageActions={play:"play",pause:"pause",seek:"seek",replay:"replay",fullscreen:"fullscreen",volumeAdjust:"volumeAdjust",mute:"mute",caption:"caption",adClick:"adClick",start:"start",end:"end",buffer:"buffer",bufferEnd:"bufferEnd",appLoadStart:"appLoadStart",appLoadFinish:"appLoadFinish",moduleLoadStart:"moduleLoadStart",moduleLoadFinish:"moduleLoadFinish",appUnload:"appUnload",unhandledError:"unhandledError",handledError:"handledError"},defaultReportData={continent:null,dma:null,postalCode:null,state:null,deviceBrand:null,deviceManufacturer:null,deviceModel:null,deviceVersion:null,deviceType:null,framework:null,frameworkVersion:null,operatingSystemVersion:null,platform:window.navigator.platform||null,platformVersion:null,cdn:null,isp:null,connectionType:null,subtitlesEnabled:!1,subtitleLanguage:"en",mvpd:null,viewerId:storage.getValue("QoSId")||storage.setValue("QoSId",util.generateUUID()),language:window.navigator.language||null,adBlockerDetected:!1,protocol:window.location.protocol||null,domain:window.location.hostname||null,videoPlayer:"PDK",videoRuntime:null,videoPlayerVersion:SNI.Video.pdkVersion||null,appVersion:SNI.Video.version||null},videoReportData={uuid:null,videoSession:null,assetName:null,nlvid:null,assetType:null,isRestricted:!1,duration:null,seasonNumber:null,episodeNumber:null,isAd:!1,adName:null,isLive:!1,rating:null,airDate:null,showName:null,subtitlesAvailable:!1,bitRate:null,assetEncoding:null,assetUrl:null,scrid:null,loadStart:null,loadEnd:null,loadTime:null,bufferCount:0,mediaTime:0},errorReportData={errorMessage:null,errorType:null,stackTrace:null},NewRelic.prototype.resetVideoData=function(){var newRelic=this;!newRelic.playedToEnd&&newRelic.assetStarted&&record(customPageActions.end,newRelic.videoReportData,{playedToEnd:!1}),newRelic.playedToEnd=!1,newRelic.assetStarted=!1,newRelic.bufferStartTime=!1,newRelic.videoReportData=assign({},videoReportData,{mcpid:newRelic.player.currentVideo.mcpid||null,videoSession:util.generateUUID(),assetName:newRelic.player.currentVideo.title||null,nlvid:newRelic.player.currentVideo.nlvid||null,assetType:newRelic.player.currentVideo.episodeType||null,isRestricted:newRelic.player.currentVideo.restricted||!1,duration:newRelic.player.currentVideo.length||null,episodeNumber:newRelic.player.currentVideo.episodeNumber||null,seasonNumber:newRelic.player.currentVideo.season||null,isAd:!1,adName:null,isLive:!1,rating:null,airDate:newRelic.player.currentVideo.airDate||null,showName:newRelic.player.currentVideo.showTitle||null,subtitlesAvailable:!1,bitRate:null,assetEncoding:null,assetUrl:newRelic.player.currentVideo.releaseUrl||null,scrid:newRelic.player.currentVideo.scrid||null,loadStart:Date.now(),loadEnd:null,bufferCount:0,mediaTime:0})},NewRelic.prototype.OnMediaPlaying=function(event){var newRelic=this,timeObject=event.data;if(newRelic.bufferStartTime){var now=Date.now(),customData={bufferDuration:now-newRelic.bufferStartTime};newRelic.bufferStartTime=!1,record(customPageActions.bufferEnd,newRelic.videoReportData,customData)}newRelic.videoReportData.mediaTime=timeObject.currentTimeAggregate},NewRelic.prototype.OnMediaPause=function(){var newRelic=this;record(customPageActions.pause,newRelic.videoReportData)},NewRelic.prototype.OnMediaUnpause=function(){var newRelic=this;record(customPageActions.play,newRelic.videoReportData)},NewRelic.prototype.OnMediaSeek=function(event){var newRelic=this,seekObject=event.data,customData={seekStart:util.formatOffset(seekObject.start.currentTimeAggregate||-1),seekEnd:util.formatOffset(seekObject.end.currentTimeAggregate||-1)};util.log("Player scrubbed from "+customData.seekStart+"s to "+customData.seekEnd+"s","SNI.Video.NewRelic.onMediaSeek","INFO"),record(customPageActions.seek,newRelic.videoReportData,customData)},NewRelic.prototype.Replay=function(){var newRelic=this;util.log("Player is replaying the same asset.","SNI.Video.NewRelic.Replay","INFO"),record(customPageActions.replay,newRelic.videoReportData)},NewRelic.prototype.OnShowFullScreen=function(event){var newRelic=this,customData={isFullscreen:!event.data};newRelic.assetStarted&&record(customPageActions.fullscreen,newRelic.videoReportData,customData)},NewRelic.prototype.OnVolumeChange=function(event){var newRelic=this,customData={volumePercent:event.data/100};newRelic.assetStarted&&record(customPageActions.volumeAdjust,newRelic.videoReportData,customData)},NewRelic.prototype.OnMute=function(event){var newRelic=this,customData={isMuted:!!event.data};record(customPageActions.mute,newRelic.videoReportData,customData)},NewRelic.prototype.ClosedCaptionStatus=function(event){var newRelic=this,settings=event.data;defaultReportData.subtitlesEnabled=!!settings.userCcEnabled,newRelic.videoReportData.subtitlesAvailable=!!settings.assetHasCaptions,record(customPageActions.caption,newRelic.videoReportData)},NewRelic.prototype.OnMediaClick=function(){var newRelic=this;newRelic.player.isPlayingAd()&&record(customPageActions.adClick,newRelic.videoReportData)},NewRelic.prototype.OnMediaStart=function(event){var newRelic=this,clip=event.data,customData={};util.log("Media start","SNI.Video.NewRelic.OnMediaStart","INFO"),newRelic.assetStarted=!0,newRelic.videoReportData.loadEnd||(newRelic.videoReportData.loadEnd=Date.now(),newRelic.videoReportData.loadTime=newRelic.videoReportData.loadEnd-newRelic.videoReportData.loadStart),newRelic.videoReportData.assetEncoding=clip.streamType||null,clip.baseClip.isAd?(newRelic.videoReportData.adName="Ad :: ID "+clip.id,newRelic.videoReportData.isAd=!0,record(customPageActions.start,newRelic.videoReportData,customData)):(newRelic.videoReportData.adName=null,newRelic.videoReportData.isAd=!1,(newRelic.lastStartWasAd&&1===clip.clipIndex||0===clip.clipIndex)&&record(customPageActions.start,newRelic.videoReportData,customData)),newRelic.lastStartWasAd=clip.baseClip.isAd},NewRelic.prototype.OnReleaseEnd=function(){var newRelic=this,customData={playedToEnd:!0};newRelic.playedToEnd=!0,record(customPageActions.end,newRelic.videoReportData,customData)},NewRelic.prototype.OnRenditionSwitched=function(eventData){var newRelic=this,newRendition=eventData.data.newRendition;newRelic.videoReportData.bitRate=newRendition.bitrate},NewRelic.prototype.OnMediaBufferStart=function(){var newRelic=this;newRelic.assetStarted&&!newRelic.player.isPaused()&&(newRelic.bufferStartTime=Date.now(),newRelic.videoReportData.bufferCount++,record(customPageActions.buffer,newRelic.videoReportData))},NewRelic.prototype.AppLoadStartAndFinish=function(){var customData={};performance$1.endTime||(performance$1.endTime=performance$1.endTime||Date.now(),performance$1.totalLoadTime=performance$1.endTime-performance$1.startTime,customData.startUpTime=performance$1.totalLoadTime/1e3,record(customPageActions.appLoadStart,performance$1.getCurrentPerformanceData()),record(customPageActions.appLoadFinish,performance$1.getCurrentPerformanceData(),customData))},NewRelic.prototype.AppUnload=function(){var customData={activeTime:(Date.now()-performance$1.startTime)/1e3};record(customPageActions.appUnload,performance$1.getCurrentPerformanceData(),customData)},NewRelic.prototype.GlobalError=function(event){var customData;customData=assign({},errorReportData,{errorMessage:event.message||null,source:event.filename||null,errorType:event.error&&event.error.type?event.error.type:null,stackTrace:event.error&&event.error.stack?event.error.stack:null}),record(customPageActions.unhandledError,customData)},NewRelic.prototype.OnReleaseError=function(event){var customData;customData=assign({},errorReportData,{errorMessage:"Failed to load the following release: "+JSON.stringify(event.data),errorType:"Release Error"}),record(customPageActions.unhandledError,customData)},window.SNI.Video.NewRelic=NewRelicFactory;var defaults$11={enabled:!0,apid:null,apn:"O and O Player",sfcode:"aws"};window.SNI.Video.Defaults.nielsen=defaults$11,Nielsen.prototype.setVideoMeta=function(){var channel=this.player.currentChannelIdx;return util.isMdmLoaded()?(mdManager.setParameter("NielsenAPID",this.settings.apid),mdManager.setParameter("NielsenAPN",this.settings.apn),mdManager.setParameter("videoTitle",this.player.currentVideo.title),mdManager.setParameter("DPRProgramName",this.player.currentVideo.showTitle),mdManager.setParameter("videoType","content"),mdManager.setParameter("DPRFlag","true"),mdManager.setParameter("videoPlayType",this.player.currentVideo.videoInitiationType),mdManager.setParameter("videoRunTime",this.player.currentVideo.length),mdManager.setParameter("videoEvents",[]),void mdManager.setParameter("videoPlaylistCount",this.player.modules.channels?this.player.modules.channels.settings.channels[channel].total:0)):void util.log("mdManager is not available","SNI.Video.Analytics.setVideoMeta","ERROR")},window.SNI.Video.Nielsen=NielsenFactory;var defaults$12={enabled:!0};window.SNI.Video.Defaults.omniture=defaults$12,Omniture.prototype.playerReady=function(){util.log("Player ready called.","SNI.Video.Omniture.playerReady","INFO");var binding,setVideoMetaWithContext=this.setVideoMeta.bind(this),legacyBindings={OnLoadReleaseUrl:util.sequence(setVideoMetaWithContext,this.OnLoadReleaseUrl.bind(this)),OnSetReleaseUrl:util.sequence(setVideoMetaWithContext,this.OnLoadReleaseUrl.bind(this)),OnMediaStart:util.sequence(setVideoMetaWithContext,this.OnMediaStart.bind(this)),OnMediaPlay:util.sequence(setVideoMetaWithContext,this.OnMediaPlay.bind(this)),OnMediaEnd:util.sequence(setVideoMetaWithContext,this.OnMediaEnd.bind(this)),OnReleaseEnd:util.sequence(setVideoMetaWithContext,this.OnReleaseEnd.bind(this)),OnMediaPause:util.sequence(setVideoMetaWithContext,this.OnMediaPause.bind(this)),OnMediaUnpause:util.sequence(setVideoMetaWithContext,this.OnMediaUnpause.bind(this)),OnMediaSeek:util.sequence(setVideoMetaWithContext,this.OnMediaSeek.bind(this)),OnMediaBufferStart:util.sequence(setVideoMetaWithContext,this.OnMediaBufferStart.bind(this))},heartbeatBindings={OnLoadReleaseUrl:setVideoMetaWithContext,OnSetReleaseUrl:setVideoMetaWithContext,OnMediaStart:setVideoMetaWithContext,OnMediaPlay:setVideoMetaWithContext,
OnMediaEnd:setVideoMetaWithContext,OnReleaseEnd:setVideoMetaWithContext,OnMediaPause:setVideoMetaWithContext,OnMediaUnpause:setVideoMetaWithContext,OnMediaSeek:setVideoMetaWithContext,OnMediaBufferStart:setVideoMetaWithContext};try{SNI.Analytics.heartbeatInit(this.player),util.log("Heartbeat tracking initialized.","SNI.Video.Omniture.playerReady","INFO");for(binding in heartbeatBindings)heartbeatBindings.hasOwnProperty(binding)&&this.player.subscribe(binding,heartbeatBindings[binding])}catch(e){util.log("There was an error initializing heartbeat events. Reverting to legacy tracking.","SNI.Video.Omniture","WARN");for(binding in legacyBindings)legacyBindings.hasOwnProperty(binding)&&this.player.subscribe(binding,legacyBindings[binding])}},Omniture.prototype.resetCounts=function(){util.log("Resetting all flags.","SNI.Video.Omniture.resetCounts","INFO"),this.adPosition=1,this.preRollCompleted=!1,this.adCompleted=!1,this.lastClipWasAd=!1},Omniture.prototype.OnLoadReleaseUrl=function(){this.resetCounts(),""===this.previousTitle&&(this.previousTitle=this.player.currentVideo.title)},Omniture.prototype.OnMediaStart=function(event){var adRuntime,clip=event.data;util.log("Media start","SNI.Video.Omniture.OnMediaStart","INFO"),this.player.isChannelPlayer()&&0!==this.player.currentVideoIdx&&void 0===this.player.currentVideo.hasPlayed&&mdManager.setParameter("videoPlaylistCount","");try{clip.baseClip.isAd?(adRuntime=event.data.length,mdManager.setParameter("videoAdTitle","Ad Play :: ID "+clip.id),this.preRollCompleted?mdManager.setParameter("videoAdPodName","midroll"):mdManager.setParameter("videoAdPodName","preroll"),mdManager.setParameter("videoAdPodPosition",this.adPosition),adRuntime=Math.round(adRuntime/1e3)||-1,mdManager.setParameter("videoAdRunTime",adRuntime),util.log("Calling Open on Ad: "+mdManager.getParameterString("videoAdTitle")+" at offset: "+util.formatOffset(clip.mediaTime)+" Pod Name: "+mdManager.getParameterString("videoAdPodName")+" Ad Position: "+mdManager.getParameterString("videoAdPodPosition"),"SNI.Video.Omniture.OnMediaStart","DEBUG"),mdManager.Media.openAd(mdManager.getParameterString("videoAdTitle"),adRuntime,"PDK",this.player.currentVideo.title,mdManager.getParameterString("videoAdPodName"),mdManager.getParameterString("videoAdPodPosition")),util.log("Calling Play on Ad: "+mdManager.getParameterString("videoAdTitle")+" at offset: "+util.formatOffset(clip.mediaTime),"SNI.Video.Omniture.OnMediaStart","DEBUG"),mdManager.Media.play(mdManager.getParameterString("videoAdTitle"),util.formatOffset(clip.mediaTime),"PDK",this.player.currentVideo.title,mdManager.getParameterString("videoAdPodName"),mdManager.getParameterString("videoAdPodPosition")),util.log("Clip "+(event.data.clipIndex+1)+" is an ad :: Length: "+adRuntime+"s; Title: "+mdManager.getParameterString("videoAdTitle"),"SNI.Video.Omniture.OnMediaStart","INFO")):(adRuntime=parseInt(mdManager.getParameterString("videoAdRunTime"),0),this.lastClipWasAd=!1,1===event.data.clipIndex&&(util.log("Calling Open on Content: "+this.player.currentVideo.title+" at offset: "+util.formatOffset(clip.mediaLength),"SNI.Video.Omniture.OnMediaStart","DEBUG"),mdManager.Media.open(this.player.currentVideo.title,util.formatOffset(clip.mediaLength),"PDK")),util.log("Calling Play on Content: "+this.player.currentVideo.title+" at offset: "+util.formatOffset(clip.mediaTime),"SNI.Video.Omniture.onMediaStart","DEBUG"),mdManager.Media.play(this.player.currentVideo.title,util.formatOffset(0)),this.player.isChannelPlayer()?util.log("Playing channel "+(this.player.currentChannelIdx+1)+"/"+this.player.modules.channels.settings.channels.length+", video "+(this.player.currentVideoIdx+1)+"/"+this.player.modules.channels.settings.channels[this.player.currentChannelIdx].videos.length,"SNI.Video.Omniture.OnMediaStart","INFO"):util.log("Playing single video, clip "+(event.data.clipIndex+1),"SNI.Video.Omniture.OnMediaStart","INFO"))}catch(e){util.log("Error in the Omniture code. Omniture tracking probably isn't working: "+e,"SNI.Video.Omniture.OnMediaStart","ERROR")}},Omniture.prototype.OnMediaPlay=function(event){var clip=event.data;util.log("Media play","SNI.Video.Omniture.onMediaPlay","INFO");try{this.adCompleted?(this.adCompleted=!1,util.log("Ignoring call to play as ad just completed on content: "+this.player.currentVideo.title+" at offset: "+util.formatOffset(clip.mediaTime),"SNI.Video.Omniture.onMediaPlay","DEBUG")):(util.log("Calling Play -- resuming or buffering on: "+this.player.currentVideo.title+" at offset: "+util.formatOffset(clip.mediaTime),"SNI.Video.Omniture.onMediaPlay","DEBUG"),mdManager.Media.play(this.player.currentVideo.title,util.formatOffset(clip.mediaTime)))}catch(e){util.log("Error in the Omniture code. Omniture tracking probably isn't working: "+e,"SNI.Video.Omniture.onMediaPlay","ERROR")}},Omniture.prototype.OnMediaEnd=function(event){var clip=event.data;util.log("Media ended","SNI.Video.Omniture.OnMediaEnd","INFO"),this.lastClipWasAd=clip.baseClip.isAd;try{clip.baseClip.isAd?(this.adPosition++,this.preRollCompleted||(this.preRollCompleted=!0,this.adPosition=1),mdManager.Media.stop(mdManager.getParameterString("videoAdTitle"),util.formatOffset(clip.mediaTime)),mdManager.Media.close(mdManager.getParameterString("videoAdTitle")),util.log("Calling Stop and Close on Ad: "+mdManager.getParameterString("videoAdTitle")+" at offset: "+util.formatOffset(clip.mediaTime)+" Pod Name: "+mdManager.getParameterString("videoAdPodName")+" Ad Position: "+mdManager.getParameterString("videoAdPodPosition"),"SNI.Video.Omniture.onMediaStart","DEBUG"),this.adCompleted=!0):(mdManager.Media.stop(this.player.currentVideo.title,util.formatOffset(clip.mediaTime)),util.log("Called Stop on Content: "+this.player.currentVideo.title+" at offset: "+util.formatOffset(clip.mediaTime),"SNI.Video.Omniture.onMediaEnd","DEBUG"))}catch(e){util.log("Error in the Omniture code. Omniture tracking probably isn't working: "+e,"SNI.Video.Omniture.onMediaEnd","ERROR")}},Omniture.prototype.OnReleaseEnd=function(){util.log("Release ended","SNI.Video.Omniture.onReleaseEnd","INFO");try{var previousTitle=""===this.previousTitle?this.player.currentVideo.title:this.previousTitle;mdManager.Media.close(previousTitle),util.log("Release ended. Resetting adPosition and calling Close on open data: "+previousTitle,"SNI.Video.Omniture.onReleaseEnd","DEBUG"),this.adPosition=0,this.resetCounts(),this.previousTitle=this.player.currentVideo.title,mdManager.setParameter("videoPlaylistCount",""),this.player.currentVideoIdx>0&&(this.player.modules.channels.settings.channels[this.player.currentChannelIdx].videos[this.player.currentVideoIdx-1].hasPlayed=!0)}catch(e){util.log("Error in the Omniture code. Omniture tracking probably isn't working: "+e,"SNI.Video.Omniture.onReleaseEnd","ERROR")}},Omniture.prototype.OnMediaPause=function(event){var clip=event.data.clip;util.log("Playback paused at "+parseFloat(clip.mediaTime/1e3+"")+"s","SNI.Video.Omniture.onMediaPause","INFO");try{clip.baseClip.isAd?(util.log("Called stop on ad: "+mdManager.getParameterString("videoAdTitle")+" at offset: "+util.formatOffset(clip.mediaTime),"SNI.Video.Omniture.onMediaPause","DEBUG"),mdManager.Media.stop(mdManager.getParameterString("videoAdTitle"),util.formatOffset(clip.mediaTime)),util.mdmAppend("videoEvents","pause")):(util.log("Called stop on content: "+this.player.currentVideo.title+" at offset: "+util.formatOffset(clip.mediaTime),"SNI.Video.Omniture.onMediaPause","DEBUG"),mdManager.Media.stop(this.player.currentVideo.title,util.formatOffset(clip.mediaTime)),util.mdmAppend("videoEvents","pause"))}catch(e){util.log("Error in the Omniture code. Omniture tracking probably isn't working: "+e,"SNI.Video.Omniture.onMediaPause","DEBUG")}},Omniture.prototype.OnMediaUnpause=function(event){var clip=event.data.clip;util.log("Playback resumed at "+parseFloat(clip.mediaTime/1e3+"")+"s","SNI.Video.Omniture.onMediaUnpause","INFO");try{clip.baseClip.isAd?(util.log("Called play on ad: "+mdManager.getParameterString("videoAdTitle")+" at offset: "+util.formatOffset(clip.mediaTime),"SNI.Video.Omniture.onMediaUnPause","DEBUG"),mdManager.Media.play(mdManager.getParameterString("videoAdTitle"),util.formatOffset(clip.mediaTime)),util.mdmAppend("videoEvents","resume")):(util.log("Called play on content: "+this.player.currentVideo.title+" at offset: "+util.formatOffset(clip.mediaTime),"SNI.Video.Omniture.onMediaUnPause","DEBUG"),mdManager.Media.play(this.player.currentVideo.title,util.formatOffset(clip.mediaTime)),util.mdmAppend("videoEvents","resume"))}catch(e){util.log("Error in the Omniture code. Omniture tracking probably isn't working: "+e,"SNI.Video.Omniture.onMediaUnpause","ERROR")}},Omniture.prototype.OnMediaSeek=function(event){var seekObject=event.data,seekStart=seekObject.start.currentTimeAggregate||-1,seekStop=seekObject.end.currentTimeAggregate||-1;seekStart=util.formatOffset(event.data.start.mediaTime),seekStop=util.formatOffset(event.data.end.mediaTime),util.log("Player scrubbed from "+seekStart+"s to "+seekStop+"s","SNI.Video.Omniture.onMediaSeek","INFO");try{util.mdmAppend("videoEvents","video scrubbed"),mdManager.Media.stop(this.player.currentVideo.title,seekStart),mdManager.Media.play(this.player.currentVideo.title,seekStop)}catch(e){util.log("Error in the Omniture code. Omniture tracking probably isn't working: "+e,"SNI.Video.Omniture.onMediaSeek","ERROR")}},Omniture.prototype.OnShowFullScreen=function(event){var isFullScreen=!event.data,$container=this.player.$container;$container.toggleClass("fullscreen",!isFullScreen),isFullScreen?(util.log("Exiting fullscreen...","SNI.Video.Omniture.onShowFullScreen","INFO"),util.mdmAppend("videoEvents","exit full screen")):(util.log("Entering fullscreen...","SNI.Video.Omniture.onShowFullScreen","INFO"),util.mdmAppend("videoEvents","enter full screen")),mdManager.setParameter("videoScreenType",isFullScreen?"full screen":"normal")},Omniture.prototype.OnMediaBufferStart=function(event){var clip=event.data;util.log("Video buffering","SNI.Video.Omniture.onMediaBuffer","INFO");try{util.log("Calling stop on: "+this.player.currentVideo.title,"SNI.Video.Omniture.onMediaBuffer","DEBUG"),mdManager.Media.stop(this.player.currentVideo.title,util.formatOffset(clip.mediaTime))}catch(e){util.log("Error in the Omniture code. Omniture tracking probably isn't working: "+e,"SNI.Video.Omniture.onMediaBuffer","ERROR")}},Omniture.prototype.setVideoMeta=function(event){if(!util.isMdmLoaded())return void util.log("mdManager is not available","SNI.Video.Omniture.setVideoMeta","ERROR");var channel=this.player.currentChannelIdx;mdManager.setParameter("videoTitle",this.player.currentVideo.title),mdManager.setParameter("videoPlayerType",util.getRuntime()),mdManager.setParameter("showTitle",this.player.currentVideo.showTitle),mdManager.setParameter("videoPlayerName","PDK"),mdManager.setParameter("videoChannelName",this.player.isChannelPlayer()?this.player.modules.channels.settings.channels[this.player.currentChannelIdx].title:"no playlist"),mdManager.setParameter("videoPlayType",this.player.currentVideo.videoInitiationType),mdManager.setParameter("videoNLVID",this.player.currentVideo.nlvid),mdManager.setParameter("videoSCRID",this.player.currentVideo.scrid),mdManager.setParameter("videoCMSID",this.player.currentVideo.cmsid),mdManager.setParameter("videoPlaylistCount",this.player.modules.channels?this.player.modules.channels.settings.channels[channel].total:0),mdManager.setParameter("videoRunTime",this.player.currentVideo.length),mdManager.setParameter("videoScreenType",this.player.config.player.isFullscreen?"full screen":"normal"),mdManager.setParameter("videoSponsor",this.player.currentVideo.sponsor),this.player.currentVideo.sniGUID&&mdManager.setParameter("videoGUID",this.player.currentVideo.sniGUID),"undefined"!=typeof event.data.clip&&event.data.clip.baseClip.isAd?mdManager.setParameter("videoAdTitle","Ad Play :: ID "+event.data.clip.id):mdManager.setParameter("videoAdTitle",""),this.player.currentVideo.episodeType&&mdManager.setParameter("videoWindowing",this.player.currentVideo.episodeType),mdManager.setParameter("videoEvents",[]),mdManager.setParameter("videoPublisherId",event.data&&event.data.baseClip&&event.data.baseClip.author?event.data.baseClip.author:"not available")},window.SNI.Video.Omniture=OmnitureFactory;var defaults$13={enabled:!1};window.SNI.Video.Defaults.ulive=defaults$13,Ulive.prototype.OnMediaStart=function(event){var contentBegan,clip=event.data;clip.baseClip.isAd||window.SNI.Video.Analytics.ulive.contentBeganFired||(this.contentBeganFired=!0,contentBegan=[{_type:"RG.WIDGET.MEDIA",_event:"VIDEO_CONTENT_BEGIN",client:{user_id:SNI.Util.Cookie.get("uliveUserId"),session_id:SNI.Util.Cookie.get("uliveSession"),page_id:util.generateUUID(this.settings.delim),page_url:window.location.href,referrer_url:document.referrer,player_id:util.generateUUID(this.settings.delim)},sequence:{index:window.SNI.Video.Analytics.ulive.sequenceNumber++,timestamp:(new Date).toISOString()},detail:{index:this.player.currentVideoIdx?this.player.currentVideoIdx:0,video_id:this.player.currentVideo.scrid?this.player.currentVideo.scrid:mdManager.getDetailId()}}],jQuery$1.ajax({type:"POST",url:"http://events.realgravity.com/sni-events",data:JSON.stringify(contentBegan),success:function(data){util.log("Content Began fired for PDK : "+data,"SNI.Video.Analytics.ulive","WARN")},dataType:"json",processData:!1}))},window.SNI.Video.Ulive=UliveFactory;var defaults$14={enabled:!0,positionIndex:500,volumeLevel:100,muted:!1,anvatoApiUrl:"//cast.anvato.net/sni/prod/scripts/acrfhelper.js",chromecastApiUrl:"//www.gstatic.com/cv/js/sender/v1/cast_sender.js",receiverAppId:null};window.SNI.Video.Defaults.chromecast=defaults$14,window.SNI.Video.Defaults.chromecast2=defaults$14;var chromeApiPromise=new es6Promise.Promise(function(resolve,reject){window.__onGCastApiAvailable=function(loaded,errorInfo){loaded?resolve():reject(errorInfo)}}),ACCESS_KEY="anvato_scripps_app_web_prod_0837996dbe373629133857ae9eb72e740424d80a",SECRET_KEY="du1ccmn7RxzgizwbWU7hyUaGodNlJn7HtXI0WgXW",selectors$1={chromecastButton:".controlChromecast",disconnected:".disconnected",connecting:".connecting",connected:".connected"},DEVICE_STATE={IDLE:0,ACTIVE:1,WARNING:2,ERROR:3},PLAYER_STATE={IDLE:"IDLE",LOADING:"LOADING",LOADED:"LOADED",PLAYING:"PLAYING",PAUSED:"PAUSED",STOPPED:"STOPPED",SEEKING:"SEEKING",ERROR:"ERROR",BUFFERING:"BUFFERING"};Chromecast.prototype.setDefaults=function(){var chromecast=this;chromecast.deviceState=DEVICE_STATE.IDLE,chromecast.receiversAvailable=!1,chromecast.currentMediaSession=null,chromecast.currentVolume=chromecast.settings.volumeLevel/100,chromecast.autoplay=!0,chromecast.session=null,chromecast.castPlayerState=PLAYER_STATE.IDLE,chromecast.previousCastPlayerState=PLAYER_STATE.IDLE,chromecast.localPlayerState=PLAYER_STATE.IDLE,chromecast.muted=chromecast.settings.muted,chromecast.currentMediaIndex=0,chromecast.currentMediaTime=0,chromecast.currentMediaDuration=-1,chromecast.captionsEnabled=!1,chromecast.mediaFinished=!1,chromecast.textTrackStyle=new chrome.cast.media.TextTrackStyle,chromecast.anvato={}},Chromecast.prototype.setConnectedState=function(){var chromecast=this;index(function(){chromecast.$controlRoot.find(selectors$1.disconnected+", "+selectors$1.connecting).hide(),chromecast.$controlRoot.find(selectors$1.connected).show()})},Chromecast.prototype.setConnectingState=function(){var chromecast=this;index(function(){chromecast.$controlRoot.find(selectors$1.chromecastButton).removeClass("active"),chromecast.$controlRoot.find(selectors$1.disconnected+", "+selectors$1.connected).hide(),chromecast.$controlRoot.find(selectors$1.connecting).show()})},Chromecast.prototype.setDisconnectedState=function(){var chromecast=this;index(function(){chromecast.$controlRoot.find(selectors$1.connected+", "+selectors$1.connecting).hide(),chromecast.$controlRoot.find(selectors$1.disconnected).show()})},Chromecast.prototype.onMediaPlaying=function(timeObject){var chromecast=this,data=timeObject.data;chromecast.player.isPlayingAd()||(chromecast.currentMediaTime=(data.currentTimeAggregate||data.currentTime)/1e3-1)},Chromecast.prototype.playButton=function(){var chromecast=this;if(chromecast.session)switch(chromecast.castPlayerState){case PLAYER_STATE.PLAYING:chromecast.pauseMedia();break;case PLAYER_STATE.PAUSED:chromecast.playMedia()}},Chromecast.prototype.closedCaptionStatus=function(event){var chromecast=this,data=event.data;chromecast.captionsEnabled=data.captionsEnabled,chromecast.setCaptioning(chromecast.captionsEnabled),chromecast.setTextTrackStyle(data.userSettings,chromecast.captionsEnabled&&chromecast.currentMediaSession)},Chromecast.prototype.setCaptioning=function(enable){var chromecast=this;chromecast.captionsEnabled=enable,chromecast.session&&(util.log("Chromecast enabling Closed Captions: "+enable,"SNI.Video.Chromecast.setCaptioning","INFO"),AnvatoChromecastHelper.sendAnvatoMessage(chromecast.session,{type:"rpc",content:{name:"toggleCaption",args:[enable,!0]}}),chromecast.player.publish("ChromecastCaptions",{captionsEnabled:enable}))},Chromecast.prototype.volumeMuteButton=function(){var chromecast=this;chromecast.setMute(!chromecast.muted,!0)},Chromecast.prototype.setMute=function(isMuting,updateReceiver){var chromecast=this;chromecast.session&&(util.log("Chromecast is muted: "+isMuting,"SNI.Video.Chromecast.setMute","INFO"),chromecast.muted=isMuting,updateReceiver&&chromecast.session.setReceiverMuted(chromecast.muted,chromecast.mediaCommandSuccessCallback.bind(chromecast,"setReceiverMuted("+isMuting+") successful"),chromecast.onError.bind(chromecast)),chromecast.player.publish("ChromecastSetMute",{volumePercent:100*chromecast.currentVolume,isMuting:chromecast.muted}))},Chromecast.prototype.volumeLevelButton=function(event){var chromecast=this,volumePercent=event.data.volumePercent;chromecast.setVolume(volumePercent,!0)},Chromecast.prototype.setVolume=function(volumePercent,updateReceiver){var chromecast=this;chromecast.session&&(util.log("Chromecast volume being set to: "+volumePercent+"%","SNI.Video.Chromecast.setVolumeLevel","INFO"),chromecast.currentVolume=volumePercent/100,updateReceiver&&chromecast.session.setReceiverVolumeLevel(chromecast.currentVolume,chromecast.mediaCommandSuccessCallback.bind(chromecast),chromecast.onError.bind(chromecast)),chromecast.player.publish("ChromecastSetVolume",{volumePercent:volumePercent,isMuting:chromecast.muted}))},Chromecast.prototype.initializeChromecast=function(){var applicationID=this.settings.receiverAppId,autoJoinPolicy=chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,sessionRequest=new chrome.cast.SessionRequest(applicationID),apiConfig=new chrome.cast.ApiConfig(sessionRequest,this.sessionListener.bind(this),this.receiverListener.bind(this),autoJoinPolicy);chrome.cast.initialize(apiConfig,this.onInitSuccess.bind(this),this.onError.bind(this))},Chromecast.prototype.onInitSuccess=function(){util.log("Chromecast initialization success.","SNI.Video.Chromecast.onInitSuccess","INFO")},Chromecast.prototype.onError=function(){util.log("Chromecast error.","SNI.Video.Chromecast.onError","ERROR")},Chromecast.prototype.receiverListener=function(availability){var chromecast=this;availability===chrome.cast.ReceiverAvailability.AVAILABLE?(this.receiversAvailable=!0,util.log("Chromecast receiver found.","SNI.Video.Chromecast.receiverListener","INFO"),chromecast.$controlRoot.show()):(util.log("Chromecast receiver list empty.","SNI.Video.Chromecast.receiverListener","INFO"),chromecast.$controlRoot.hide())},Chromecast.prototype.anvatoListener=function(ns,msg){var chromecast=this,event=JSON.parse(msg);switch(event.name){case"METADATA_LOADED":break;case"PROGRAM_CHANGED":break;case"VERIFICATION_STATUS":event.args.length>1&&(chromecast.anvato.isVerified=event.args[0],chromecast.anvato.token=event.args[1],chromecast.anvato.isVerified&&chromecast.loadMedia())}event&&"name"in event&&util.log("Anvato evnent triggered: "+event.name,"SNI.Video.Chromecast.anvatoListener","INFO")},Chromecast.prototype.sessionListener=function(session){var chromecast=this;chromecast.session=session,chromecast.session?(util.log("Session found: "+session.sessionId+" : "+session.displayName+" : "+session.receiver.friendlyName,"SNI.Video.Chromecast.sessionListener","INFO"),chromecast.deviceState=DEVICE_STATE.ACTIVE,chromecast.player.publish("ChromecastConnected",{deviceName:session.receiver.friendlyName}),chromecast.session.addUpdateListener(chromecast.sessionUpdateListener.bind(chromecast)),0!=session.media.length&&(util.log("Found "+session.media.length+" existing media sessions.","SNI.Video.Chromecast.sessionListener","INFO"),chromecast.onMediaDiscovered("activeSession",session.media[0])),AnvatoChromecastHelper.setAnvatoMessageListener(chromecast.session,chromecast.anvatoListener.bind(chromecast)),AnvatoChromecastHelper.sendVerificationMessage(chromecast.session,ACCESS_KEY,SECRET_KEY)):util.log("Session is null","SNI.Video.Chromecast.sessionListener","INFO")},Chromecast.prototype.onMediaDiscovered=function(how,mediaSession){var chromecast=this;if(util.log("New media session ID: "+mediaSession.mediaSessionId+" ("+how+")","SNI.Video.Chromecast.onMediaDiscovered","INFO"),chromecast.currentMediaSession=mediaSession,"loadMedia"===how)chromecast.autoplay?(chromecast.castPlayerState=PLAYER_STATE.PLAYING,chromecast.player.publish("ChromecastPlaying")):chromecast.castPlayerState=PLAYER_STATE.LOADED;else if("activeSession"===how){switch(chromecast.startApp(),chromecast.currentMediaSession.playerState){case chrome.cast.media.PlayerState.IDLE:chromecast.castPlayerState=PLAYER_STATE.IDLE;break;case chrome.cast.media.PlayerState.PLAYING:chromecast.castPlayerState=PLAYER_STATE.PLAYING;break;case chrome.cast.media.PlayerState.PAUSED:chromecast.castPlayerState=PLAYER_STATE.PAUSED;break;case chrome.cast.media.PlayerState.BUFFERING:chromecast.castPlayerState=PLAYER_STATE.LOADING}chromecast.currentMediaTime=mediaSession.getEstimatedTime()}chromecast.currentMediaSession.addUpdateListener(this.onMediaStatusUpdate.bind(this)),chromecast.currentMediaDuration=this.currentMediaSession.media.duration,chromecast.localPlayerState===PLAYER_STATE.PLAYING&&(chromecast.localPlayerState=PLAYER_STATE.STOPPED),chromecast.setCaptioning(chromecast.captionsEnabled),chromecast.setVolume(100*chromecast.currentVolume,!1),chromecast.setMute(chromecast.muted,!1)},Chromecast.prototype.sessionUpdateListener=function(isAlive){var chromecast=this;util.log("Session status update (isAlive = "+isAlive+")","SNI.Video.Chromecast.sessionUpdateListener","INFO"),isAlive?chromecast.session&&chromecast.muted!==chromecast.session.receiver.volume.muted&&chromecast.setMute(chromecast.session.receiver.volume.muted,!1):chromecast.session&&chromecast.session.status!==chrome.cast.SessionStatus.STOPPED?chromecast.stopApp():(clearInterval(chromecast.statusTimer),chromecast.player.publish("ChromecastEnd"),chromecast.onStopAppSuccess("Application killed from extension"))},Chromecast.prototype.launchApp=function(){util.log("Launching Chromecast","SNI.Video.Chromecast.launchApp","INFO"),chrome.cast.requestSession(this.sessionListener.bind(this),this.onLaunchError.bind(this))},Chromecast.prototype.onLaunchError=function(error){util.log("Launch error: "+error.code+" : "+error.description+" : "+error.details,"SNI.Video.Chromecast.onLaunchError","WARN"),error.code===chrome.cast.ErrorCode.CANCEL?(this.deviceState=DEVICE_STATE.IDLE,this.onStopAppSuccess("Launch cancelled")):this.deviceState=DEVICE_STATE.ERROR,this.stopApp()},Chromecast.prototype.loadMedia=function(){var mediaId,chromecast=this;if(!chromecast.session)return void util.log("Attempting to load media without an active session","SNI.Video.Chromecast.loadMedia","ERROR");util.log("Loading: "+chromecast.player.currentVideo.title+" : NLVID "+mediaId,"SNI.Video.Chromecast.loadMedia","INFO");var request,mediaInfo=new chrome.cast.media.MediaInfo("Stream from Anvato Player SDK");mediaInfo.customData={encrypted:AnvatoChromecastHelper.encryptWithSenderToken(chromecast.anvato.token,{accessKey:ACCESS_KEY,video:chromecast.player.currentVideo.mcpid})},mediaInfo.metadata=new chrome.cast.media.GenericMediaMetadata,mediaInfo.metadata.metadataType=chrome.cast.media.MetadataType.GENERIC,mediaInfo.contentType="application/x-mpegurl",mediaInfo.textTrackStyle=chromecast.textTrackStyle,mediaInfo.metadata.title=chromecast.player.currentVideo.title,mediaInfo.metadata.images=[{url:chromecast.player.currentVideo.thumbnailUrl}],request=new chrome.cast.media.LoadRequest(mediaInfo),request.autoplay=this.autoplay,request.currentTime=chromecast.currentMediaTime,chromecast.castPlayerState=PLAYER_STATE.LOADING,chromecast.session.loadMedia(request,chromecast.onMediaDiscovered.bind(chromecast,"loadMedia"),chromecast.onLoadMediaError.bind(chromecast))},Chromecast.prototype.setTextTrackStyle=function(pdkStyleData,updateRemote){function convertAlphaToHex(alphaFloatingPoint){return isNaN(parseFloat(alphaFloatingPoint.toString()))&&(alphaFloatingPoint=1),alphaFloatingPoint=Math.round(255*alphaFloatingPoint),alphaFloatingPoint=alphaFloatingPoint.toString(16),alphaFloatingPoint.length<2&&(alphaFloatingPoint+="0"),alphaFloatingPoint}function mapPdkFontToCastFont(fontNameString,player){var options=player.modules.closedCaptioning.settings.fontFamily,index$$1=0,type="";for(fontNameString=fontNameString.toLowerCase();index$$1<options.length;index$$1++)if(options[index$$1].value.toLowerCase()===fontNameString){type=options[index$$1].fontName.toLowerCase();break}switch(type){case"monospaced serif":return"Cutive Mono";case"proportional serif":return"Droid Serif Regular";case"monospaced sans serif":return"Droid Sans Mono";case"proportional sans serif":return"Droid Sans";case"casual":return"Short Stack";case"cursive":return"Quintessential";case"small capitals":return"Alegreya Sans SC";default:return""}}var request,chromecast=this,textTrackStyle=chromecast.textTrackStyle;switch(textTrackStyle.backgroundColor=pdkStyleData.backgroundColor+convertAlphaToHex(pdkStyleData.backgroundOpacity),textTrackStyle.foregroundColor=pdkStyleData.fontColor+convertAlphaToHex(pdkStyleData.opacity),textTrackStyle.edgeColor=pdkStyleData.fontEdgeColor+convertAlphaToHex(pdkStyleData.opacity),pdkStyleData.fontEdge){case"Depressed":textTrackStyle.edgeType=chrome.cast.media.TextTrackEdgeType.DEPRESSED;break;case"DropShadow":textTrackStyle.edgeType=chrome.cast.media.TextTrackEdgeType.DROP_SHADOW;break;case"Raised":textTrackStyle.edgeType=chrome.cast.media.TextTrackEdgeType.RAISED;break;case"Uniform":textTrackStyle.edgeType=chrome.cast.media.TextTrackEdgeType.OUTLINE;break;case"None":default:textTrackStyle.edgeType=chrome.cast.media.TextTrackEdgeType.NONE}textTrackStyle.fontFamily=mapPdkFontToCastFont(pdkStyleData.fontFamily,chromecast.player),textTrackStyle.fontGenericFamily=chrome.cast.media.TextTrackFontGenericFamily.SANS_SERIF,textTrackStyle.fontScale=pdkStyleData.fontSize,pdkStyleData.bold&&pdkStyleData.italic?textTrackStyle.fontStyle=chrome.cast.media.TextTrackFontStyle.BOLD_ITALIC:pdkStyleData.bold?textTrackStyle.fontStyle=chrome.cast.media.TextTrackFontStyle.BOLD:pdkStyleData.italic?textTrackStyle.fontStyle=chrome.cast.media.TextTrackFontStyle.ITALIC:textTrackStyle.fontStyle=chrome.cast.media.TextTrackFontStyle.NORMAL,updateRemote&&(request=new chrome.cast.media.EditTracksInfoRequest,request.textTrackStyle=textTrackStyle,chromecast.currentMediaSession.editTracksInfo(request,chromecast.mediaCommandSuccessCallback.bind(chromecast,"editTracksInfo("+textTrackStyle+") successful"),chromecast.onError.bind(chromecast)))},Chromecast.prototype.onLoadMediaError=function(error){var chromecast=this;util.log("Load media error: "+error.code+" : "+error.description,"SNI.Video.Chromecast.onLoadMediaError","ERROR"),chromecast.castPlayerState=PLAYER_STATE.IDLE,chromecast.stopApp()},Chromecast.prototype.onMediaStatusUpdate=function(alive){util.log("Updating media status (alive = "+alive+")","SNI.Video.Chromecast.onMediaStatusUpdate","INFO"),alive===!1&&(this.currentMediaTime=0,this.castPlayerState=PLAYER_STATE.IDLE)},Chromecast.prototype.playMedia=function(){var chromecast=this;if(!chromecast.currentMediaSession)return void chromecast.stopApp();switch(chromecast.castPlayerState){case PLAYER_STATE.LOADED:case PLAYER_STATE.PAUSED:chromecast.currentMediaSession.play(null,chromecast.mediaCommandSuccessCallback.bind(chromecast,"Playing started for "+chromecast.currentMediaSession.sessionId),chromecast.onError.bind(chromecast)),chromecast.currentMediaSession.addUpdateListener(chromecast.onMediaStatusUpdate.bind(chromecast)),chromecast.castPlayerState=PLAYER_STATE.PLAYING,chromecast.player.publish("ChromecastPlaying");break;case PLAYER_STATE.IDLE:case PLAYER_STATE.LOADING:case PLAYER_STATE.STOPPED:chromecast.loadMedia(chromecast.currentMediaIndex),chromecast.currentMediaSession.addUpdateListener(chromecast.onMediaStatusUpdate.bind(chromecast)),chromecast.castPlayerState=PLAYER_STATE.PLAYING}},Chromecast.prototype.pauseMedia=function(){var chromecast=this;return chromecast.currentMediaSession?(util.log("Pause media called (current castPlayerState = "+chromecast.castPlayerState+")","SNI.Video.Chromecast.pauseMedia","INFO"),void(chromecast.castPlayerState===PLAYER_STATE.PLAYING&&(chromecast.castPlayerState=PLAYER_STATE.PAUSED,chromecast.currentMediaSession.pause(null,chromecast.mediaCommandSuccessCallback.bind(chromecast,"Paused "+chromecast.currentMediaSession.sessionId),chromecast.onError.bind(chromecast)),chromecast.player.publish("ChromecastPaused")))):void util.log("Pause media called with no current media session","SNI.Video.Chromecast.pauseMedia","INFO")},Chromecast.prototype.playMediaLocally=function(){function seek(){$pdk.controller.seekToPosition(mediaTime,player.getScopes()),player.pause(!1)}function executeSeek(event){event.data.baseClip.isAd||(seek(),player.unsubscribe("OnMediaStart",executeSeek))}var chromecast=this,player=chromecast.player,mediaTime=1e3*(chromecast.currentMediaTime-1);util.log("Now playing media locally (after ads) at current time: "+this.currentMediaTime,"SNI.Video.Chromecast.playMediaLocally","INFO"),player.isPlayingAd()?(player.pause(!1),player.subscribe("OnMediaStart",executeSeek)):seek(),chromecast.localPlayerState=PLAYER_STATE.PLAYING,chromecast.castPlayerState=PLAYER_STATE.IDLE},Chromecast.prototype.endLocalMedia=function(){var chromecast=this,player=chromecast.player;util.log("Chromecast media ended naturally, so we are ending local playback as well.","SNI.Video.Chromecast.endLocalMedia","INFO"),chromecast.mediaFinished=!1,chromecast.localPlayerState=PLAYER_STATE.PAUSED,chromecast.castPlayerState=PLAYER_STATE.IDLE,player.endedNaturally=!0,player.publish("OnReleaseEnd",{})},Chromecast.prototype.seekButton=function(event){var chromecast=this,seekPercentage=event.data.seekToPercentage,seekValue=0;chromecast.player.isRemotelyLoaded()&&chromecast.currentMediaDuration>0&&(seekValue=Math.floor(this.currentMediaDuration*(seekPercentage/100)),chromecast.seekMedia(seekValue))},Chromecast.prototype.seekMedia=function(time){var chromecast=this,request=new chrome.cast.media.SeekRequest;util.log("Seeking "+chromecast.currentMediaSession.sessionId+" to "+time,"SNI.Video.Chromecast.OnMediaSeek","INFO"),request.currentTime=time,chromecast.currentMediaSession.seek(request,chromecast.onSeekSuccess.bind(chromecast,"Media seek done"),chromecast.onError.bind(chromecast)),chromecast.previousCastPlayerState=PLAYER_STATE[chromecast.castPlayerState],chromecast.castPlayerState=PLAYER_STATE.SEEKING},Chromecast.prototype.onSeekSuccess=function(info){util.log(info,"SNI.Video.Chromecast.onSeekSuccess","INFO"),this.castPlayerState=PLAYER_STATE[this.previousCastPlayerState],this.currentMediaTime=this.session.media[0].getEstimatedTime()},Chromecast.prototype.mediaCommandSuccessCallback=function(info,event){util.log(info+" : "+event,"SNI.Video.Chromecast.mediaCommandSuccessCallback","INFO"),this.session&&(this.currentMediaTime=this.session.media[0].getEstimatedTime());
},Chromecast.prototype.startApp=function(){var chromecast=this,player=chromecast.player;player.pause(),chromecast.session||chromecast.launchApp(),chromecast.statusTimer=setInterval(function(){if(chromecast.currentMediaSession){switch(chromecast.currentMediaSession.playerState){case PLAYER_STATE.PLAYING:chromecast.player.publish("ChromecastPlaying");break;case PLAYER_STATE.PAUSED:chromecast.player.publish("ChromecastPaused");break;case PLAYER_STATE.BUFFERING:chromecast.player.publish("ChromecastBuffering");break;case PLAYER_STATE.IDLE:"FINISHED"===chromecast.currentMediaSession.idleReason&&(chromecast.mediaFinished=!0,chromecast.stopApp())}chromecast.currentMediaTime=chromecast.currentMediaSession.getEstimatedTime(),chromecast.player.publish("ChromecastProgress",{currentTime:1e3*chromecast.currentMediaTime,duration:1e3*chromecast.currentMediaDuration,percentComplete:chromecast.currentMediaTime/chromecast.currentMediaDuration*100})}},1e3/3),player.publish("ChromecastStart")},Chromecast.prototype.stopApp=function(){var chromecast=this,player=chromecast.player;util.log("Stopping chromecast casting...","SNI.Video.Chromecast.stopApp","INFO"),chromecast.currentMediaSession&&(chromecast.currentMediaTime=chromecast.currentMediaSession.getEstimatedTime()),clearInterval(chromecast.statusTimer),chromecast.session&&chromecast.session.status!==chrome.cast.SessionStatus.STOPPED&&chromecast.session.stop(chromecast.onStopAppSuccess.bind(chromecast,"Session stopped"),chromecast.onError.bind(chromecast)),player.publish("ChromecastEnd")},Chromecast.prototype.onStopAppSuccess=function(message){var chromecast=this;util.log(message,"SNI.Video.Chromecast.onStopAppSuccess","INFO"),chromecast.deviceState=DEVICE_STATE.IDLE,chromecast.castPlayerState=PLAYER_STATE.IDLE,chromecast.currentMediaSession=null,chromecast.session=null,chromecast.mediaFinished?chromecast.endLocalMedia():chromecast.playMediaLocally()},Chromecast.prototype.bindDomInteractions=function($html){var chromecast=this;$html.on("click",selectors$1.chromecastButton,function(){chromecast.session?chromecast.stopApp():chromecast.startApp()}),$html.on("mouseenter",selectors$1.chromecastButton,function(){$html.find(selectors$1.chromecastButton).addClass("active")}).on("mouseleave",selectors$1.chromecastButton,function(){$html.find(selectors$1.chromecastButton).removeClass("active")})},window.SNI.Video.Chromecast=ChromecastFactory,window.SNI.Video.Chromecast2=ChromecastFactory;var defaults$15={enabled:!0,positionIndex:300,controlIconAltText:"Control the display of Closed Captions",contactText:"Send Feedback",contactUrl:"//foodnetwork.custhelp.com/",contactTarget:"_blank",defaultSettings:{backgroundColor:"#000000",backgroundOpacity:0,bold:!1,fontColor:"#FFFFFF",fontEdge:"None",fontEdgeColor:"#000000",fontFamily:"Arial",fontSize:1,globalDataType:"com.theplatform.pdk.data::SubtitleStyle",italic:!1,opacity:1,textAlign:"center",textAlignVertical:"bottom",underline:"false"},backgroundColorTitle:"Background Color",backgroundColor:[{colorName:"White",value:"#FFFFFF"},{colorName:"Black",value:"#000000"},{colorName:"Red",value:"#FF0000"},{colorName:"Green",value:"#008000"},{colorName:"Blue",value:"#0000FF"},{colorName:"Yellow",value:"#FFFF00"},{colorName:"Magenta",value:"#FF00FF"},{colorName:"Cyan",value:"#00FFFF"}],fontColorTitle:"Text Color",fontColor:[{colorName:"White",value:"#FFFFFF"},{colorName:"Black",value:"#000000"},{colorName:"Red",value:"#FF0000"},{colorName:"Green",value:"#008000"},{colorName:"Blue",value:"#0000FF"},{colorName:"Yellow",value:"#FFFF00"},{colorName:"Magenta",value:"#FF00FF"},{colorName:"Cyan",value:"#00FFFF"}],fontEdgeTitle:"Text Edge",fontEdge:[{textEdgeName:"A",value:"None"},{textEdgeName:"A",value:"Depressed"},{textEdgeName:"A",value:"DropShadow"},{textEdgeName:"A",value:"Raised"},{textEdgeName:"A",value:"Uniform"}],fontFamilyTitle:"Text Style",fontFamily:[{fontName:"Default",value:""},{fontName:"Monospaced Serif",value:"'Courier New', Courier, 'Nimbus Mono L', 'Cutive Mono', monospace"},{fontName:"Proportional Serif",value:"'Times New Roman', Times, Georgia, Cambria, 'PT Serif Caption', serif"},{fontName:"Monospaced Sans Serif",value:"'Deja Vu Sans Mono', 'Lucida Console', Monaco, Consolas, 'PT Mono', monospace"},{fontName:"Proportional Sans Serif",value:"Roboto, 'Arial Unicode Ms', Arial, Helvetica, Verdana, 'PT Sans Caption', sans-serif;"},{fontName:"Casual",value:"'Comic Sans MS', Impact, Handlee, fantasy"},{fontName:"Cursive",value:"'Monotype Corsiva', 'URW Chancery L', 'Apple Chancery', 'Dancing Script', cursive"},{fontName:"Small Capitals",value:"'Arial Unicode Ms', Arial, Helvetica, Verdana, 'Marcellus SC', sans-serif"}],fontSizeTitle:"Text Size",fontSize:[{textSizeName:"Aa",value:.5},{textSizeName:"Aa",value:1},{textSizeName:"Aa",value:1.5},{textSizeName:"Aa",value:2}],opacityTitle:"Opacity",opacity:[{opacityName:"Off",value:1},{opacityName:"On",value:.5}]};window.SNI.Video.Defaults.closedCaptioning=defaults$15;var freeExports$2="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0,objectCreate=Object.create,baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}(),getPrototype=overArg(Object.getPrototypeOf,Object),objectTag$3="[object Object]",funcProto$2=Function.prototype,objectProto$16=Object.prototype,funcToString$2=funcProto$2.toString,hasOwnProperty$13=objectProto$16.hasOwnProperty,objectCtorString=funcToString$2.call(Object),objectProto$17=Object.prototype,hasOwnProperty$14=objectProto$17.hasOwnProperty,merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)}),cardClass="ccFrame",root$6='<div class="'+cardClass+'"></div>',ccStorageKey="ccSettings",ccEnabledKey="ccEnabled",userSettings=storage.getValue(ccStorageKey),userCcEnabled=storage.getValue(ccEnabledKey);ClosedCaptioning.prototype.bindDomInteractions=function($html){var caption=this,scopes=caption.player.getScopes();$html.on("click",".controlClosedCaptioning",function(){$pdk.controller.showPlayerCard("forms",caption.cardId,"urn:theplatform:pdk:area:player",{},scopes),caption.player.publish("ClosedCaptionButton",{captionsEnabled:userCcEnabled,userSettings:userSettings})}),caption.setActiveState(userCcEnabled)},ClosedCaptioning.prototype.setActiveState=function(active){var caption=this;index(function(){caption.$controlRoot.find(".controlClosedCaptioning").toggleClass("active",active)})},ClosedCaptioning.prototype.chromecastCaptions=function(event){var caption=this,captionsEnabled=event.data.captionsEnabled;caption.setActiveState(captionsEnabled)},ClosedCaptioning.prototype.chromecastStart=function(){var caption=this;caption.$controlRoot.show()},ClosedCaptioning.prototype.chromecastEnd=function(){var caption=this,showCCButton=!caption.player.isPlayingAd()&&caption.assetHasCaptions;caption.setActiveState(userCcEnabled),caption.$controlRoot.toggle(showCCButton)},ClosedCaptioning.prototype.OnMediaStart=function(event){var caption=this,baseClip=event.data.baseClip,hasCaptions=baseClip&&baseClip.availableSubtitles&&baseClip.availableSubtitles.length>0;caption.assetHasCaptions=hasCaptions,caption.$controlRoot.toggle(hasCaptions),caption.setActiveState(userCcEnabled),caption.player.publish("ClosedCaptionStatus",{captionsEnabled:userCcEnabled,userSettings:userSettings,assetHasCaptions:hasCaptions})},ClosedCaptioning.prototype.OnShowFullScreen=function(payload){payload.data||"safari_ipad"===$pdk.userAgentAxis&&(util.log("Disabling Subtitles.","this","INFO"),this.toggleCaptions(!1))},ClosedCaptioning.prototype.show=function(){var $bgOn,closedCaptioning=this,player=closedCaptioning.player,scopes=player.getScopes(),containerId=player.getContainerId(),data=closedCaptioning.getSettingsDataForTemplate(),$html=jQuery$1(template$9(data)),$container=player.$container.find("."+cardClass);$pdk.controller.setShowSubtitles(!1,scopes),$container.append($html),$bgOn=jQuery$1("#"+containerId+"_tpCCBGColor_on"),userSettings.backgroundOpacity>0&&$bgOn.attr("checked",!0),$bgOn.bind("click",function(){var bgColor=userSettings.backgroundColor||"#000000";jQuery$1(".tpCCBGColors [value="+bgColor+"]").attr("checked",!0),closedCaptioning.setPreviewStyle()}),$container.find(".tpClose, .tpDone").bind("click",function(){var settings=closedCaptioning.getFormSettings(),ccEnabled=jQuery$1("#"+containerId+"_tpCCRadioOn").is(":checked");$pdk.controller.hidePlayerCard("forms",this.cardId,scopes),closedCaptioning.setPlayerStyle(settings),closedCaptioning.toggleCaptions(ccEnabled)}),$container.find("input, select").bind("change",function(){closedCaptioning.setPreviewStyle()}),$container.find(".tpCCTextEdgePicker").each(function(){var $this=jQuery$1(this),$input=jQuery$1("#"+$this.attr("for")),value=$input.val();$this.find("div").css("text-shadow",getTextEdgeStyle(value))}),$container.find(".tpCCBGColors .tpCCColorPicker").bind("click",function(){jQuery$1("#"+containerId+"_tpCCBGColor_on").attr("checked",!0),closedCaptioning.setPreviewStyle()}),closedCaptioning.setPreviewStyle(),player.publish("ShowCaptionCard")},ClosedCaptioning.prototype.hide=function(){var closedCaptioning=this;$pdk.controller.setShowSubtitles(!0,this.player.getScopes()),closedCaptioning.player.publish("HideCaptionCard")},ClosedCaptioning.prototype.getSettingsDataForTemplate=function(){var settingName,settingValue,templateOption,optionName,option,comparator,player=this.player,settings=this.settings,templateData={containerId:player.getContainerId(),ccEnabled:userCcEnabled,vpcBaseUrl:video.vpcBaseUrl};merge(templateData,settings,{defaultSettings:userSettings});for(settingName in templateData.defaultSettings)if(templateData.defaultSettings.hasOwnProperty(settingName)&&(templateOption=templateData[settingName]))for(optionName in templateOption)if(templateOption.hasOwnProperty(optionName)&&(option=templateOption[optionName],settingValue=templateData.defaultSettings[settingName],settingValue="string"==typeof settingValue?settingValue.toLowerCase():settingValue,comparator="string"==typeof option.value?option.value.toLowerCase():option.value,comparator===settingValue)){option.selected=!0;break}return templateData},ClosedCaptioning.prototype.getFormSettings=function(){var containerId=this.player.getContainerId(),$form=jQuery$1("#"+containerId+"_tpCCControls"),bgEnabled=jQuery$1("#"+containerId+"_tpCCBGColor_on")[0].checked,opacity=$form.find(".tpCCOpacity input:radio:checked").val(),bgColor=bgEnabled?$form.find(".tpCCBGColors .input-hidden:radio:checked").val():"#000000",settings={backgroundColor:bgColor,backgroundOpacity:bgEnabled?opacity:0,fontColor:$form.find(".tpCCTextColors input:radio:checked").val(),fontEdge:$form.find(".tpCCTextEdge input:radio:checked").val(),fontFamily:$form.find(".tpCCFont select").val(),fontSize:$form.find(".tpCCTextSize input:radio:checked").val(),opacity:opacity};return settings},ClosedCaptioning.prototype.toggleCaptions=function(ccEnabled){var caption=this,scopes=caption.player.getScopes();ccEnabled?(util.log("Enabling Subtitles.","SNI.Video.ClosedCaptioning.toggleCaptions","INFO"),$pdk.controller.setSubtitleLanguage("en",scopes)):(util.log("Disabling Subtitles.","SNI.Video.ClosedCaptioning.toggleCaptions","INFO"),$pdk.controller.setSubtitleLanguage("none",scopes)),userCcEnabled=storage.setValue(ccEnabledKey,!!ccEnabled),caption.setActiveState(userCcEnabled),caption.player.publish("ClosedCaptionStatus",{captionsEnabled:userCcEnabled,userSettings:userSettings})},ClosedCaptioning.prototype.setPlayerStyle=function(settings){var player=this.player,scopes=player.getScopes();merge(userSettings,sanitizeStyleSettings(settings)),storage.setValue(ccStorageKey,userSettings),$pdk.controller.setSubtitleStyle(userSettings,scopes)},ClosedCaptioning.prototype.setPreviewStyle=function(){var settings=this.getFormSettings(),$preview=this.player.$container.find(" ."+cardClass+" .tpCCPreview"),$text=$preview.find(".tpCCText").removeClass().addClass("tpCCText");$preview.attr("style",""),$text.attr("style","color:"+settings.fontColor+" !important;"),$text.addClass(settings.fontEdge),$preview.css({"background-color":0===settings.backgroundOpacity?"transparent":settings.backgroundColor,"text-shadow":getTextEdgeStyle(settings.fontEdge),"font-family":settings.fontFamily,"font-size":settings.fontSize+"em",opacity:settings.opacity})},window.SNI.Video.ClosedCaptioning=ClosedCaptioningFactory;var defaults$16={enabled:!0,positionIndex:200,controlIconAltText:"Get an embeddable link",vpcBaseUrl:video.vpcBaseUrl,releaseUrl:"",baseUrl:window.location.protocol+"//"+window.location.hostname,embedUrl:"/embed/player.html",hasExplicitSize:!0,width:"640",height:"360",options:[{height:"315",width:"560"},{height:"360",width:"640"},{height:"480",width:"853"},{height:"720",width:"1280"}]};window.SNI.Video.Defaults.embed=defaults$16;var cardClass$1="embedFrame",root$7='<div class="'+cardClass$1+'"></div>';Embed.prototype.bindDomInteractions=function($html){var embed=this;$html.on("click",".controlEmbed",function(){$pdk.controller.showPlayerCard("forms",embed.cardId,"urn:theplatform:pdk:area:player",{},embed.player.getScopes())})},Embed.prototype.OnLoadReleaseUrl=function(event){this.setTemplateData({releaseUrl:encodeURIComponent(event.data.url||event.data)})},Embed.prototype.getTemplateData=function(){var data=this.templateData;return this.player.currentVideo.embedUrl?data.fullUrl=this.player.currentVideo.embedUrl:(data.fullUrl=data.baseUrl+data.embedUrl,data.fullUrl+=data.fullUrl.indexOf("?")>-1?"&":"?",data.fullUrl+="media="+data.releaseUrl),data},Embed.prototype.setTemplateData=function(newValues){var prop,length,currentOption,index=0;for(prop in newValues)newValues.hasOwnProperty(prop)&&(this.templateData[prop]=newValues[prop]);if(newValues.width)if("auto"===newValues.width)this.templateData.hasExplicitSize=!1;else for(this.templateData.hasExplicitSize=!0,length=this.templateData.options.length;index<length;index++)currentOption=this.templateData.options[index],currentOption.width==newValues.width&&(this.templateData.width=currentOption.width,this.templateData.height=currentOption.height,index=length)},Embed.prototype.close=function(){$pdk.controller.hidePlayerCard("forms",this.cardId,this.player.getScopes())},Embed.prototype.show=function(){var embedInput,embedSelect,embed=this,settings=embed.getTemplateData(),$html=jQuery$1(template$11(settings)),$container=embed.player.$container.find("."+cardClass$1);$container.html($html),embedInput=$container.find("textarea")[0],embedInput.focus(),embedInput.select(),embedInput.setSelectionRange(0,9999),$container.find(".tpClose, .tpDone").on("click",function(){embed.close()}),embedSelect=$container.find("select"),embedSelect.val(settings.width),embedSelect.change(function(){embed.setTemplateData({width:embedSelect.val()}),embed.show()}),embed.player.publish("ShowEmbedCard")},Embed.prototype.hide=function(){var embed=this;embed.player.publish("HideEmbedCard")},window.SNI.Video.Embed=EmbedFactory;var defaults$17={enabled:!0,positionIndex:600};window.SNI.Video.Defaults.fullscreen=defaults$17;var selectors$2={fullScreen:".controlFullscreen",smallScreen:".controlSmallscreen"};Fullscreen.prototype.bindDomInteractions=function($html){function goFullScreen(){var goFullScreen=!player.isFullscreen();$pdk.controller.showFullScreen(goFullScreen,player.getScopes()),fullscreen.player.publish("FullscreenButton",{isFullscreen:goFullScreen})}var fullscreen=this,player=fullscreen.player;$html.on("click",selectors$2.fullScreen+", "+selectors$2.smallScreen,function(){goFullScreen()}),player.$container.on("keydown",function(e){70===e.which&&goFullScreen()})},Fullscreen.prototype.onShowFullScreen=function(event){var fullscreen=this,isFullscreen=!!event.data;index(function(){fullscreen.$controlRoot.find(selectors$2.smallScreen).toggle(isFullscreen),fullscreen.$controlRoot.find(selectors$2.fullScreen).toggle(!isFullscreen)})},Fullscreen.prototype.hide=function(){this.$controlRoot.hide()},Fullscreen.prototype.show=function(){this.$controlRoot.show()},window.SNI.Video.Fullscreen=FullscreenFactory;var defaults$18={enabled:!0,positionIndex:400,controlIconAltText:"Volume:",muteIconAltText:"Mute",level:100,muted:!1};window.SNI.Video.Defaults.volume=defaults$18;var selectors$3={muteState:".muteState",volumeState:".volumeState",muteIcon:".controlMuted",halfVolume:".controlHalfVolume",fullVolume:".controlFullVolume",volumeSlideContainer:".volumeWrapper",volumeBar:".volumeBar",volumeLevel:".volumeBarActive",volumeSlideIcon:".volumeSlider"};Volume.prototype.bindDomInteractions=function($html){var volumeHoverTimeout,volumeModule=this,scope=volumeModule.player.getScopes(),player=volumeModule.player;$html.on("change",selectors$3.muteState,function(){var isMuting=$html.find(selectors$3.muteState).is(":checked");volumeModule.player.isRemotelyLoaded()||$pdk.controller.mute(isMuting,scope),volumeModule.player.publish("VolumeMuteButton",{isMuting:isMuting})}),$html.on("input",selectors$3.volumeState,function(event){var $muteInput=$html.find(selectors$3.muteState),volume=jQuery$1(event.currentTarget).val();volume=volume>100?100:volume,volume=volume<0?0:volume,$muteInput.prop("checked",!1).trigger("change"),volumeModule.player.isRemotelyLoaded()||$pdk.controller.setVolume(volume,scope),volumeModule.player.publish("VolumeLevelButton",{volumePercent:volume})}),$html.on("click",selectors$3.halfVolume+", "+selectors$3.fullVolume+", "+selectors$3.muteIcon,function(){var $muteInput=$html.find(selectors$3.muteState),isMuted=$muteInput.is(":checked");$muteInput.prop("checked",!isMuted).trigger("change"),volumeModule.setVolumeIconStates(!isMuted,volumeModule.settings.level)}),player.$container.on("keydown",function(e){var $muteInput,isMuted,currentVolume,newVolume;77===e.which?($muteInput=$html.find(selectors$3.muteState),isMuted=$muteInput.is(":checked"),$muteInput.prop("checked",!isMuted).trigger("change"),volumeModule.setVolumeIconStates(!isMuted,volumeModule.settings.level)):38===e.which?(e.preventDefault(),currentVolume=parseInt($html.find(selectors$3.volumeState).val()),newVolume=currentVolume>=95?100:currentVolume+5,$html.find(selectors$3.volumeState).val(newVolume).trigger("input")):40===e.which&&(e.preventDefault(),currentVolume=parseInt($html.find(selectors$3.volumeState).val()),newVolume=currentVolume<4?0:currentVolume-5,$html.find(selectors$3.volumeState).val(newVolume).trigger("input"))}),$html.on("mouseenter",selectors$3.halfVolume+", "+selectors$3.fullVolume+", "+selectors$3.muteIcon,function(){var $slider=$html.find(selectors$3.volumeSlideContainer);clearTimeout(volumeHoverTimeout),$slider.show()}),volumeModule.$controlRoot.on("mouseleave",selectors$3.halfVolume+", "+selectors$3.fullVolume+", "+selectors$3.muteIcon,function(){var $slider=$html.find(selectors$3.volumeSlideContainer);volumeHoverTimeout=setTimeout(function(){$slider.hide()},2e3)}),$html.on("mouseenter",selectors$3.volumeSlideContainer,function(){clearTimeout(volumeHoverTimeout)}),$html.on("mouseleave",selectors$3.volumeSlideContainer,function(){$html.find(selectors$3.volumeSlideContainer).hide()}),$html.on("click",selectors$3.volumeSlideContainer,function(event){var height,percent,$volume=$html.find(selectors$3.volumeSlideContainer),$volumeBar=$html.find(selectors$3.volumeBar),barGap=$volumeBar.offset().top-$volume.offset().top,offset=event.pageY-$volume.offset().top;offset<barGap?percent=100:offset>barGap+$volumeBar.height()?percent=0:(height=$volume.height(),offset-=barGap,percent=100-Math.floor(offset/height*100)),$html.find(selectors$3.volumeState).val(percent).trigger("input")})},Volume.prototype.onVolumeChange=function(event){var volume=this,volumeLevel=event.data;volume.settings.level=volumeLevel},Volume.prototype.onMute=function(event){var volume=this,muted=event.data;volume.settings.muted=muted},Volume.prototype.pdkVolumeChange=function(event){var volume=this,data=event.data,volumeEvent="boolean"!=typeof event.data,volumePercent=volumeEvent?data:volume.$controlRoot.find(selectors$3.volumeState).val(),isMinVolume="0"===volumePercent,isMuting=isMinVolume||(volumeEvent?volume.$controlRoot.find(selectors$3.muteState).is(":checked"):data);volume.setVolumeIconStates(isMuting,volumePercent)},Volume.prototype.chromecastVolumeChange=function(event){var volume=this,data=event.data;volume.setVolumeIconStates(data.isMuting,data.volumePercent)},Volume.prototype.setVolumeIconStates=function(muted,volumePercent){var isMaxVolume,volume=this;muted=!!muted,volumePercent=parseInt(volumePercent,10),isMaxVolume=volumePercent>=100,index(function(){volume.$controlRoot.find(selectors$3.halfVolume).toggle(!isMaxVolume&&!muted),volume.$controlRoot.find(selectors$3.fullVolume).toggle(isMaxVolume&&!muted),volume.$controlRoot.find(selectors$3.muteIcon).toggle(muted),volume.$controlRoot.find(selectors$3.volumeLevel).css("height",muted?"4px":volumePercent+"%")})},window.SNI.Video.Volume=VolumeFactory;var defaults$19={enabled:!0,frameId:null};window.SNI.Video.Defaults.alternateEndframe=defaults$19;var cardClass$2="alternateEndframe",root$8='<div class="'+cardClass$2+'"></div>';AlternateEndframe.prototype.OnReleaseEnd=function(){var alternateEndframe=this;alternateEndframe.player.endedNaturally&&$pdk.controller.showPlayerCard("forms",alternateEndframe.cardId,"urn:theplatform:pdk:area:player",{},alternateEndframe.player.getScopes())},AlternateEndframe.prototype.show=function(){var copy,alternateEndframe=this,$container=alternateEndframe.player.$container.find(" ."+cardClass$2),$target=jQuery$1("#"+alternateEndframe.settings.frameId);$target.length>0&&(copy=$target.children().clone(!0),$container.append(copy)),alternateEndframe.player.publish("ShowEndCard")},AlternateEndframe.prototype.hide=function(){var alternateEndframe=this;alternateEndframe.player.publish("HideEndCard")},window.SNI.Video.AlternateEndframe=AlternateEndframeFactory;var defaults$20={enabled:!0,vpcBaseUrl:video.vpcBaseUrl,title:"More From FN",videoUrl:"http://www.foodnetwork.com/videos/",videoLinkText:"FoodNetwork.com/videos/"};window.SNI.Video.Defaults.embedEndframe=defaults$20;var cardClass$3="embedEndFrame",root$9='<div class="'+cardClass$3+'"></div>';EmbedEndframe.prototype.OnReleaseEnd=function(){var scopes=this.player.getScopes();this.player.endedNaturally&&($pdk.controller.showFullScreen(!1,scopes),$pdk.controller.showPlayerCard("forms",this.cardId,"urn:theplatform:pdk:area:player",{},scopes))},EmbedEndframe.prototype.close=function(){$pdk.controller.hidePlayerCard("forms",this.cardId,this.player.getScopes())},EmbedEndframe.prototype.show=function(){var endFrame=this,settings=endFrame.settings,$html=jQuery$1(template$14(settings)),$container=endFrame.player.$container.find(" ."+cardClass$3);$container.append($html),$container.find("button").click(function(){endFrame.close()}),endFrame.player.publish("ShowEndCard")},EmbedEndframe.prototype.hide=function(){var endFrame=this;endFrame.player.publish("HideEndCard")},window.SNI.Video.EmbedEndframe=EmbedEndframeFactory;var defaults$21={enabled:!0,endframeCountdown:10,endframeClass:"",showEmptyEndframe:!1,assets:[]};window.SNI.Video.Defaults.endframe=defaults$21;var cardClass$4="endframe",root$10='<div class="'+cardClass$4+'"></div>';Endframe.prototype.OnLoadReleaseUrl=function(){0===this.player.$container.find(" ."+cardClass$4).length&&this.resetCountdown()},Endframe.prototype.OnReleaseEnd=function(){if(this.player.endedNaturally){if(!this.player.isChannelPlayer()&&!this.settings.assets&&!this.settings.showEmptyEndframe)return;$pdk.controller.showPlayerCard("forms",this.cardId,"urn:theplatform:pdk:area:player",{},this.player.getScopes())}},Endframe.prototype.show=function(){var template,$html,endframe=this,context={},data=endframe.settings.assets,$container=endframe.player.$container.find(" ."+cardClass$4);endframe.player.isChannelPlayer()&&(data=[],data[0]=endframe.player.getNext()),!endframe.player.isChannelPlayer()&&data.length>0&&endframe.settings.showEmptyEndframe?endframe.currentCountdown=null:(endframe.currentCountdown=endframe.settings.endframeCountdown,forEach(data,function(video,i){var videoId="video"+i;context[videoId]=assign({},video),context[videoId].length=util.formatTime(video.length)})),context.countdown=util.formatTime(endframe.currentCountdown),responsive.isSmallPlayer(endframe.player)?(template=template$16,$container.addClass("small")):template=template$15,$html=jQuery$1(template(context)),$container.append($html),endframe.settings.endframeClass&&$container.addClass(endframe.settings.endframeClass),$container.find(".replay").bind("click",function(e){endframe.replayCallback(e)}),$container.find(".upnext a").bind("click",function(e){endframe.player.isChannelPlayer()&&(e.preventDefault(),endframe.resetCountdown(),endframe.player.playNext(!0))}),context.video0&&endframe.updateCountdown(endframe,context.video0.url),endframe.player.publish("ShowEndCard")},Endframe.prototype.hide=function(){var endFrame=this;endFrame.player.publish("HideEndCard")},Endframe.prototype.countdownCompleteCallback=function(nextUrl){this.resetCountdown(),nextUrl&&!this.player.isChannelPlayer()?(util.isLocalStorageSupported()&&localStorage.setItem("SKIP_OMNITURE","true"),window.location.href=nextUrl):this.player.playNext(!1)},Endframe.prototype.replayCallback=function(event){event.preventDefault(),this.resetCountdown(),this.player.play(!0)},Endframe.prototype.resetCountdown=function(){this.countdownId&&clearInterval(this.countdownId)},Endframe.prototype.updateCountdown=function(player,nextUrl){var embed=this,$countdown=this.player.$container.find(" ."+cardClass$4+" .countdown");$countdown.length<=0||(this.countdownId=setInterval(function(){embed.currentCountdown--,0===embed.currentCountdown?($countdown.text(util.formatTime(embed.currentCountdown)),embed.countdownCompleteCallback(nextUrl)):$countdown.text(util.formatTime(embed.currentCountdown))},1e3))},window.SNI.Video.Endframe=EndframeFactory;var defaults$22={enabled:!0,message:"Advertisement: your video will resume in {remainingTime}."};window.SNI.Video.Defaults.adCountdown=defaults$22;var root$11='<div class="playerAdCountdown" style="display:none;"><span class="countdown"></span></div>';AdCountdown.prototype.onShowPlayOverlay=function(){var adCountdown=this;adCountdown.$root.hide()},AdCountdown.prototype.onMediaLoadStart=function(clip){var adCountdown=this,isAd=clip.data.baseClip.isAd;adCountdown.isAdPlaying=isAd,adCountdown.$root.toggle(isAd)},AdCountdown.prototype.onMediaPlaying=function(timeObject){var adCountdown=this,duration=timeObject.data.duration-timeObject.data.currentTime,formattedTime="",message="";adCountdown.isAdPlaying&&(message=adCountdown.settings.message,duration=Math.round(duration/1e3),formattedTime+=duration,formattedTime+=1===duration?" second":" seconds",message=message.replace("{remainingTime}",formattedTime),adCountdown.$root.find(".countdown").text(message))},AdCountdown.prototype.render=function(){var adCountdown=this;adCountdown.player.overlay.addContent(adCountdown.$root)},window.SNI.Video.AdCountdown=AdCountdownFactory;var defaults$23={enabled:!0,playAlternateText:"Play",pauseAlternateText:"Pause",assetCta:"Continue:",chromecastStartCta:"Casting to Chromecast",chromecastConnectedPretext:"Playing on "};window.SNI.Video.Defaults.pausedState=defaults$23,PausedState.prototype.onShowPlayOverlay=function(payload){payload.data===!0&&this.hide()},PausedState.prototype.chromecastConnected=function(castData){var deviceName,pausedState=this;castData.data.deviceName&&(deviceName=jQuery$1("<div/>").text(castData.data.deviceName).html(),pausedState.updateCta(pausedState.settings.chromecastConnectedPretext+deviceName))},PausedState.prototype.chromecastStart=function(){var pausedState=this;pausedState.updateCta(pausedState.settings.chromecastStartCta)},PausedState.prototype.chromecastEnd=function(){var pausedState=this;pausedState.updateCta(pausedState.settings.assetCta),index(function(){pausedState.$root.find(".playButton").show(),pausedState.$root.find(".pauseButton").hide()})},PausedState.prototype.chromecastPlaying=function(){var pausedState=this;index(function(){pausedState.$root.find(".playButton").hide(),pausedState.$root.find(".pauseButton").show()})},PausedState.prototype.chromecastPaused=function(){var pausedState=this;index(function(){pausedState.$root.find(".playButton").show(),pausedState.$root.find(".pauseButton").hide()})},PausedState.prototype.updateCta=function(ctaText){var pausedState=this;index(function(){pausedState.$root.find(".pausedAssetCta").text(ctaText)})},PausedState.prototype.updateTitle=function(title){var pausedState=this;index(function(){pausedState.$root.find(".pausedAssetTitle").text(title)})},PausedState.prototype.show=function(){var paused=this;paused.player.currentVideo&&paused.updateTitle(paused.player.currentVideo.title||paused.player.currentReleaseData.title||""),paused.$root.show()},PausedState.prototype.hide=function(){this.$root.hide()},PausedState.prototype.render=function(){function pausedButtonAdded($html){$html.bind("click",function(){paused.player.isRemotelyLoaded()||$pdk.controller.pause(!1,paused.player.getScopes()),paused.player.publish("PausedStatePlayButton")})}var paused=this;paused.player.overlay.addContent(paused.$root).then(pausedButtonAdded)},window.SNI.Video.PausedState=PausedControlFactory;var defaults$24={enabled:!0,playButtonSrc:video.vpcBaseUrl+"/img/icon-play.png"};window.SNI.Video.Defaults.play=defaults$24,Play.prototype.OnShowPlayOverlay=function(payload){payload.data&&this.show()},Play.prototype.show=function(){this.$root.show()},Play.prototype.hide=function(){this.$root.hide()},Play.prototype.render=function(){function playButtonAdded($html){play.$root=$html,play.player.$container.find(".playerControls").css("visibility","hidden"),$html.bind("click",function(){$pdk.controller.clickPlayButton(play.player.getScopes()),play.hide(),play.player.$container.find(".playerControls").css("visibility","visible"),play.player.$container.find(".player").focus()})}var play=this;play.player.overlay.addContent(play.$root).then(playButtonAdded)},window.SNI.Video.Play=PlayFactory;var defaults$25={enabled:!0,apiKey:"3_sx4Mw2BJXu7W1RW5J3thi6Q4-XIpnIScejJqYzxU2D1h8M2VYjDNwLVLIAbYqmwK",socialNetworks:[{id:"twitter",name:"Twitter",unicodeValue:"",className:"socialTwitter"},{id:"facebook",name:"Facebook",unicodeValue:"",className:"socialFacebook"}]};window.SNI.Video.Defaults.social=defaults$25,Social.prototype.onMediaStart=function(event){var social=this,isAd=event.data.baseClip.isAd;social.$root.toggle(!isAd)},Social.prototype.render=function(){function socialControlsAdded(){social.$root.on("click",".socialNetwork button",function(){var networkId=jQuery$1(this).val();social.share(networkId)})}var social=this;social.$root=jQuery$1(template$21(this.settings)),social.player.controls.addControl(social.$root).then(socialControlsAdded)},Social.prototype.share=function(networkId){var publishAct,act=new gigya.socialize.UserAction,url=window.location.href,title=this.player.currentVideo.title||this.player.currentClip.title||window.title||"",description=this.player.currentVideo.description||this.player.currentClip.baseClip.description||"",thumbnail=this.player.currentVideo.thumbnailUrl||"";act.setTitle(title),act.setLinkBack(url),act.setDescription(description),act.addMediaItem({type:"image",src:thumbnail}),publishAct={provider:networkId,url:url,userAction:act},gigya.socialize.postBookmark(publishAct)},window.SNI.Video.Social=SocialFactory;var plugins={registerPdkPlugin:function(player,pluginName,baseSettings,html5Settings){return pluginName?void(html5Settings&&(html5Settings=merge({},baseSettings,html5Settings),util.log("Registering HTML5 Plugin for: "+pluginName,"SNI.Video.Player.registerPdkPlugin","INFO"),
player.pdk["plugin_HTML5_"+pluginName]=getSettingString(html5Settings))):void util.log("Attempted to register a PDK plugin without specifying a plugin name.","SNI.Video.Player.registerPdkPlugin","WARN")},loadPlugin:function(plugin,player){var startingPerformance,endingPerformance,loadTime,pluginSettings=player.config[plugin];player.modules[plugin]?util.log("The "+plugin+" plugin has already been loaded.","SNI.Video.Player.loadPlugin","WARN"):(util.log("Loading plugin: "+plugin,"SNI.Video.Player.loadPlugin","INFO"),loadTime=Date.now(),startingPerformance=performance$1.getCurrentPerformanceData(),player.modules[plugin]=getModuleFactory(plugin,pluginSettings.factory)(player,pluginSettings),endingPerformance=performance$1.getCurrentPerformanceData(),loadTime=(Date.now()-loadTime)/1e3,player.subscribe("PlayerReady",function(){player.publish("ModuleLoadStart",{moduleName:plugin,performanceSnapshot:startingPerformance}),player.publish("ModuleLoadFinish",{moduleName:plugin,performanceSnapshot:endingPerformance,moduleLoadTime:loadTime})}))},loadPlugins:function(player){var propName,property;player.config.alternateEndframe.frameId?(player.config.alternateEndframe.enabled=!0,player.config.embedEndframe.enabled=!1,player.config.endframe.enabled=!1):util.isEmbeddedPlayer()?(player.config.alternateEndframe.enabled=!1,player.config.embedEndframe.enabled=!0,player.config.endframe.enabled=!1):(player.config.alternateEndframe.enabled=!1,player.config.embedEndframe.enabled=!1);for(propName in player.config)player.config.hasOwnProperty(propName)&&(property=player.config[propName],player.config.hasOwnProperty(propName)&&isObject(property)&&property.enabled?plugins.loadPlugin(propName,player):"channels"===propName&&isArray(property)&&(player.modules[propName]=SNI.Video.Channels(player,player.config[propName])))}};window.SNI.Video.Plugins=plugins;var defaults$26={logLevel:"none",autoplay:!0,allowfullscreen:!0,mute:!1,ignoreOtherPlayers:!1,controls:{tapDisplayLength:4e3,fullscreenDisplayLength:3e3,fadeIn:300,fadeOut:300}};window.SNI&&window.SNI.Config&&window.SNI.Config.Video&&merge(defaults$26,window.SNI.Config.Video),window.SNI.Video.Defaults.player=defaults$26;var configuration={};configuration.getConfig=function(options){var allowfullscreen,config={};return util.log("Applying custom options passed into the player at instantiation. Takes precedence over site config and defaults","SNI.Video.Configuration.getConfig","INFO"),merge(config,{player:defaults$26},window.SNI.Video.Defaults,options),config.player.endCard="none",config.player.enableDynamicSubtitleFonts=!0,config.player.autoLoad=!0,config.player.showControlsBeforeVideo=!1,config.player.showControls=!1,config.player.scopes=config.player.containerId+"_scope",delete config.player.layoutUrl,delete config.player.skinUrl,allowfullscreen=config.fullscreen.enabled&&config.player.allowfullscreen,config.fullscreen.enabled=allowfullscreen,config.player.allowfullscreen=allowfullscreen,config},window.SNI.Video.Configuration=configuration,Player.prototype.hideControlRack=jQuery$1.noop,Player.prototype.showControlRack=jQuery$1.noop,Player.prototype.mute=function(){$pdk.controller.mute(!0,this.getScopes())},Player.prototype.unmute=function(){$pdk.controller.mute(!1,this.getScopes())},Player.prototype.pause=function(shouldPause){var player=this,scopes=player.getScopes();"undefined"==typeof shouldPause&&(shouldPause=!0),$pdk.controller.pause(shouldPause,scopes)},Player.prototype.publish=function(eventName,payload){events.publish(eventName,payload,this.getContainerId())},Player.prototype.subscribe=function(eventName,callback){events.subscribe(eventName,callback,this.getContainerId())},Player.prototype.unsubscribe=function(eventName,callback){events.unsubscribe(eventName,callback,this.getContainerId())},Player.prototype.loadReleaseUrl=function(releaseUrl,autoPlay){var player=this,scopes=player.getScopes(),isReplay=!1;return releaseUrl=releaseUrl.replace(/^https?\:\/\//i,"//"),releaseUrl="//"+releaseUrl.split("//").reverse().shift(),releaseUrl=util.addParameter(releaseUrl,"auto","true"),util.log("Loading release URL "+releaseUrl,"SNI.Video.Player.loadReleaseUrl","INFO"),player.isReady()?(player.endedNaturally=!1,$pdk.controller.clearCurrentRelease(scopes),autoPlay="undefined"==typeof autoPlay?player.config.player.autoplay:!!autoPlay,isReplay&&player.publish("Replay",{releaseUrl:releaseUrl,autoplay:autoPlay}),player.currentReleaseUrl=releaseUrl,autoPlay?$pdk.controller.setReleaseURL(releaseUrl,!0,scopes):$pdk.controller.loadReleaseURL(releaseUrl,!0,scopes),void(player.endedNaturally=!0)):void util.log("Attempted to play an asset prior to the player being ready.","SNI.Video.Player.loadReleaseUrl","WARN")},Player.prototype.play=function(videoInfo,autoPlay,userInitiated){function setInitiator(){"undefined"==typeof userInitiated?(player.currentVideo.videoInitiationType="unknown",util.log('The play method has been called without the "userInitiated" parameter. Please update calls to pass this parameter.',"SNI.Video.Player.Play","WARN")):player.currentVideo.videoInitiationType=userInitiated?"manual":"autoplay"}var player=this,scopes=player.getScopes();if(!player.isReady())return void util.log("Attempted to play an asset prior to the player being ready.","SNI.Video.Player.play","WARN");if("boolean"==typeof videoInfo&&(userInitiated=!!videoInfo,videoInfo=void 0,autoPlay=void 0),videoInfo||0===videoInfo){if("number"==typeof videoInfo){if(player.isSingleVideo)return;videoInfo>=0&&videoInfo<player.modules.channels.settings.channels[player.currentChannelIdx].total?player.setCurrentVideo(videoInfo):$pdk.controller.pause(!1,scopes)}else player.currentVideo=videoInfo;setInitiator(),player.loadReleaseUrl(player.currentVideo.releaseUrl,autoPlay)}else setInitiator(),$pdk.controller.clickPlayButton(scopes),$pdk.controller.pause(!1,scopes)},Player.prototype.getVideoType=function(){var $playerContainer=jQuery$1("#"+this.config.player.containerId);return $playerContainer.find("object").length>0?"flash":$playerContainer.find("video").length>0?"html5":"unknown"},window.SNI.Video.Player=Player,exports.Player=Player}(this.sniVideo=this.sniVideo||{});